import{K as Ce,r as d,m as X,j as e,L as _e}from"./app-BwBP25H8.js";import{A as we,a as De,b as Ae,c as Te}from"./accordion-COWLwr07.js";import{A as Z,a as ee}from"./alert-Dl5gl7Te.js";import{B as N}from"./badge-DoOGkZzG.js";import{c as Se,B as l}from"./button-Ce5sTJI0.js";import{C as Pe,a as Re,b as ke,c as Le}from"./card-C7OCBjvW.js";import{A as Ee,D as I,a as F,b as V,c as H,d as $,X as Me}from"./app-layout-o3KJvi82.js";import{I as T}from"./input-BnF1_wQI.js";import{L as c}from"./label-uz79b_uR.js";import{R as Oe,a as se}from"./radio-group-DCWW622J.js";import{S as B,a as U,b as z,c as W,d as h}from"./select-B--obqXo.js";import{T as re,a as ae,b as p,c as n,d as ie,e as t}from"./table-BCJXfVPN.js";import{T as Ie,a as Fe,b as te,c as ne}from"./tabs-BjBHBG-C.js";import{T as G}from"./textarea-17atU9IR.js";import{S as Ve,F as He}from"./users-BPzLc4qV.js";import{f as g}from"./format-B3rlCQGj.js";import{E as $e}from"./eye-q10uODIs.js";import{P as Be}from"./plus-BxUPJelB.js";import"./index-qOYF86Gd.js";import"./user-Kuo_8HIm.js";import"./scale-CD1twoLw.js";import"./index-jb01HAXI.js";import"./index-Bbpa0way.js";import"./index-DJjklhAC.js";import"./index-BuaqV0xT.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],b=Se("ArchiveRestore",Ue),ze=[{title:"Dashboard",href:"/dashboard"},{title:"Archives",href:"/archives"}],We=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}];function fs({archivedUsers:J,userRole:le}){const{props:ce}=Ce(),{flash:C,errors:_}=ce,[i,de]=d.useState(null),[oe,S]=d.useState(!1),[me,w]=d.useState(!1),[x,P]=d.useState(null),[he,D]=d.useState(!1),[o,R]=d.useState(null),[m,xe]=d.useState(""),[u,f]=d.useState([]),[Y,k]=d.useState(""),[q,L]=d.useState(""),[Ge,Je]=d.useState(!1),{post:ue,processing:y,setData:je}=X(),{post:ge,processing:A}=X(),K=s=>{P(s),f([{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]),k(""),L(""),w(!0)},ve=()=>{f([...u,{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}])},pe=s=>{u.length>1&&f(u.filter((r,a)=>a!==s))},j=(s,r,a)=>{const v=[...u];v[s]={...v[s],[r]:a},f(v)},fe=()=>{x&&(je({cases:u,unarchive_reason:Y,unarchive_remarks:q}),ue(route("user-pdl-archive.unarchive",x.id),{onSuccess:()=>{w(!1),P(null),f([]),k(""),L("")},onError:s=>{console.error("Unarchive errors:",s)}}))},ye=s=>{de(s),S(!0)},Ne=s=>{R(s),D(!0)},be=()=>{console.log("Personnel ID:",o.id),o&&ge(route("user-personnel-archive.restore",{personnelId:o.id}),{preserveScroll:!0,onSuccess:()=>{D(!1),R(null)},onError:s=>{console.error("Restore personnel errors:",s)}})},E=J.pdls.filter(s=>{var r,a;return s.fname.toLowerCase().includes(m.toLowerCase())||s.lname.toLowerCase().includes(m.toLowerCase())||((r=s.alias)==null?void 0:r.toLowerCase().includes(m.toLowerCase()))||s.archive_status.toLowerCase().includes(m.toLowerCase())||((a=s.archive_case_number)==null?void 0:a.toLowerCase().includes(m.toLowerCase()))}),M=J.personnel.filter(s=>s.name.toLowerCase().includes(m.toLowerCase())||s.username.toLowerCase().includes(m.toLowerCase())||s.position.toLowerCase().includes(m.toLowerCase())||s.agency.toLowerCase().includes(m.toLowerCase())),Q=s=>({RELEASE:"Release Order",BAIL:"Bail Order",SERVED_SENTENCE:"Served Sentence",PROBATION:"Probation Order",PAROLE:"Parole Order",TRANSFER:"Transfer Order",OTHER:"Other Court Order"})[s]||s,O=s=>({BONDED:"bg-green-100 text-green-800",SERVED_SENTENCE:"bg-blue-100 text-blue-800",PROV_DISMISSED:"bg-yellow-100 text-yellow-800",DISMISSED:"bg-gray-100 text-gray-800",TRANSFER_TO_OTHER_FACILITY:"bg-purple-100 text-purple-800",DAPECOL:"bg-orange-100 text-orange-800",PROBATION:"bg-indigo-100 text-indigo-800",DECEASED:"bg-red-100 text-red-800",ACQUITTED:"bg-green-100 text-green-800"})[s]||"bg-gray-100 text-gray-800";return e.jsxs(Ee,{breadcrumbs:ze,children:[e.jsx(_e,{title:"Archived Users"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[(C==null?void 0:C.success)&&e.jsx(Z,{className:"border-green-200 bg-green-50",children:e.jsx(ee,{className:"text-green-800",children:C.success})}),(_==null?void 0:_.error)&&e.jsx(Z,{className:"border-red-200 bg-red-50",children:e.jsx(ee,{className:"text-red-800",children:_.error})}),e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Archived Users Management"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage all archived PDLs and Personnel records"})]}),e.jsx("div",{className:"flex gap-2"})]}),e.jsxs(Pe,{children:[e.jsx(Re,{className:"border-b p-4",children:e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsx(ke,{className:"text-lg",children:"Archived Records"}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(Ve,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(T,{placeholder:"Search archives...",className:"pl-9",value:m,onChange:s=>xe(s.target.value)})]})]})}),e.jsx(Le,{className:"p-0",children:e.jsxs(Ie,{defaultValue:"pdls",className:"w-full",children:[e.jsxs(Fe,{className:"w-full justify-start rounded-none border-b bg-transparent p-0",children:[e.jsxs(te,{value:"pdls",className:"relative h-12 rounded-none border-b-2 border-b-transparent data-[state=active]:border-b-primary data-[state=active]:bg-background data-[state=active]:shadow-none",children:["PDLs",e.jsx(N,{variant:"secondary",className:"ml-2",children:E.length})]}),le==="admin"&&e.jsxs(te,{value:"personnel",className:"relative h-12 rounded-none border-b-2 border-b-transparent data-[state=active]:border-b-primary data-[state=active]:bg-background data-[state=active]:shadow-none",children:["Personnel",e.jsx(N,{variant:"secondary",className:"ml-2",children:M.length})]})]}),e.jsx(ne,{value:"pdls",className:"m-0",children:e.jsx("div",{className:"rounded-b-lg",children:e.jsxs(re,{children:[e.jsx(ae,{children:e.jsxs(p,{children:[e.jsx(n,{className:"w-[100px]",children:"ID"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Archive Status"}),e.jsx(n,{children:"Court Order Type"}),e.jsx(n,{children:"Case Number"}),e.jsx(n,{children:"Archived At"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(ie,{children:E.length>0?E.map(s=>e.jsxs(p,{className:"hover:bg-muted/50",children:[e.jsx(t,{className:"font-medium",children:s.id}),e.jsxs(t,{children:[e.jsxs("div",{className:"font-medium",children:[s.fname," ",s.lname]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.alias&&`Alias: ${s.alias}`,s.age&&` • Age: ${s.age}`,s.gender&&` • ${s.gender}`]})]}),e.jsx(t,{children:e.jsx(N,{className:O(s.archive_status),children:s.archive_status})}),e.jsx(t,{children:e.jsx("div",{className:"text-sm",children:Q(s.archive_court_order_type)})}),e.jsx(t,{children:e.jsx("div",{className:"font-mono text-sm",children:s.archive_case_number})}),e.jsx(t,{children:g(new Date(s.archived_at),"MMM dd, yyyy HH:mm")}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(l,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>ye(s),children:[e.jsx($e,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(l,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>K(s),disabled:y,children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Restore"]})]})})]},`pdl-${s.id}`)):e.jsx(p,{children:e.jsx(t,{colSpan:7,className:"h-24 text-center",children:e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx(b,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium",children:"No archived PDLs found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All PDL records are currently active"})]})})})})]})})}),e.jsx(ne,{value:"personnel",className:"m-0",children:e.jsx("div",{className:"rounded-b-lg",children:e.jsxs(re,{children:[e.jsx(ae,{children:e.jsxs(p,{children:[e.jsx(n,{className:"w-[100px]",children:"ID"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Username"}),e.jsx(n,{children:"Position"}),e.jsx(n,{children:"Agency"}),e.jsx(n,{children:"Archived At"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(ie,{children:M.length>0?M.map(s=>e.jsxs(p,{className:"hover:bg-muted/50",children:[e.jsx(t,{className:"font-medium",children:s.id}),e.jsxs(t,{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.type})]}),e.jsx(t,{children:s.username}),e.jsx(t,{children:s.position}),e.jsx(t,{children:s.agency}),e.jsx(t,{children:g(new Date(s.deleted_at),"MMM dd, yyyy HH:mm")}),e.jsx(t,{className:"text-right",children:e.jsxs(l,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>Ne(s),disabled:A,children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Restore"]})})]},`personnel-${s.id}`)):e.jsx(p,{children:e.jsx(t,{colSpan:7,className:"h-24 text-center",children:e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx(b,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium",children:"No archived personnel found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All personnel records are currently active"})]})})})})]})})})]})})]}),e.jsx(I,{open:oe,onOpenChange:S,children:e.jsxs(F,{className:"max-w-4xl",children:[e.jsxs(V,{children:[e.jsxs(H,{children:["Archive Details - ",i==null?void 0:i.fname," ",i==null?void 0:i.lname]}),e.jsx($,{children:"Complete archive information and court order documentation"})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",i.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",i.fname," ",i.lname]}),i.alias&&e.jsxs("div",{children:[e.jsx("strong",{children:"Alias:"})," ",i.alias]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Age:"})," ",i.age]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gender:"})," ",i.gender]}),i.birthdate&&e.jsxs("div",{children:[e.jsx("strong",{children:"Birthdate:"})," ",g(new Date(i.birthdate),"MMM dd, yyyy")]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Archive Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Status:"}),e.jsx(N,{className:`ml-2 ${O(i.archive_status)}`,children:i.archive_status})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Reason:"})," ",i.archive_reason]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",g(new Date(i.archived_at),"MMM dd, yyyy HH:mm")]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Court Order Documentation"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Type:"})," ",Q(i.archive_court_order_type)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Case Number:"})," ",e.jsx("span",{className:"font-mono",children:i.archive_case_number})]}),i.archive_court_order_date&&e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Date:"})," ",g(new Date(i.archive_court_order_date),"MMM dd, yyyy HH:mm")]})]}),e.jsx("div",{className:"space-y-2",children:i.archive_court_order_file&&e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Document:"}),e.jsx("div",{className:"mt-2",children:e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open(`/storage/${i.archive_court_order_file}`,"_blank"),children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"View Document"]})})]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 border-t pt-4",children:[e.jsx(l,{variant:"outline",onClick:()=>S(!1),children:"Close"}),e.jsxs(l,{onClick:()=>K(i),disabled:y,children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Unarchive PDL"]})]})]})]})}),e.jsx(I,{open:me,onOpenChange:w,children:e.jsxs(F,{className:"max-h-[90vh] max-w-md overflow-auto",children:[e.jsxs(V,{children:[e.jsx(H,{children:"Confirm Unarchive"}),e.jsx($,{children:"Are you sure you want to unarchive this PDL record?"})]}),x&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"PDL Information"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",x.fname," ",x.lname]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",x.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Status:"}),e.jsx(N,{className:`ml-2 ${O(x.archive_status)}`,children:x.archive_status})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",g(new Date(x.archived_at),"MMM dd, yyyy HH:mm")]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(c,{htmlFor:"unarchive_reason",children:["Reason for Unarchiving ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(G,{id:"unarchive_reason",value:Y,onChange:s=>k(s.target.value),placeholder:"Enter the reason for unarchiving this PDL...",rows:3})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"unarchive_remarks",children:"Additional Remarks"}),e.jsx(G,{id:"unarchive_remarks",value:q,onChange:s=>L(s.target.value),placeholder:"Enter any additional remarks or notes...",rows:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"New Case Information"}),e.jsxs(l,{type:"button",variant:"outline",size:"sm",onClick:ve,className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Add Case"]})]}),e.jsx(we,{type:"single",collapsible:!0,className:"w-full",children:u.map((s,r)=>e.jsxs(De,{value:`case-${r}`,children:[e.jsx(Ae,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex w-full items-center justify-between pr-4",children:[e.jsxs("span",{children:["Case ",r+1]}),u.length>1&&e.jsx(l,{type:"button",variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),pe(r)},className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Me,{className:"h-4 w-4"})})]})}),e.jsx(Te,{children:e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs(c,{htmlFor:`case_number_${r}`,children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(T,{id:`case_number_${r}`,value:s.case_number,onChange:a=>j(r,"case_number",a.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{children:[e.jsxs(c,{htmlFor:`crime_committed_${r}`,children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(B,{children:[e.jsx(U,{children:e.jsx(z,{placeholder:"Select crime committed"})}),e.jsx(W,{children:We.flatMap(a=>a.cases.map(v=>({value:v,label:v,category:a.category}))).map(a=>e.jsx(h,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{children:[e.jsxs(c,{htmlFor:`date_committed_${r}`,children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(T,{id:`date_committed_${r}`,type:"date",value:s.date_committed,onChange:a=>j(r,"date_committed",a.target.value)})]}),e.jsxs("div",{children:[e.jsxs(c,{htmlFor:`time_committed_${r}`,children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(T,{id:`time_committed_${r}`,type:"time",value:s.time_committed,onChange:a=>j(r,"time_committed",a.target.value)})]}),e.jsxs("div",{children:[e.jsxs(c,{htmlFor:`case_status_${r}`,children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(B,{value:s.case_status,onValueChange:a=>j(r,"case_status",a),children:[e.jsx(U,{children:e.jsx(z,{placeholder:"Select case status"})}),e.jsxs(W,{children:[e.jsx(h,{value:"open",children:"Open"}),e.jsx(h,{value:"pending",children:"Pending"}),e.jsx(h,{value:"on_trial",children:"On Trial"}),e.jsx(h,{value:"convicted",children:"Convicted"}),e.jsx(h,{value:"dismissed",children:"Dismissed"})]})]})]}),e.jsxs("div",{children:[e.jsxs(c,{htmlFor:`security_classification_${r}`,children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(B,{value:s.security_classification,onValueChange:a=>j(r,"security_classification",a),children:[e.jsx(U,{children:e.jsx(z,{placeholder:"Select classification"})}),e.jsxs(W,{children:[e.jsx(h,{value:"low",children:"Low"}),e.jsx(h,{value:"medium",children:"Medium"}),e.jsx(h,{value:"high",children:"High"}),e.jsx(h,{value:"maximum",children:"Maximum"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Drug Related"}),e.jsxs(Oe,{value:s.drug_related?"yes":"no",onValueChange:a=>j(r,"drug_related",a==="yes"),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{value:"yes",id:`drug_yes_${r}`}),e.jsx(c,{htmlFor:`drug_yes_${r}`,children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{value:"no",id:`drug_no_${r}`}),e.jsx(c,{htmlFor:`drug_no_${r}`,children:"No"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:`case_remarks_${r}`,children:"Case Remarks"}),e.jsx(G,{id:`case_remarks_${r}`,value:s.case_remarks,onChange:a=>j(r,"case_remarks",a.target.value),placeholder:"Enter case-related remarks...",rows:3})]})]})})]},r))})]}),e.jsx("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This action will restore the PDL record to active status and remove all archive information. The PDL will appear in the main list again."})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{variant:"outline",onClick:()=>{w(!1),P(null)},disabled:y,children:"Cancel"}),e.jsx(l,{onClick:fe,disabled:y,className:"bg-red-600 hover:bg-red-700",children:y?"Unarchiving...":"Yes, Unarchive PDL"})]})]})]})}),e.jsx(I,{open:he,onOpenChange:D,children:e.jsxs(F,{className:"max-w-md",children:[e.jsxs(V,{children:[e.jsx(H,{children:"Confirm Restore Personnel"}),e.jsx($,{children:"Are you sure you want to restore this personnel record?"})]}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"Personnel Information"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",o.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",o.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Username:"})," ",o.username]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Position:"})," ",o.position]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agency:"})," ",o.agency]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",g(new Date(o.deleted_at),"MMM dd, yyyy HH:mm")]})]})]}),e.jsx("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This action will restore the personnel record to active status. The personnel will be able to log in again and access the system."})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{variant:"outline",onClick:()=>{D(!1),R(null)},disabled:A,children:"Cancel"}),e.jsx(l,{onClick:be,disabled:A,className:"bg-green-600 hover:bg-green-700",children:A?"Restoring...":"Yes, Restore Personnel"})]})]})]})})]})]})}export{fs as default};
