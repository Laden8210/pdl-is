import{K as S,m as R,j as e,L as N}from"./app-DI5HTPUm.js";import{B as i}from"./button-BLRFfHHR.js";import{C as c,a as x,b as m,c as h}from"./card-BDwdSRvQ.js";import{I as T}from"./input-C9En1sRN.js";import{L as j}from"./label-BZhg47tc.js";import{S as L,a as P,b as w,c as A,d as p}from"./select-CJH047hW.js";import{T as D,a as E,b as u,c as k,d as I,e as B}from"./table-BDoZChkh.js";import{A as F}from"./app-layout-DBcP77Ru.js";import"./index-C4AXlaQI.js";import"./index-TmaKhjjb.js";import"./index-BIM3TK7A.js";import"./index-DOU2crpS.js";import"./users-DAxItDyi.js";import"./user-DVRbpvNU.js";import"./scale-DsVYcs7d.js";import"./eye-DVculWdR.js";const G=[{title:"Reports",href:"/reports"},{title:"Population Report",href:"/reports/population"}];function te(){const{props:g}=S(),{reportData:r,filters:a}=g,{data:s,setData:d,post:f,processing:l}=R({report_date:(a==null?void 0:a.report_date)||new Date().toISOString().split("T")[0],report_type:(a==null?void 0:a.report_type)||"age_sex",export_pdf:!1}),b=(t=!1)=>{f(route("reports.population.generate"),{...s,export_pdf:t})},_=()=>{const t=new URLSearchParams;t.append("report_date",s.report_date),t.append("report_type",s.report_type),t.append("export_pdf","true"),window.location.href=route("reports.population.generate")+"?"+t.toString()};return e.jsxs(F,{breadcrumbs:G,children:[e.jsx(N,{title:"Population Report"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Population Report"})}),e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(m,{children:"Report Parameters"})}),e.jsx(h,{children:e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"report_date",children:"Report Date"}),e.jsx(T,{id:"report_date",type:"date",value:s.report_date,onChange:t=>d("report_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"report_type",children:"Report Type"}),e.jsxs(L,{value:s.report_type,onValueChange:t=>d("report_type",t),children:[e.jsx(P,{children:e.jsx(w,{placeholder:"Select report type"})}),e.jsxs(A,{children:[e.jsx(p,{value:"age_sex",children:"Age and Sex"}),e.jsx(p,{value:"case_status",children:"Case Status"}),e.jsx(p,{value:"case_load",children:"Case Load"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(i,{onClick:()=>b(!1),disabled:l,className:"bg-blue-500 hover:bg-blue-600",children:l?"Generating...":"Generate Report"}),e.jsx(i,{onClick:_,disabled:l,variant:"outline",className:"bg-green-500 text-white hover:bg-green-600",children:"Export PDF"})]})]})})]}),r&&e.jsxs(c,{children:[e.jsx(x,{children:e.jsxs(m,{className:"text-center",children:[e.jsx("div",{children:"JAIL SERVICES"}),e.jsxs("div",{className:"text-lg font-normal",children:["as of ",r.report_date]}),e.jsx("div",{className:"text-lg font-normal",children:r.title})]})}),e.jsx(h,{children:e.jsxs(D,{children:[e.jsx(E,{children:e.jsx(u,{children:r.headers.map((t,o)=>e.jsx(k,{className:o===0?"text-left":"text-center",children:t},o))})}),e.jsx(I,{children:r.data.map((t,o)=>e.jsx(u,{className:t[r.headers[0].toLowerCase()]==="TOTAL"?"bg-gray-100 font-bold":"",children:r.headers.map((v,n)=>{const C=v.toLowerCase(),y=t[C]??t[Object.keys(t)[n]];return e.jsx(B,{className:n===0?"text-left":"text-center",children:y},n)})},o))})]})})]})]})]})}export{te as default};
