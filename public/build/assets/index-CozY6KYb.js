import{r as o,j as e,L as V,$ as l,S as z}from"./app-DLrhnnXh.js";import{B as t}from"./button-HUUzSUz6.js";import{I as H}from"./input-BmpagesG.js";import{L as i}from"./label-BeVFSzwf.js";import{S as g,a as v,b as S,c as N,d as n}from"./select-DdSVYYyX.js";import{C as y,a as C,b as w,d as b,c as T}from"./card-CXSWsgEw.js";import{B as D}from"./badge-bwR_h2UF.js";import{T as k,a as G,b as L,c as r,d as O,e as a}from"./table-DH4a7d7v.js";import{A as R}from"./app-layout-BHdstRiE.js";import{T as $}from"./triangle-alert-BPBgEZzR.js";import{P as _}from"./plus-CVXTZdxZ.js";import{S as A}from"./users-CupY9Yjp.js";import{E as q}from"./eye-D815Lj8o.js";import{S as K}from"./square-pen-DTN2Mt8u.js";import{D as M}from"./download-Cg5vPTnC.js";import"./index-BWNjX4Kh.js";import"./index-BEpbtvR2.js";import"./index-DbMfpF9E.js";import"./index-DgowjwTf.js";import"./user-BqI6Myw2.js";import"./scale-BW8tIRfq.js";function je({certificates:c,filters:d,certificateTypes:x,statuses:m}){const[j,F]=o.useState(d.search||""),[u,B]=o.useState(d.type||""),[p,E]=o.useState(d.status||""),f=()=>{z.get(route("certificates.index"),{search:j,type:u,status:p},{preserveState:!0,replace:!0})},I=s=>{switch(s){case"active":return"default";case"expired":return"destructive";case"revoked":return"secondary";default:return"outline"}},P=s=>{switch(s){case"drug_clearing_status":return"default";case"no_records":return"secondary";default:return"outline"}};return e.jsxs(R,{children:[e.jsx(V,{title:"Certificates"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Certificates"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and generate certificates for PDLs"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{href:route("certificates.expiring"),children:e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Expiring Soon"]})}),e.jsx(l,{href:route("certificates.create"),children:e.jsxs(t,{children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Generate Certificate"]})})]})]}),e.jsxs(y,{children:[e.jsxs(C,{children:[e.jsx(w,{children:"Filters"}),e.jsx(b,{children:"Search and filter certificates"})]}),e.jsx(T,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(H,{id:"search",placeholder:"Search certificates...",value:j,onChange:s=>F(s.target.value),className:"pl-10",onKeyPress:s=>s.key==="Enter"&&f()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"type",children:"Certificate Type"}),e.jsxs(g,{value:u,onValueChange:B,children:[e.jsx(v,{children:e.jsx(S,{placeholder:"All types"})}),e.jsxs(N,{children:[e.jsx(n,{value:"",children:"All types"}),Object.entries(x).map(([s,h])=>e.jsx(n,{value:s,children:h},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"status",children:"Status"}),e.jsxs(g,{value:p,onValueChange:E,children:[e.jsx(v,{children:e.jsx(S,{placeholder:"All statuses"})}),e.jsxs(N,{children:[e.jsx(n,{value:"",children:"All statuses"}),Object.entries(m).map(([s,h])=>e.jsx(n,{value:s,children:h},s))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Â "}),e.jsxs(t,{onClick:f,className:"w-full",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Search"]})]})]})})]}),e.jsxs(y,{children:[e.jsxs(C,{children:[e.jsxs(w,{children:["Certificates (",c.data.length,")"]}),e.jsx(b,{children:"List of all generated certificates"})]}),e.jsx(T,{children:c.data.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground",children:"No certificates found."}),e.jsx(l,{href:route("certificates.create"),children:e.jsxs(t,{className:"mt-4",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Generate First Certificate"]})})]}):e.jsxs(k,{children:[e.jsx(G,{children:e.jsxs(L,{children:[e.jsx(r,{children:"Certificate #"}),e.jsx(r,{children:"Type"}),e.jsx(r,{children:"PDL"}),e.jsx(r,{children:"Issuer"}),e.jsx(r,{children:"Issue Date"}),e.jsx(r,{children:"Valid Until"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Actions"})]})}),e.jsx(O,{children:c.data.map(s=>e.jsxs(L,{children:[e.jsx(a,{className:"font-medium",children:s.certificate_number}),e.jsx(a,{children:e.jsx(D,{variant:P(s.certificate_type),children:x[s.certificate_type]})}),e.jsxs(a,{children:[s.pdl.fname," ",s.pdl.lname]}),e.jsxs(a,{children:[s.issuer.fname," ",s.issuer.lname]}),e.jsx(a,{children:new Date(s.issue_date).toLocaleDateString()}),e.jsx(a,{children:s.valid_until?new Date(s.valid_until).toLocaleDateString():"N/A"}),e.jsx(a,{children:e.jsx(D,{variant:I(s.status),children:m[s.status]})}),e.jsx(a,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{href:route("certificates.show",s.id),children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(l,{href:route("certificates.edit",s.id),children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(K,{className:"h-4 w-4"})})}),s.file_path&&e.jsx(l,{href:route("certificates.download",s.id),children:e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(M,{className:"h-4 w-4"})})})]})})]},s.id))})]})})]})]})]})}export{je as default};
