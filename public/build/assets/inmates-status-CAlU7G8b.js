import{m as T,j as e,L as S,R as L}from"./app-0i_fFd18.js";import{B as b}from"./button-OH02krXJ.js";import{C as c,a as p,b as N,d as g,c as n}from"./card-CY_EzAZa.js";import{I as o,a as A}from"./input-Ck-TdrSf.js";import{L as m}from"./label-CS0UIooq.js";import{T as R,a as E,b as h,c as d,d as F,e as a}from"./table-k_TbSi63.js";import{A as I,a as P}from"./alert-H5bhuK7p.js";import{A as O}from"./app-layout-DMq9_fqY.js";import{C as y}from"./scale-Bjeu-qsv.js";import{F as B,U as u}from"./users-CJDzaCO4.js";import{D as M}from"./download-DNe8aGal.js";import"./index-D_lPPXtr.js";import"./index-C0U5jhjx.js";import"./user-IpuL6Ol5.js";import"./eye-YhM80ZuI.js";function D({reportData:s,filters:r}){const{data:l,setData:x,post:_,processing:j}=T({start_date:(r==null?void 0:r.start_date)||new Date().toISOString().split("T")[0],export_pdf:!1,end_date:(r==null?void 0:r.end_date)||new Date().toISOString().split("T")[0],prepared_by:"",noted_by:""}),v=(t=!1)=>{x("export_pdf",t),_(route("reports.inmates-status.generate"))},C=()=>{const t=new URLSearchParams;t.append("start_date",l.start_date),t.append("end_date",l.end_date),t.append("prepared_by",l.prepared_by),t.append("noted_by",l.noted_by),console.log(t.toString()),console.log(route("reports.inmates-status.export")+"?"+t.toString()),window.location.href=route("reports.inmates-status.export")+"?"+t.toString()};return e.jsxs(O,{children:[e.jsx(S,{title:"Inmates Status Report - South Cotabato Rehabilitation and Detention Center"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Inmates Status Report"}),e.jsx("p",{className:"text-muted-foreground",children:"Status Report as to the Total Number of Detainees"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s?`From ${new Date(s.start_date).toLocaleDateString()} to ${new Date(s.end_date).toLocaleDateString()}`:"Select Date"})]})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(N,{children:"Generate Status Report"}),e.jsx(g,{children:"Select the date for the inmates status report"})]}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"start_date",children:"Start Date"}),e.jsx(o,{id:"start_date",type:"date",value:l.start_date,onChange:t=>x("start_date",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"end_date",children:"End Date"}),e.jsx(o,{id:"end_date",type:"date",value:l.end_date,onChange:t=>x("end_date",t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"prepared_by",children:"Prepared By"}),e.jsx(o,{id:"prepared_by",value:l.prepared_by,onChange:t=>x("prepared_by",t.target.value),placeholder:"e.g., PEMS Edwin P. Arroyo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"noted_by",children:"Noted By"}),e.jsx(o,{id:"noted_by",value:l.noted_by,onChange:t=>x("noted_by",t.target.value),placeholder:"e.g., PEMS Edwin P. Arroyo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:" "}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(b,{onClick:()=>v(!1),disabled:j,className:"flex-1",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),j?"Generating...":"Generate Report"]}),e.jsxs(b,{onClick:()=>C(),disabled:j,variant:"outline",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})]})})]}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Male"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.male})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-8 w-8 text-pink-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Female"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.female})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total CICL"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.cicl})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Grand Total"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.total})]})]})})})]}),e.jsxs(c,{children:[e.jsxs(p,{children:[e.jsx(N,{className:"text-center",children:s.title}),e.jsxs(g,{className:"text-center",children:[s.facility_name," - ",s.location]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Tel: ",s.contact.tel," | Email: ",s.contact.email]}),e.jsxs("div",{className:"text-center text-sm font-medium",children:["As of ",s.as_of_date]})]}),e.jsx(n,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(R,{children:[e.jsx(E,{children:e.jsxs(h,{children:[e.jsx(d,{className:"text-center",children:"COURT"}),e.jsx(d,{className:"text-center",children:"STATION"}),e.jsx(d,{className:"text-center",children:"BRANCH"}),e.jsx(d,{className:"text-center",children:"MALE"}),e.jsx(d,{className:"text-center",children:"FEMALE"}),e.jsx(d,{className:"text-center",children:"CICL"}),e.jsx(d,{className:"text-center",children:"TOTAL"})]})}),e.jsxs(F,{children:[Object.entries(s.court_data).map(([t,w])=>e.jsx(L.Fragment,{children:w.stations.map((i,f)=>e.jsxs(h,{children:[e.jsx(a,{className:"font-medium",children:f===0?t:""}),e.jsx(a,{className:"text-center",children:i.station}),e.jsx(a,{className:"text-center",children:i.branch}),e.jsx(a,{className:"text-center",children:i.male}),e.jsx(a,{className:"text-center",children:i.female}),e.jsx(a,{className:"text-center",children:i.cicl}),e.jsx(a,{className:"text-center font-semibold",children:i.total})]},`${t}-${f}`))},t)),e.jsxs(h,{className:"bg-gray-50 font-semibold",children:[e.jsx(a,{colSpan:3,className:"text-right",children:"SUB TOTAL:"}),e.jsx(a,{className:"text-center",children:s.totals.male}),e.jsx(a,{className:"text-center",children:s.totals.female}),e.jsx(a,{className:"text-center",children:s.totals.cicl}),e.jsx(a,{className:"text-center font-bold",children:s.totals.total})]}),e.jsxs(h,{className:"bg-yellow-50 font-bold",children:[e.jsx(a,{colSpan:3,className:"text-right",children:"TOTAL:"}),e.jsx(a,{className:"text-center",children:s.totals.male}),e.jsx(a,{className:"text-center",children:s.totals.female}),e.jsx(a,{className:"text-center",children:s.totals.cicl}),e.jsx(a,{className:"text-center font-bold text-lg",children:s.totals.total})]})]})]})})})]}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:l.prepared_by}),e.jsx("div",{className:"border-b border-gray-300 w-48 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Prepared by:"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium",children:l.prepared_by}),e.jsx("div",{className:"border-b border-gray-300 w-48 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Noted by:"})]})]})})}),s.totals.total===0&&e.jsxs(I,{children:[e.jsx(A,{className:"h-4 w-4"}),e.jsxs(P,{children:["No detainees found as of ",s.as_of_date,". This could mean there were no detainees on this date."]})]})]}),!s&&e.jsxs(c,{children:[e.jsx(p,{children:e.jsx(N,{children:"Instructions"})}),e.jsx(n,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Select the date for which you want to generate the inmates status report"}),e.jsx("p",{children:"• The report will show detainee counts by court jurisdiction"}),e.jsx("p",{children:"• Data includes male, female, and CICL (Children in Conflict with the Law) counts"}),e.jsx("p",{children:"• Court categories include Regional Trial Court, Municipal Trial Court, and Family Court"}),e.jsx("p",{children:"• Export the report as PDF for official documentation"})]})})]})]})]})}export{D as default};
