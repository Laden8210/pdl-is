import{m as A,K as N,j as e,S as K,r as _,L as T}from"./app-CkjVUU59.js";import{D as F,e as L,a as M,b as I,c as w,d as U,f as V,g as O,A as k}from"./app-layout-vrWSsAU7.js";import{C as B,a as q,b as E,c as G}from"./card-b7pFIFqg.js";import{B as d}from"./button-CS9pYMNS.js";import{A as u,b as j,a as p}from"./alert-D_nwV_qx.js";import{I as o}from"./input-C2xR4rTE.js";import{L as t}from"./label-Cjy6A07I.js";import{S as v,a as C,b as f,c as y,d as n}from"./select-BIk0gLjN.js";import{D as z}from"./data-table-sxybEEgA.js";import{B as D}from"./badge-DcqWBj_M.js";import"./index-X7ery47K.js";import"./users-Dd6DLI4e.js";import"./user-DpuxeTIK.js";import"./scale-BUONvCuK.js";import"./eye-wzaMQ2CV.js";import"./index-cwAe7n8P.js";import"./index-BI62vUyE.js";import"./index-BnmU9NMb.js";import"./table-DR1OUpAs.js";function H(){const{data:s,setData:l,post:i,processing:x,errors:m,reset:c}=A({cell_name:"",capacity:"",gender:"male",description:"",status:"active"}),{props:b}=N(),g=b.success,h=a=>{const r=a.target.name;l(r,a.target.value)},S=a=>{a.preventDefault(),i(route("cell.create"),{preserveScroll:!0,onSuccess:()=>c()})};return e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Create Cell"})}),e.jsxs(M,{className:"sm:max-w-2xl",children:[e.jsxs(I,{children:[e.jsx(w,{children:"Create Cell"}),e.jsx(U,{children:"Fill in the details to register a new cell."})]}),e.jsxs("form",{onSubmit:S,className:"mx-auto w-full space-y-4",children:[Object.keys(m).length>0&&e.jsxs(u,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(j,{children:"Unable to process request"}),e.jsx(p,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(m).map((a,r)=>e.jsx("li",{children:a},r))})})]}),g&&e.jsxs(u,{variant:"default",className:"mb-4",children:[e.jsx(j,{children:"Success"}),e.jsx(p,{children:g})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(o,{id:"cell_name",name:"cell_name",value:s.cell_name,onChange:h})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"capacity",children:"Capacity"}),e.jsx(o,{id:"capacity",name:"capacity",type:"number",value:s.capacity,onChange:h})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Gender"}),e.jsxs(v,{value:s.gender,onValueChange:a=>l("gender",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select gender"})}),e.jsxs(y,{children:[e.jsx(n,{value:"male",children:"Male"}),e.jsx(n,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Status"}),e.jsxs(v,{value:s.status,onValueChange:a=>l("status",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select status"})}),e.jsxs(y,{children:[e.jsx(n,{value:"active",children:"Active"}),e.jsx(n,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx(o,{id:"description",name:"description",value:s.description,onChange:h})]})]}),e.jsxs(V,{children:[e.jsx(d,{type:"submit",disabled:x,children:"Create"}),e.jsx(O,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}function R({cell:s}){const l=()=>{K.get("/admin/pdl-management/cell-activity-log",{cell_id:s.cell_id})};return e.jsx(d,{variant:"outline",size:"sm",onClick:l,children:"View Cell Log"})}function J({cell:s}){const{data:l,setData:i,post:x,processing:m,errors:c,reset:b}=A({cell_id:s.cell_id,cell_name:s.cell_name,capacity:s.capacity.toString(),gender:s.gender,description:s.description??"",status:s.status}),{props:g}=N(),h=g.success,S=a=>{a.preventDefault(),x(route("cell.update"),{preserveScroll:!0,onSuccess:()=>b()})};return e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",children:"Edit"})}),e.jsxs(M,{className:"sm:max-w-2xl",children:[e.jsxs(I,{children:[e.jsx(w,{children:"Update Cell"}),e.jsx(U,{children:"Modify the cell information and save changes."})]}),Object.keys(c).length>0&&e.jsxs(u,{variant:"destructive",className:"mb-4",children:[e.jsx(j,{children:"Unable to process request"}),e.jsx(p,{children:Object.values(c).map((a,r)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:a})},r))})]}),h&&e.jsxs(u,{variant:"default",className:"mb-4",children:[e.jsx(j,{children:"Success"}),e.jsx(p,{children:h})]}),e.jsxs("form",{onSubmit:S,className:"mx-auto w-full space-y-4",children:[Object.keys(c).length>0&&e.jsxs(u,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(j,{children:"Unable to process request"}),e.jsx(p,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(c).map((a,r)=>e.jsx("li",{children:a},r))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(o,{id:"cell_name",name:"cell_name",value:l.cell_name,onChange:a=>i("cell_name",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"capacity",children:"Capacity"}),e.jsx(o,{id:"capacity",name:"capacity",type:"number",value:l.capacity,onChange:a=>i("capacity",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Gender"}),e.jsxs(v,{value:l.gender,onValueChange:a=>i("gender",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select gender"})}),e.jsxs(y,{children:[e.jsx(n,{value:"male",children:"Male"}),e.jsx(n,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Status"}),e.jsxs(v,{value:l.status,onValueChange:a=>i("status",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select status"})}),e.jsxs(y,{children:[e.jsx(n,{value:"active",children:"Active"}),e.jsx(n,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx(o,{id:"description",name:"description",value:l.description,onChange:a=>i("description",a.target.value)})]})]}),e.jsxs(V,{children:[e.jsx(d,{type:"submit",disabled:m,children:"Update"}),e.jsx(O,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}const P=[{accessorKey:"cell_name",header:"Cell Name"},{accessorKey:"description",header:"Description",cell:({row:s})=>s.original.description||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{accessorKey:"capacity",header:"Capacity"},{accessorKey:"gender",header:"Gender",cell:({row:s})=>e.jsx(D,{variant:s.original.gender==="male"?"default":"secondary",children:s.original.gender.charAt(0).toUpperCase()+s.original.gender.slice(1)})},{id:"occupied",header:"Occupied",cell:({row:s})=>s.original.assignments_count??0},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx(D,{variant:s.original.status==="active"?"default":"destructive",children:s.original.status.charAt(0).toUpperCase()+s.original.status.slice(1)})},{id:"actions",header:"Actions",cell:({row:s})=>{const l=s.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{cell:{...l,description:l.description??""}}),e.jsx(R,{cell:l})]})}}],Q=[{title:"Cell Management",href:"/cell-management"}];function ue(){const{props:s}=N(),{cells:l}=s,[i,x]=_.useState(""),m=_.useMemo(()=>i?l.filter(c=>c.cell_name.toLowerCase().includes(i.toLowerCase())):l,[l,i]);return e.jsxs(k,{breadcrumbs:Q,children:[e.jsx(T,{title:"Cell Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Cell Management"}),e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cell List"}),e.jsx(H,{})]})})}),e.jsxs(G,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(t,{htmlFor:"search",className:"text-sm font-medium",children:"Search Cells"}),e.jsx(o,{id:"search",placeholder:"Search by cell name",className:"w-64",value:i,onChange:c=>x(c.target.value)})]}),e.jsx(z,{data:m,columns:P})]})]})]})]})}export{ue as default};
