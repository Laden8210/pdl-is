import{K as m,m as C,j as e,L as b,S as o}from"./app-Cw2Ola3T.js";import{A as N}from"./app-layout-B1I5xyFJ.js";import{B as c}from"./button-HtDwNjna.js";import{C as M,a as R,b as A,c as S}from"./card-CHhZ3kiV.js";import{I as w}from"./input-C-67zMx9.js";import{L as t}from"./label-Cw4YEQsI.js";import{T as d}from"./textarea-Dg69WI72.js";import{A as x,b as h,a as j}from"./alert-CFenGozM.js";import{A as D}from"./arrow-left-BTDqadLz.js";import{f as E}from"./format-B3rlCQGj.js";import"./index-BsnjEC5y.js";import"./users-DyBO1Rb7.js";import"./user-C4YKFnWN.js";import"./scale-Bevs8Hfo.js";import"./eye-qJth3wRO.js";import"./circle-alert-DjBpCXZi.js";import"./index-DeIeTENR.js";const F=[{title:"Medical Records",href:"/pdl-management/medical-records"},{title:"Edit Medical Record",href:"#"}];function W(){const{props:u}=m(),{record:i}=u,{data:r,setData:a,put:g,processing:n,errors:l}=C({pdl_id:i.pdl_id.toString(),complaint:i.complaint||"",date:i.date?E(new Date(i.date),"yyyy-MM-dd"):"",prognosis:i.prognosis||"",prescription:i.prescription||"",findings:i.findings||""}),f=s=>{s.preventDefault(),g(route("medical-records.update",i.medical_record_id),{preserveScroll:!0,onSuccess:()=>{o.visit(route("medical-records.index"))}})},{props:v}=m(),p=v.success;return e.jsxs(N,{breadcrumbs:F,children:[e.jsx(b,{title:"Edit Medical Record"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>o.visit(route("medical-records.index")),children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Back to Medical Records"]}),e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Medical Record"})]}),Object.keys(l).length>0&&e.jsxs(x,{variant:"destructive",children:[e.jsx(h,{children:"Error"}),e.jsx(j,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(l).map((s,y)=>e.jsx("li",{children:s},y))})})]}),p&&e.jsxs(x,{variant:"default",children:[e.jsx(h,{children:"Success"}),e.jsx(j,{children:p})]}),e.jsxs(M,{children:[e.jsx(R,{children:e.jsx(A,{children:"Medical Record Details"})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"date",children:"Date"}),e.jsx(w,{type:"date",id:"date",value:r.date,onChange:s=>a("date",s.target.value),required:!0})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"complaint",children:"Complaint"}),e.jsx(d,{id:"complaint",value:r.complaint,onChange:s=>a("complaint",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"findings",children:"Findings"}),e.jsx(d,{id:"findings",value:r.findings,onChange:s=>a("findings",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"prognosis",children:"Prognosis"}),e.jsx(d,{id:"prognosis",value:r.prognosis,onChange:s=>a("prognosis",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"prescription",children:"Prescription"}),e.jsx(d,{id:"prescription",value:r.prescription,onChange:s=>a("prescription",s.target.value),rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>o.visit(route("medical-records.index")),children:"Cancel"}),e.jsx(c,{type:"submit",disabled:n,children:n?"Updating...":"Update Record"})]})]})})]})]})]})}export{W as default};
