import{m as y,K as C,j as e,S as _,r as T,L as A}from"./app-ChwqrLNZ.js";import{D as H}from"./data-table-DlTuQZW3.js";import{C as R,a as B,b as O,c as U}from"./card-6anTMHL3.js";import{I as c}from"./index-C_ONdKZK.js";import{L as l}from"./label-6Y6bVX-P.js";import{D as f,e as k,a as b,b as N,c as D,d as S,f as w,g as F,A as V}from"./app-layout-JoyJOhIM.js";import{B as o}from"./button-ybKEk3Gc.js";import{A as j,a as p,b as g}from"./alert-BKNYv0Ed.js";import{S as q,a as P,b as L,c as E,d as I}from"./select-CAjyEDjM.js";import{T as M}from"./textarea-BCaCP6e7.js";import{D as W,a as $,E as z,b as G,c as J,d as v}from"./dropdown-menu-ADTc0axQ.js";import"./table-DuL7Ke1k.js";import"./utils-DcuYUYn6.js";import"./user-B9jMjB4t.js";import"./users-CDTKTy0x.js";import"./index-BtAPiFXe.js";import"./index-CTVrZAOy.js";function Q({pdls:t}){const{data:i,setData:a,post:n,processing:d,errors:h,reset:m}=y({pdl_id:"",height:170,weight:70,build:"",complexion:"",hair_color:"",eye_color:"",identification_marks:"",mark_location:"",remark:""}),u=s=>{s.preventDefault(),n(route("physical-characteristics.store"),{preserveScroll:!0,onSuccess:()=>m()})},{props:x}=C(),r=x.success;return e.jsxs(f,{children:[e.jsx(k,{asChild:!0,children:e.jsx(o,{variant:"outline",children:"Create Record"})}),e.jsxs(b,{className:"sm:max-w-3xl",children:[e.jsxs(N,{children:[e.jsx(D,{children:"Create Physical Characteristic"}),e.jsx(S,{children:"Fill in the physical details"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[Object.keys(h).length>0&&e.jsxs(j,{variant:"destructive",children:[e.jsx(p,{children:"Error"}),e.jsx(g,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(h).map((s,K)=>e.jsx("li",{children:s},K))})})]}),r&&e.jsxs(j,{variant:"default",className:"mb-4",children:[e.jsx(p,{children:"Success"}),e.jsx(g,{children:r})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"PDL (Person Deprived of Liberty)"}),e.jsxs(q,{value:i.pdl_id,onValueChange:s=>a("pdl_id",s),required:!0,children:[e.jsx(P,{children:e.jsx(L,{placeholder:"Select a PDL"})}),e.jsx(E,{children:t.map(s=>e.jsxs(I,{value:s.id.toString(),children:[s.fname," ",s.lname," (ID: ",s.id,")"]},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"height",children:"Height (cm)"}),e.jsx(c,{type:"number",id:"height",min:"100",max:"250",value:i.height,onChange:s=>a("height",parseFloat(s.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(c,{type:"number",id:"weight",min:"30",max:"300",value:i.weight,onChange:s=>a("weight",parseFloat(s.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"build",children:"Build"}),e.jsx(c,{id:"build",value:i.build,onChange:s=>a("build",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"complexion",children:"Complexion"}),e.jsx(c,{id:"complexion",value:i.complexion,onChange:s=>a("complexion",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"hair_color",children:"Hair Color"}),e.jsx(c,{id:"hair_color",value:i.hair_color,onChange:s=>a("hair_color",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"eye_color",children:"Eye Color"}),e.jsx(c,{id:"eye_color",value:i.eye_color,onChange:s=>a("eye_color",s.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"identification_marks",children:"Identification Marks"}),e.jsx(c,{id:"identification_marks",value:i.identification_marks,onChange:s=>a("identification_marks",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"mark_location",children:"Mark Location"}),e.jsx(c,{id:"mark_location",value:i.mark_location,onChange:s=>a("mark_location",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"remark",children:"Remarks"}),e.jsx(M,{id:"remark",value:i.remark,onChange:s=>a("remark",s.target.value),rows:3})]}),e.jsxs(w,{children:[e.jsx(F,{asChild:!0,children:e.jsx(o,{variant:"outline",children:"Cancel"})}),e.jsx(o,{type:"submit",disabled:d,children:d?"Creating...":"Create Record"})]})]})]})]})}function X({characteristic:t,pdls:i}){const{data:a,setData:n,put:d,processing:h,errors:m,reset:u}=y({pdl_id:t.pdl_id.toString(),height:t.height,weight:t.weight,build:t.build,complexion:t.complexion,hair_color:t.hair_color,eye_color:t.eye_color,identification_marks:t.identification_marks,mark_location:t.mark_location,remark:t.remark||""}),x=r=>{r.preventDefault(),d(route("physical-characteristics.update",t.characteristic_id),{preserveScroll:!0,onSuccess:()=>u()})};return e.jsxs(f,{children:[e.jsx(k,{asChild:!0,children:e.jsx(o,{variant:"ghost",className:"w-full justify-start",children:"Edit"})}),e.jsxs(b,{className:"sm:max-w-3xl",children:[e.jsxs(N,{children:[e.jsx(D,{children:"Edit Physical Characteristic"}),e.jsx(S,{children:"Update the physical details"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[Object.keys(m).length>0&&e.jsxs(j,{variant:"destructive",children:[e.jsx(p,{children:"Error"}),e.jsx(g,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(m).map((r,s)=>e.jsx("li",{children:r},s))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"PDL (Person Deprived of Liberty)"}),e.jsxs(q,{value:a.pdl_id,onValueChange:r=>n("pdl_id",r),required:!0,children:[e.jsx(P,{children:e.jsx(L,{placeholder:"Select a PDL"})}),e.jsx(E,{children:i.map(r=>e.jsxs(I,{value:r.id.toString(),children:[r.fname," ",r.lname," (ID: ",r.id,")"]},r.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"height",children:"Height (cm)"}),e.jsx(c,{type:"number",id:"height",min:"100",max:"250",value:a.height,onChange:r=>n("height",parseFloat(r.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(c,{type:"number",id:"weight",min:"30",max:"300",value:a.weight,onChange:r=>n("weight",parseFloat(r.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"build",children:"Build"}),e.jsx(c,{id:"build",value:a.build,onChange:r=>n("build",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"complexion",children:"Complexion"}),e.jsx(c,{id:"complexion",value:a.complexion,onChange:r=>n("complexion",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"hair_color",children:"Hair Color"}),e.jsx(c,{id:"hair_color",value:a.hair_color,onChange:r=>n("hair_color",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"eye_color",children:"Eye Color"}),e.jsx(c,{id:"eye_color",value:a.eye_color,onChange:r=>n("eye_color",r.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"identification_marks",children:"Identification Marks"}),e.jsx(c,{id:"identification_marks",value:a.identification_marks,onChange:r=>n("identification_marks",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"mark_location",children:"Mark Location"}),e.jsx(c,{id:"mark_location",value:a.mark_location,onChange:r=>n("mark_location",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"remark",children:"Remarks"}),e.jsx(M,{id:"remark",value:a.remark,onChange:r=>n("remark",r.target.value),rows:3})]}),e.jsxs(w,{children:[e.jsx(F,{asChild:!0,children:e.jsx(o,{variant:"outline",children:"Cancel"})}),e.jsx(o,{type:"submit",disabled:h,children:h?"Updating...":"Update Record"})]})]})]})]})}const Y=[{id:"pdl",header:"PDL",cell:({row:t})=>{const i=t.original.pdl;return i?`${i.fname} ${i.lname}`:`ID: ${t.original.pdl_id}`}},{accessorKey:"height",header:"Height (cm)"},{accessorKey:"weight",header:"Weight (kg)"},{accessorKey:"build",header:"Build"},{accessorKey:"complexion",header:"Complexion"},{accessorKey:"hair_color",header:"Hair Color"},{accessorKey:"eye_color",header:"Eye Color"},{id:"actions",header:"Actions",cell:({row:t})=>{const i=t.original;return e.jsxs(W,{children:[e.jsx($,{asChild:!0,children:e.jsxs(o,{variant:"ghost",size:"icon",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(z,{className:"h-4 w-4"})]})}),e.jsxs(G,{align:"end",children:[e.jsx(J,{children:"Actions"}),e.jsx(v,{asChild:!0,children:e.jsx(X,{characteristic:i,pdls:[]})}),e.jsx(v,{onClick:()=>_.delete(route("physical-characteristics.destroy",i.characteristic_id)),className:"text-red-500",children:"Delete"})]})]})}}],Z=[{title:"Physical Characteristics",href:"/physical-characteristics"}];function ge(){const{props:t}=C(),{characteristics:i,pdls:a,filters:n}=t,[d,h]=T.useState((n==null?void 0:n.search)||""),m=()=>{_.get("/physical-characteristics",{search:d},{preserveState:!0,replace:!0})},u=x=>{x.key==="Enter"&&m()};return e.jsxs(V,{breadcrumbs:Z,children:[e.jsx(A,{title:"Physical Characteristics Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Physical Characteristics"}),e.jsxs(R,{children:[e.jsx(B,{children:e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Physical Characteristics"}),e.jsx(Q,{pdls:a})]})})}),e.jsxs(U,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(l,{htmlFor:"search",className:"text-sm font-medium",children:"Search Characteristics"}),e.jsx(c,{id:"search",placeholder:"Search by build, complexion, PDL name, etc.",className:"w-64 md:w-96",value:d,onChange:x=>h(x.target.value),onKeyDown:u}),e.jsx(o,{variant:"outline",onClick:m,children:"Search"})]}),e.jsx(H,{data:i,columns:Y})]})]})]})]})}export{ge as default};
