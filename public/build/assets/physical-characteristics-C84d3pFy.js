import{m as _,K as N,j as e,S as k,r as H,L as R}from"./app-ComDjZnt.js";import{D as B}from"./data-table-Jw0yEYMC.js";import{C as O,a as U,b as V,c as W}from"./card-DysgWUbO.js";import{I as n}from"./input-K0Qk0HNA.js";import{L as c}from"./label-D7-ESfDA.js";import{D as b,e as D,a as w,b as S,c as F,d as P,f as q,g as L,A as $}from"./app-layout-CQUFQldb.js";import{B as m}from"./button-CvEfsPre.js";import{A as g,b as v,a as y}from"./alert-DdQUG61h.js";import{S as E,a as I,b as M,c as T,d as K}from"./select-D3GizBEP.js";import{T as A}from"./textarea-BCoba47n.js";import{D as z,a as G,E as J,b as Q,c as X,d as f}from"./dropdown-menu-5lTkt48E.js";import"./table-Bw0EwsBe.js";import"./index-Bpe871pD.js";import"./users-Be-d0Qcs.js";import"./user-DDqHKi5T.js";import"./scale-NzznseH8.js";import"./eye-C1nbeBXd.js";import"./index-DwKaq7lm.js";import"./index-D6vQNB0D.js";function Y({pdls:t}){const{data:i,setData:a,post:l,processing:o,errors:d,reset:h}=_({pdl_id:"",height:170,weight:70,build:"",complexion:"",hair_color:"",eye_color:"",identification_marks:"",mark_location:"",remark:""}),u=r=>{r.preventDefault(),l(route("physical-characteristics.store"),{preserveScroll:!0,onSuccess:()=>h()})},{props:x}=N(),s=x.success;return e.jsxs(b,{children:[e.jsx(D,{asChild:!0,children:e.jsx(m,{variant:"outline",children:"Create Record"})}),e.jsxs(w,{className:"sm:max-w-3xl",children:[e.jsxs(S,{children:[e.jsx(F,{children:"Create Physical Characteristic"}),e.jsx(P,{children:"Fill in the physical details"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[Object.keys(d).length>0&&e.jsxs(g,{variant:"destructive",children:[e.jsx(v,{children:"Error"}),e.jsx(y,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(d).map((r,p)=>e.jsx("li",{children:r},p))})})]}),s&&e.jsxs(g,{variant:"default",className:"mb-4",children:[e.jsx(v,{children:"Success"}),e.jsx(y,{children:s})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"PDL (Person Deprived of Liberty)"}),e.jsxs(E,{value:i.pdl_id,onValueChange:r=>a("pdl_id",r),required:!0,children:[e.jsx(I,{children:e.jsx(M,{placeholder:"Select a PDL"})}),e.jsx(T,{children:t.map(r=>e.jsxs(K,{value:r.id.toString(),children:[r.fname," ",r.lname," (ID: ",r.id,")"]},r.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"height",children:"Height (cm)"}),e.jsx(n,{type:"number",id:"height",min:"100",max:"250",value:i.height,onChange:r=>a("height",parseFloat(r.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(n,{type:"number",id:"weight",min:"30",max:"300",value:i.weight,onChange:r=>a("weight",parseFloat(r.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"build",children:"Build"}),e.jsx(n,{id:"build",value:i.build,onChange:r=>a("build",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"complexion",children:"Complexion"}),e.jsx(n,{id:"complexion",value:i.complexion,onChange:r=>a("complexion",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"hair_color",children:"Hair Color"}),e.jsx(n,{id:"hair_color",value:i.hair_color,onChange:r=>a("hair_color",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"eye_color",children:"Eye Color"}),e.jsx(n,{id:"eye_color",value:i.eye_color,onChange:r=>a("eye_color",r.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"identification_marks",children:"Identification Marks"}),e.jsx(n,{id:"identification_marks",value:i.identification_marks,onChange:r=>a("identification_marks",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mark_location",children:"Mark Location"}),e.jsx(n,{id:"mark_location",value:i.mark_location,onChange:r=>a("mark_location",r.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"remark",children:"Remarks"}),e.jsx(A,{id:"remark",value:i.remark,onChange:r=>a("remark",r.target.value),rows:3})]}),e.jsxs(q,{children:[e.jsx(L,{asChild:!0,children:e.jsx(m,{variant:"outline",children:"Cancel"})}),e.jsx(m,{type:"submit",disabled:o,children:o?"Creating...":"Create Record"})]})]})]})]})}function Z({characteristic:t,pdls:i}){const{data:a,setData:l,put:o,processing:d,errors:h,reset:u}=_({pdl_id:t.pdl_id.toString(),height:t.height,weight:t.weight,build:t.build,complexion:t.complexion,hair_color:t.hair_color,eye_color:t.eye_color,identification_marks:t.identification_marks,mark_location:t.mark_location,remark:t.remark||""}),x=s=>{s.preventDefault(),o(route("physical-characteristics.update",t.characteristic_id),{preserveScroll:!0,onSuccess:()=>u()})};return e.jsxs(b,{children:[e.jsx(D,{asChild:!0,children:e.jsx(m,{variant:"ghost",className:"w-full justify-start",children:"Edit"})}),e.jsxs(w,{className:"sm:max-w-3xl",children:[e.jsxs(S,{children:[e.jsx(F,{children:"Edit Physical Characteristic"}),e.jsx(P,{children:"Update the physical details"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[Object.keys(h).length>0&&e.jsxs(g,{variant:"destructive",children:[e.jsx(v,{children:"Error"}),e.jsx(y,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(h).map((s,r)=>e.jsx("li",{children:s},r))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"PDL (Person Deprived of Liberty)"}),e.jsxs(E,{value:a.pdl_id,onValueChange:s=>l("pdl_id",s),required:!0,children:[e.jsx(I,{children:e.jsx(M,{placeholder:"Select a PDL"})}),e.jsx(T,{children:i.map(s=>e.jsxs(K,{value:s.id.toString(),children:[s.fname," ",s.lname," (ID: ",s.id,")"]},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"height",children:"Height (cm)"}),e.jsx(n,{type:"number",id:"height",min:"100",max:"250",value:a.height,onChange:s=>l("height",parseFloat(s.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(n,{type:"number",id:"weight",min:"30",max:"300",value:a.weight,onChange:s=>l("weight",parseFloat(s.target.value)),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"build",children:"Build"}),e.jsx(n,{id:"build",value:a.build,onChange:s=>l("build",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"complexion",children:"Complexion"}),e.jsx(n,{id:"complexion",value:a.complexion,onChange:s=>l("complexion",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"hair_color",children:"Hair Color"}),e.jsx(n,{id:"hair_color",value:a.hair_color,onChange:s=>l("hair_color",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"eye_color",children:"Eye Color"}),e.jsx(n,{id:"eye_color",value:a.eye_color,onChange:s=>l("eye_color",s.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"identification_marks",children:"Identification Marks"}),e.jsx(n,{id:"identification_marks",value:a.identification_marks,onChange:s=>l("identification_marks",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mark_location",children:"Mark Location"}),e.jsx(n,{id:"mark_location",value:a.mark_location,onChange:s=>l("mark_location",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"remark",children:"Remarks"}),e.jsx(A,{id:"remark",value:a.remark,onChange:s=>l("remark",s.target.value),rows:3})]}),e.jsxs(q,{children:[e.jsx(L,{asChild:!0,children:e.jsx(m,{variant:"outline",children:"Cancel"})}),e.jsx(m,{type:"submit",disabled:d,children:d?"Updating...":"Update Record"})]})]})]})]})}const ee=[{id:"pdl",header:"PDL",cell:({row:t})=>{const i=t.original.pdl;return i?`${i.fname} ${i.lname}`:`ID: ${t.original.pdl_id}`}},{accessorKey:"height",header:"Height (cm)"},{accessorKey:"weight",header:"Weight (kg)"},{accessorKey:"build",header:"Build"},{accessorKey:"complexion",header:"Complexion"},{accessorKey:"hair_color",header:"Hair Color"},{accessorKey:"eye_color",header:"Eye Color"},{id:"actions",header:"Actions",cell:({row:t})=>{const i=t.original;return e.jsxs(z,{children:[e.jsx(G,{asChild:!0,children:e.jsxs(m,{variant:"ghost",size:"icon",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(J,{className:"h-4 w-4"})]})}),e.jsxs(Q,{align:"end",children:[e.jsx(X,{children:"Actions"}),e.jsx(f,{asChild:!0,children:e.jsx(Z,{characteristic:i,pdls:[]})}),e.jsx(f,{onClick:()=>k.delete(route("physical-characteristics.destroy",i.characteristic_id)),className:"text-red-500",children:"Delete"})]})]})}}],se=[{title:"Physical Characteristics",href:"/physical-characteristics"}];function fe(){const{props:t}=N(),{characteristics:i,pdls:a,filters:l,auth:o,searchPerformed:d,totalResults:h}=t,[u,x]=H.useState((l==null?void 0:l.search)||""),s=()=>{var C;switch((C=o==null?void 0:o.user)==null?void 0:C.position){case"admin":return"/admin/pdl-management/physical-characteristics";case"law-enforcement":return"/law-enforcement/pdl-management/physical-characteristics";case"record-officer":default:return"/record-officer/pdl-management/physical-characteristics"}},r=()=>{k.get(s(),{search:u},{preserveState:!0,replace:!0})},p=j=>{j.key==="Enter"&&r()};return e.jsxs($,{breadcrumbs:se,children:[e.jsx(R,{title:"Physical Characteristics Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Physical Characteristics"}),e.jsxs(O,{children:[e.jsx(U,{children:e.jsx(V,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Physical Characteristics"}),e.jsx(Y,{pdls:a})]})})}),e.jsxs(W,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(c,{htmlFor:"search",className:"text-sm font-medium",children:"Search Characteristics"}),e.jsx(n,{id:"search",placeholder:"Search by build, complexion, PDL name, etc.",className:"w-64 md:w-96",value:u,onChange:j=>x(j.target.value),onKeyDown:p}),e.jsx(m,{variant:"outline",onClick:r,children:"Search"})]}),e.jsx(B,{data:i,columns:ee}),d&&e.jsx("div",{className:"mt-4 text-center",children:h===0?e.jsxs("div",{className:"text-muted-foreground",children:[e.jsx("p",{className:"text-lg font-medium",children:"No physical characteristics found"}),e.jsxs("p",{className:"mt-2",children:['No physical characteristics match your search criteria: "',l==null?void 0:l.search,'"']}),e.jsx("p",{className:"mt-1 text-sm",children:"Try searching with different keywords or check your spelling."})]}):e.jsx("div",{className:"text-muted-foreground",children:e.jsxs("p",{className:"text-sm",children:["Found ",h," physical characteristic",h!==1?"s":"",' matching "',l==null?void 0:l.search,'"']})})}),!d&&i.length===0&&e.jsxs("div",{className:"mt-4 text-center text-muted-foreground",children:[e.jsx("p",{className:"text-lg font-medium",children:"No physical characteristics found"}),e.jsx("p",{className:"mt-2",children:"Physical characteristics will appear here once they are created."})]})]})]})]})]})}export{fe as default};
