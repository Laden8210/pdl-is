import{m as C,j as e,L as D}from"./app-ComDjZnt.js";import{B as p}from"./button-CvEfsPre.js";import{C as t,a as l,b as d,c as h,d as L}from"./card-DysgWUbO.js";import{L as f}from"./label-D7-ESfDA.js";import{T as b}from"./textarea-BCoba47n.js";import{S,a as w,b as P,c as T,d as R}from"./select-D3GizBEP.js";import{A as m,a as x}from"./alert-DdQUG61h.js";import{A as U}from"./app-layout-CQUFQldb.js";import{C as N}from"./input-K0Qk0HNA.js";import{T as g}from"./triangle-alert-5gbtgaGB.js";import{U as B}from"./user-DDqHKi5T.js";import{A as F}from"./archive-BHUKZ7l3.js";import"./index-Bpe871pD.js";import"./index-DwKaq7lm.js";import"./users-Be-d0Qcs.js";import"./scale-NzznseH8.js";import"./eye-C1nbeBXd.js";function Z({pdl:s,archiveStatusOptions:o}){var u;const{data:r,setData:j,post:v,processing:i,errors:c}=C({archive_status:s.archive_status||"",archive_reason:s.archive_reason||""}),A=()=>{v(route("pdl.archive",s.id))},_=()=>{v(route("pdl.unarchive",s.id))},n=s.archived_at!==null;return e.jsxs(U,{children:[e.jsx(D,{title:`Archive PDL - ${s.fname} ${s.lname}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"PDL Archive Management"}),e.jsxs("p",{className:"text-muted-foreground",children:["Manage archiving and custody dates for ",s.fname," ",s.lname]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:n?e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Archived"})]}):e.jsxs("div",{className:"flex items-center space-x-2 text-orange-600",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Active"})]})})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsx(d,{children:"PDL Information"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Name:"}),e.jsxs("span",{children:[s.fname," ",s.lname]}),s.alias&&e.jsxs("span",{className:"text-muted-foreground",children:["(",s.alias,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Age:"}),e.jsx("span",{children:s.age||"N/A"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Gender:"}),e.jsx("span",{children:s.gender||"N/A"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Location:"}),e.jsxs("span",{children:[s.brgy,", ",s.city,", ",s.province]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Cases:"}),e.jsx("span",{children:((u=s.cases)==null?void 0:u.length)||0})]}),n&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Archived:"}),e.jsx("span",{children:new Date(s.archived_at).toLocaleDateString()})]})]})]})})]}),n&&e.jsxs(t,{children:[e.jsx(l,{children:e.jsx(d,{children:"Archive Information"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Archive Status:"}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm",children:o[s.archive_status]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Archive Date:"}),e.jsx("span",{children:new Date(s.archived_at).toLocaleString()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Reason:"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.archive_reason})]}),s.archive_notes&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Notes:"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.archive_notes})]})]})]})})]}),e.jsxs(t,{children:[e.jsxs(l,{children:[e.jsx(d,{children:"Archive Actions"}),e.jsx(L,{children:"Archive or unarchive this PDL record"})]}),e.jsx(h,{children:n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx(x,{children:"This PDL record is currently archived. You can unarchive it if needed."})]}),e.jsxs(p,{onClick:_,disabled:i,variant:"outline",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),i?"Unarchiving...":"Unarchive PDL"]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"archive_status",children:"Archive Status *"}),e.jsxs(S,{value:r.archive_status,onValueChange:a=>j("archive_status",a),children:[e.jsx(w,{children:e.jsx(P,{placeholder:"Select archive status"})}),e.jsx(T,{children:Object.entries(o).map(([a,y])=>e.jsx(R,{value:a,children:y},a))})]}),c.archive_status&&e.jsx(m,{children:e.jsx(x,{children:c.archive_status})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"archive_reason",children:"Reason for Archiving *"}),e.jsx(b,{id:"archive_reason",placeholder:"Enter the reason for archiving this PDL record...",value:r.archive_reason,onChange:a=>j("archive_reason",a.target.value),rows:3}),c.archive_reason&&e.jsx(m,{children:e.jsx(x,{children:c.archive_reason})})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(p,{onClick:A,disabled:i||!r.archive_status||!r.archive_reason,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),i?"Archiving...":"Archive PDL"]})})]})})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsx(d,{children:"Archive Requirements"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Archive Status:"})," Select the appropriate status from the dropdown"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Reason for Archiving:"})," Provide a detailed reason for archiving this record"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Date and Time:"})," Automatically generated by the system upon archiving"]})]})})]})]})]})}export{Z as default};
