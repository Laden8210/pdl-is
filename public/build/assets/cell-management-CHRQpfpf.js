import{m as A,K as N,j as e,S as T,r as _,L as O}from"./app-BQYDGhKA.js";import{D as F,g as L,a as M,b as I,c as K,d as V,e as U,f as w,A as k}from"./app-layout-D6DCXkBW.js";import{C as B,a as q,b as E,c as G}from"./card-BfSrKnm2.js";import{B as d}from"./button-D_W48nTC.js";import{A as g,b as v,a as C}from"./alert-Bap3XjEd.js";import{I as f}from"./input-CFU-h6vX.js";import{L as c}from"./label-CYLk_rhU.js";import{S as h,a as m,b as x,c as u,d as i}from"./select-dceJYrJq.js";import{D as z}from"./data-table-CmeHQrRl.js";import{B as D}from"./badge-CarYkfIx.js";import"./index-HGuZE5B5.js";import"./users-Bnbyigwa.js";import"./user-Bz9RZesG.js";import"./scale-DNcew4nx.js";import"./eye-Eiv3Ol47.js";import"./index-DzLH6j5A.js";import"./index-CCzmK6f-.js";import"./index-CyjFtpU7.js";import"./table-o2hOwNbA.js";function H(){const{data:s,setData:a,post:t,processing:j,errors:o,reset:r}=A({cell_name:"",capacity:"",gender:"male",description:"",status:"active"}),{props:b}=N(),y=b.success,p=l=>{const n=l.target.name;a(n,l.target.value)},S=l=>{l.preventDefault(),t(route("cell.create"),{preserveScroll:!0,onSuccess:()=>r()})};return e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Create Cell"})}),e.jsxs(M,{className:"sm:max-w-2xl",children:[e.jsxs(I,{children:[e.jsx(K,{children:"Create Cell"}),e.jsx(V,{children:"Fill in the details to register a new cell."})]}),e.jsxs("form",{onSubmit:S,className:"mx-auto w-full space-y-4",children:[Object.keys(o).length>0&&e.jsxs(g,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(v,{children:"Unable to process request"}),e.jsx(C,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(o).map((l,n)=>e.jsx("li",{children:l},n))})})]}),y&&e.jsxs(g,{variant:"default",className:"mb-4",children:[e.jsx(v,{children:"Success"}),e.jsx(C,{children:y})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(f,{id:"cell_name",name:"cell_name",value:s.cell_name,onChange:p})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"capacity",children:"Capacity"}),e.jsx(f,{id:"capacity",name:"capacity",type:"number",value:s.capacity,onChange:p})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Gender"}),e.jsxs(h,{value:s.gender,onValueChange:l=>a("gender",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select gender"})}),e.jsxs(u,{children:[e.jsx(i,{value:"male",children:"Male"}),e.jsx(i,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Status"}),e.jsxs(h,{value:s.status,onValueChange:l=>a("status",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select status"})}),e.jsxs(u,{children:[e.jsx(i,{value:"active",children:"Active"}),e.jsx(i,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsxs(h,{value:s.description,onValueChange:l=>a("description",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select description"})}),e.jsxs(u,{children:[e.jsx(i,{value:"isolation",children:"Isolation"}),e.jsx(i,{value:"female",children:"Female"}),e.jsx(i,{value:"male",children:"Male"}),e.jsx(i,{value:"trustee",children:"Trustee"}),e.jsx(i,{value:"kitchen boys",children:"Kitchen Boys"})]})]})]})]}),e.jsxs(U,{children:[e.jsx(d,{type:"submit",disabled:j,children:"Create"}),e.jsx(w,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}function R({cell:s}){const a=()=>{T.get("/admin/pdl-management/cell-activity-log",{cell_id:s.cell_id})};return e.jsx(d,{variant:"outline",size:"sm",onClick:a,children:"View Cell Log"})}function J({cell:s}){const{data:a,setData:t,post:j,processing:o,errors:r,reset:b}=A({cell_id:s.cell_id,cell_name:s.cell_name,capacity:s.capacity.toString(),gender:s.gender,description:s.description??"",status:s.status}),{props:y}=N(),p=y.success,S=l=>{l.preventDefault(),j(route("cell.update"),{preserveScroll:!0,onSuccess:()=>b()})};return e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",children:"Edit"})}),e.jsxs(M,{className:"sm:max-w-2xl",children:[e.jsxs(I,{children:[e.jsx(K,{children:"Update Cell"}),e.jsx(V,{children:"Modify the cell information and save changes."})]}),Object.keys(r).length>0&&e.jsxs(g,{variant:"destructive",className:"mb-4",children:[e.jsx(v,{children:"Unable to process request"}),e.jsx(C,{children:Object.values(r).map((l,n)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:l})},n))})]}),p&&e.jsxs(g,{variant:"default",className:"mb-4",children:[e.jsx(v,{children:"Success"}),e.jsx(C,{children:p})]}),e.jsxs("form",{onSubmit:S,className:"mx-auto w-full space-y-4",children:[Object.keys(r).length>0&&e.jsxs(g,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(v,{children:"Unable to process request"}),e.jsx(C,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(r).map((l,n)=>e.jsx("li",{children:l},n))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(f,{id:"cell_name",name:"cell_name",value:a.cell_name,onChange:l=>t("cell_name",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"capacity",children:"Capacity"}),e.jsx(f,{id:"capacity",name:"capacity",type:"number",value:a.capacity,onChange:l=>t("capacity",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Gender"}),e.jsxs(h,{value:a.gender,onValueChange:l=>t("gender",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select gender"})}),e.jsxs(u,{children:[e.jsx(i,{value:"male",children:"Male"}),e.jsx(i,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Status"}),e.jsxs(h,{value:a.status,onValueChange:l=>t("status",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select status"})}),e.jsxs(u,{children:[e.jsx(i,{value:"active",children:"Active"}),e.jsx(i,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsxs(h,{value:a.description,onValueChange:l=>t("description",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select description"})}),e.jsxs(u,{children:[e.jsx(i,{value:"isolation",children:"Isolation"}),e.jsx(i,{value:"female",children:"Female"}),e.jsx(i,{value:"male",children:"Male"}),e.jsx(i,{value:"trustee",children:"Trustee"}),e.jsx(i,{value:"kitchen boys",children:"Kitchen Boys"})]})]})]})]}),e.jsxs(U,{children:[e.jsx(d,{type:"submit",disabled:o,children:"Update"}),e.jsx(w,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}const P=[{accessorKey:"cell_name",header:"Cell Name"},{accessorKey:"description",header:"Description",cell:({row:s})=>s.original.description||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{accessorKey:"capacity",header:"Capacity"},{accessorKey:"gender",header:"Gender",cell:({row:s})=>e.jsx(D,{variant:s.original.gender==="male"?"default":"secondary",children:s.original.gender.charAt(0).toUpperCase()+s.original.gender.slice(1)})},{id:"occupied",header:"Occupied",cell:({row:s})=>s.original.assignments_count??0},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx(D,{variant:s.original.status==="active"?"default":"destructive",children:s.original.status.charAt(0).toUpperCase()+s.original.status.slice(1)})},{accessorKey:"description",header:"Description",cell:({row:s})=>s.original.description||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{accessorKey:"created_at",header:"Created At",cell:({row:s})=>s.original.created_at?new Date(s.original.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{id:"actions",header:"Actions",cell:({row:s})=>{const a=s.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{cell:{...a,description:a.description??""}}),e.jsx(R,{cell:a})]})}}],Q=[{title:"Cell Management",href:"/cell-management"}];function ue(){const{props:s}=N(),{cells:a}=s,[t,j]=_.useState(""),o=_.useMemo(()=>t?a.filter(r=>r.cell_name.toLowerCase().includes(t.toLowerCase())):a,[a,t]);return e.jsxs(k,{breadcrumbs:Q,children:[e.jsx(O,{title:"Cell Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Cell Management"}),e.jsxs(B,{children:[e.jsx(q,{children:e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cell List"}),e.jsx(H,{})]})})}),e.jsxs(G,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(c,{htmlFor:"search",className:"text-sm font-medium",children:"Search Cells"}),e.jsx(f,{id:"search",placeholder:"Search by cell name",className:"w-64",value:t,onChange:r=>j(r.target.value)})]}),e.jsx(z,{data:o,columns:P})]})]})]})]})}export{ue as default};
