import{K as y,m as w,j as e,L as T}from"./app-t_FFWq90.js";import{C as M,a as S,b as v,c as G}from"./card-B1v30fcl.js";import{T as I,a as L,b as j,c as a,d as $,e as l}from"./table-bwCmG8NN.js";import{A as p,a as g,b as u}from"./alert-C5m7Y8HD.js";import{B as i}from"./button-DDYf-DS8.js";import{D as B,e as F,a as q,b as H,c as _,d as P,f as R,g as V,A as E}from"./app-layout-WlM9EVUn.js";import{I as O}from"./index-B_WgistD.js";import{L as o}from"./label-BL0l3kNj.js";import{S as k,a as K,b as U,c as z,d as b}from"./select-CDq7m6kf.js";import{T as J}from"./textarea-CWDuNuzp.js";import{g as Q}from"./dateUtils-Iw3XMDmk.js";import{f as W}from"./format-CBpsKyOP.js";import"./user-DLIhjzW8.js";import"./index-DrxrNyms.js";function X({pdl:n,gctaDays:d,tastmDays:s}){const{props:A}=y(),m=A.success,{data:t,setData:c,post:f,processing:x,errors:h,reset:C}=w({type:"gcta",days:0,reason:""}),D=r=>{r.preventDefault(),f(route("time-allowance.update",n.id),{preserveScroll:!0,onSuccess:()=>{C()}})};return e.jsxs(B,{children:[e.jsx(T,{title:"Manage Time Allowance"}),e.jsx(F,{asChild:!0,children:e.jsx(i,{variant:"outline",children:"Manage Allowance"})}),e.jsx(q,{className:"sm:max-w-[500px]",children:e.jsxs("form",{id:"time-allowance-form",onSubmit:D,children:[e.jsxs(H,{children:[e.jsxs(_,{children:["Manage Time Allowance for ",n.fname," ",n.lname]}),e.jsx(P,{children:"Add time allowance days for Good Conduct Time Allowance (GCTA) or Time Allowance for Study, Teaching and Mentoring (TASTM)."})]}),Object.keys(h).length>0&&e.jsxs(p,{variant:"destructive",className:"mb-4 mt-4",children:[e.jsx(g,{children:"Unable to process request"}),e.jsx(u,{children:Object.values(h).map((r,N)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:r})},N))})]}),m&&e.jsxs(p,{variant:"default",className:"mb-4 border-green-200 bg-green-50 text-green-800",children:[e.jsx(g,{children:"Success"}),e.jsx(u,{children:m})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 py-2",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Current GCTA Days"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:d})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-md border border-green-200",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Current TASTM Days"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:s})]})]}),e.jsxs("div",{className:"grid gap-4 py-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"type",children:"Allowance Type"}),e.jsxs(k,{value:t.type,onValueChange:r=>c("type",r),required:!0,children:[e.jsx(K,{children:e.jsx(U,{placeholder:"Select allowance type"})}),e.jsxs(z,{children:[e.jsx(b,{value:"gcta",children:"Good Conduct Time Allowance (GCTA)"}),e.jsx(b,{value:"tastm",children:"Time Allowance for Study, Teaching & Mentoring (TASTM)"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"days",children:"Days to Add"}),e.jsx(O,{id:"days",name:"days",type:"number",min:"0",value:t.days,onChange:r=>c("days",parseInt(r.target.value)||0),required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"reason",children:"Reason"}),e.jsx(J,{id:"reason",name:"reason",value:t.reason,onChange:r=>c("reason",r.target.value),placeholder:"Enter the reason for adding time allowance",required:!0})]})]}),e.jsxs(R,{children:[e.jsx(V,{asChild:!0,children:e.jsx(i,{variant:"secondary",children:"Cancel"})}),e.jsx(i,{type:"submit",form:"time-allowance-form",className:"bg-blue-500 hover:bg-blue-600",disabled:x,children:x?"Adding...":"Add Allowance"})]})]})})]})}const Y=[{title:"PDL Management",href:"/pdl-management"}];function he(){const{props:n}=y(),{verifications:d}=n;return console.log("Verifications:",d),e.jsxs(E,{breadcrumbs:Y,children:[e.jsx(T,{title:"Personal Information"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Time Allowance Management"}),e.jsxs(M,{children:[e.jsx(S,{children:e.jsx(v,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{children:"Time Allowance List"})})})}),e.jsx(G,{children:e.jsxs(I,{children:[e.jsx(L,{children:e.jsxs(j,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Full Name"}),e.jsx(a,{children:"Alias"}),e.jsx(a,{children:"Gender"}),e.jsx(a,{children:"GCTA Days"}),e.jsx(a,{children:"TASTM Days"}),e.jsx(a,{children:"Date of Birth"}),e.jsx(a,{children:"Age"}),e.jsx(a,{children:"Address"}),e.jsx(a,{children:"Added By"}),e.jsx(a,{children:"Actions"})]})}),e.jsx($,{children:d.map(s=>s.pdl&&e.jsxs(j,{children:[e.jsx(l,{children:s.pdl.id}),e.jsx(l,{children:`${s.pdl.fname} ${s.pdl.lname}`}),e.jsx(l,{children:s.pdl.alias??"-"}),e.jsx(l,{children:s.pdl.gender??"-"}),e.jsx(l,{className:"font-medium",children:s.gcta_days}),e.jsx(l,{className:"font-medium",children:s.tastm_days}),e.jsx(l,{children:W(new Date(s.pdl.birthdate),"MMMM dd, yyyy")}),e.jsx(l,{children:Q(s.pdl.birthdate)}),e.jsx(l,{children:`${s.pdl.brgy??""}, ${s.pdl.city??""}, ${s.pdl.province??""}`}),e.jsx(l,{children:s.pdl.personnel?`${s.pdl.personnel.fname} ${s.pdl.personnel.lname}`:"â€”"}),e.jsx(l,{className:"space-x-1",children:e.jsx(X,{pdl:s.pdl,gctaDays:s.gcta_days,tastmDays:s.tastm_days})})]},s.pdl.id))})]})})]})]})]})}export{he as default};
