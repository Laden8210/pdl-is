import{K as q,r as b,j as e,L as W,m as z}from"./app-B-BvmNG2.js";import{A as J,D as _,a as A,b as I,c as E,d as K}from"./app-layout-arkDNjE7.js";import{C as Y}from"./checkbox-Dms6C9-p.js";import{I as X}from"./input-CP1M5OqT.js";import{L as Q}from"./label-C_09m_LT.js";import{D as Z,m as M,g as D,y as c,S as ee,V as te,c as k,s as se,d as ae,f as R,e as ie,h as re,N as ne,j as le,k as F,B as P,l as oe,n as H,o as de,_ as O,E as ce,p as $,q as ue,r as C,t as me,u as fe,v as ge,w,C as he,F as xe,i as pe,a as ve,b as ye}from"./create-event-DZ40F46v.js";import{B as be}from"./badge-BFp3OK_N.js";import{A as je,b as Ne,a as we}from"./alert-DDIvgFS6.js";import{S as De}from"./users-MtUN6MQN.js";import{f as S}from"./format-B3rlCQGj.js";import"./button-BkYnLxJc.js";import"./index-B-O_cG-1.js";import"./user-DpLCl6eu.js";import"./scale-BQqkX0MN.js";import"./eye-OMvYGJok.js";import"./index-CEPVX32U.js";import"./index-CeuFmSDV.js";import"./index-DiacAFjq.js";class Ce extends P{constructor(){super(...arguments),this.state={textId:D()}}render(){let{theme:t,dateEnv:a,options:o,viewApi:s}=this.context,{cellId:u,dayDate:m,todayRange:l}=this.props,{textId:d}=this.state,f=oe(m,l),g=o.listDayFormat?a.format(m,o.listDayFormat):"",y=o.listDaySideFormat?a.format(m,o.listDaySideFormat):"",r=Object.assign({date:a.toDate(m),view:s,textId:d,text:g,sideText:y,navLinkAttrs:H(this.context,m),sideNavLinkAttrs:H(this.context,m,"day",!1)},f);return c(k,{elTag:"tr",elClasses:["fc-list-day",...de(f,t)],elAttrs:{"data-date":R(m)},renderProps:r,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:Se,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},h=>c("th",{scope:"colgroup",colSpan:3,id:u,"aria-labelledby":d},c(h,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function Se(n){return c(O,null,n.text&&c("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&c("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const ke=$({hour:"numeric",minute:"2-digit",meridiem:"short"});class Te extends P{render(){let{props:t,context:a}=this,{options:o}=a,{seg:s,timeHeaderId:u,eventHeaderId:m,dateHeaderId:l}=t,d=o.eventTimeFormat||ke;return c(ce,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",s.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>_e(s,a),seg:s,timeText:"",disableDragging:!0,disableResizing:!0}),(f,g)=>c(O,null,Ae(s,d,a,u,l),c("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},c("span",{className:"fc-list-event-dot",style:{borderColor:g.borderColor||g.backgroundColor}})),c(f,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${m} ${l}`}})))}}function _e(n,t){let a=me(n,t);return c("a",Object.assign({},a),n.eventRange.def.title)}function Ae(n,t,a,o,s){let{options:u}=a;if(u.displayEventTime!==!1){let m=n.eventRange.def,l=n.eventRange.instance,d=!1,f;if(m.allDay?d=!0:ue(n.eventRange.range)?n.isStart?f=C(n,t,a,null,null,l.range.start,n.end):n.isEnd?f=C(n,t,a,null,null,n.start,l.range.end):d=!0:f=C(n,t,a),d){let g={text:a.options.allDayText,view:a.viewApi};return c(k,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${o} ${s}`},renderProps:g,generatorName:"allDayContent",customGenerator:u.allDayContent,defaultGenerator:Ie,classNameGenerator:u.allDayClassNames,didMount:u.allDayDidMount,willUnmount:u.allDayWillUnmount})}return c("td",{className:"fc-list-event-time"},f)}return null}function Ie(n){return n.text}class Ee extends Z{constructor(){super(...arguments),this.computeDateVars=M(Fe),this.eventStoreToSegs=M(this._eventStoreToSegs),this.state={timeHeaderId:D(),eventHeaderId:D(),dateHeaderIdRoot:D()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:a}=this,{dayDates:o,dayRanges:s}=this.computeDateVars(t.dateProfile),u=this.eventStoreToSegs(t.eventStore,t.eventUiBases,s);return c(te,{elRef:this.setRootEl,elClasses:["fc-list",a.theme.getClass("table"),a.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:a.viewSpec},c(ee,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},u.length>0?this.renderSegList(u,o):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:a}=this.context,o={text:t.noEventsText,view:a};return c(k,{elTag:"div",elClasses:["fc-list-empty"],renderProps:o,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:Me,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},s=>c(s,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,a){let{theme:o,options:s}=this.context,{timeHeaderId:u,eventHeaderId:m,dateHeaderIdRoot:l}=this.state,d=He(t);return c(ne,{unit:"day"},(f,g)=>{let y=[];for(let r=0;r<d.length;r+=1){let h=d[r];if(h){let p=R(a[r]),j=l+"-"+p;y.push(c(Ce,{key:p,cellId:j,dayDate:a[r],todayRange:g})),h=ie(h,s.eventOrder);for(let v of h)y.push(c(Te,Object.assign({key:p+":"+v.eventRange.instance.instanceId,seg:v,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:u,eventHeaderId:m,dateHeaderId:j},re(v,g,f))))}}return c("table",{className:"fc-list-table "+o.getClass("table")},c("thead",null,c("tr",null,c("th",{scope:"col",id:u},s.timeHint),c("th",{scope:"col","aria-hidden":!0}),c("th",{scope:"col",id:m},s.eventHint))),c("tbody",null,y))})}_eventStoreToSegs(t,a,o){return this.eventRangesToSegs(se(t,a,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,o)}eventRangesToSegs(t,a){let o=[];for(let s of t)o.push(...this.eventRangeToSegs(s,a));return o}eventRangeToSegs(t,a){let{dateEnv:o}=this.context,{nextDayThreshold:s}=this.context.options,u=t.range,m=t.def.allDay,l,d,f,g=[];for(l=0;l<a.length;l+=1)if(d=ae(u,a[l]),d&&(f={component:this,eventRange:t,start:d.start,end:d.end,isStart:t.isStart&&d.start.valueOf()===u.start.valueOf(),isEnd:t.isEnd&&d.end.valueOf()===u.end.valueOf(),dayIndex:l},g.push(f),!f.isEnd&&!m&&l+1<a.length&&u.end<o.add(a[l+1].start,s))){f.end=u.end,f.isEnd=!0;break}return g}}function Me(n){return n.text}function Fe(n){let t=le(n.renderRange.start),a=n.renderRange.end,o=[],s=[];for(;t<a;)o.push(t),s.push({start:t,end:F(t,1)}),t=F(t,1);return{dayDates:o,dayRanges:s}}function He(n){let t=[],a,o;for(a=0;a<n.length;a+=1)o=n[a],(t[o.dayIndex]||(t[o.dayIndex]=[])).push(o);return t}var Le=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';fe(Le);const Re={listDayFormat:L,listDaySideFormat:L,noEventsClassNames:w,noEventsContent:w,noEventsDidMount:w,noEventsWillUnmount:w};function L(n){return n===!1?null:$(n)}var Pe=ge({name:"@fullcalendar/list",optionRefiners:Re,views:{list:{component:Ee,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});const Oe=[{title:"Dashboard",href:"/dashboard"}];function rt(){const{props:n}=q(),{pdls:t=[],activities:a=[]}=n,o=a.map(r=>{var p,j;const h=r.pdls?r.pdls.map(v=>`${v.fname} ${v.lname}`).join(", "):r.pdl?`${r.pdl.fname} ${r.pdl.lname}`:"Unknown PDL";return{id:r.activity_id,title:`${r.activity_name} (${((p=r.pdls)==null?void 0:p.length)||1} PDL${(((j=r.pdls)==null?void 0:j.length)||1)>1?"s":""})`,start:`${r.activity_date}T${r.activity_time}`,extendedProps:{description:r.description||"No description provided",pdl:r.pdl,pdls:r.pdls||[],pdlNames:h,category:r.category,location:r.location||"Not specified"},backgroundColor:g(r.category),borderColor:g(r.category),textColor:"#ffffff",className:"hover:shadow-md transition-shadow duration-200"}}),[s,u]=b.useState(null),[m,l]=b.useState(!1),[d,f]=b.useState("");function g(r){switch(r.toLowerCase()){case"court_hearing":case"court hearing":return"#3b82f6";case"medical":return"#ef4444";case"rehabilitation":return"#f59e0b";case"transfer":return"#8b5cf6";case"jail_activity":case"jail activity":return"#8b5cf6";default:return"#6b7280"}}const y=r=>{const h=r.dateStr;f(h),l(!0)};return e.jsxs(J,{breadcrumbs:Oe,children:[e.jsx(W,{title:"Calendar"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Court Hearings & Jail Activities"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and view all scheduled activities. Double-click on a date to add a new event."})]}),e.jsx(he,{pdls:t})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-[#3b82f6]"}),e.jsx("span",{className:"text-xs",children:"Court Hearing"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-[#ef4444]"}),e.jsx("span",{className:"text-xs",children:"Medical"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-[#f59e0b]"}),e.jsx("span",{className:"text-xs",children:"Rehabilitation"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-[#8b5cf6]"}),e.jsx("span",{className:"text-xs",children:"Jail Activity/Transfer"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-[#6b7280]"}),e.jsx("span",{className:"text-xs",children:"Other"})]})]}),e.jsx("div",{className:"h-[75vh] w-full rounded-lg border bg-card p-4 shadow-sm",children:e.jsx(xe,{plugins:[pe,ve,ye,Pe],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay listWeek"},height:"100%",selectable:!0,editable:!0,events:o,eventDisplay:"block",eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:"short",hour12:!0},eventClick:r=>{u({title:r.event.title,start:r.event.start,description:r.event.extendedProps.description,pdl:r.event.extendedProps.pdl,pdls:r.event.extendedProps.pdls,pdlNames:r.event.extendedProps.pdlNames,category:r.event.extendedProps.category,location:r.event.extendedProps.location})},dateClick:y,dayHeaderClassNames:"font-medium",dayCellClassNames:"hover:bg-muted/50 cursor-pointer",nowIndicator:!0,slotMinTime:"06:00:00",slotMaxTime:"20:00:00"})})]}),e.jsx(_,{open:!!s,onOpenChange:()=>u(null),children:e.jsxs(A,{className:"sm:max-w-[600px]",children:[e.jsxs(I,{children:[e.jsx(E,{className:"text-2xl",children:s==null?void 0:s.title}),e.jsx("div",{className:"flex gap-2",children:e.jsx(be,{variant:"outline",className:"border-0 text-white",style:{backgroundColor:g((s==null?void 0:s.category)||"")},children:s==null?void 0:s.category})})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),e.jsx("p",{children:(s==null?void 0:s.start)&&S(s.start,"MMMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Time"}),e.jsx("p",{children:(s==null?void 0:s.start)&&S(s.start,"h:mm a")})]})]}),(s==null?void 0:s.pdls)&&s.pdls.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-2 text-sm font-medium text-muted-foreground",children:["Person",s.pdls.length>1?"s":""," Deprived of Liberty"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.pdls.map((r,h)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"•"}),e.jsxs("span",{children:[r.fname," ",r.lname]})]},h))})]})]})]})}),e.jsx(_,{open:m,onOpenChange:l,children:e.jsxs(A,{className:"max-w-2xl",children:[e.jsxs(I,{children:[e.jsxs(E,{children:["Add New Event for ",d&&S(new Date(d),"MMMM d, yyyy")]}),e.jsx(K,{children:"Fill in the details of the event you want to add."})]}),e.jsx($e,{pdls:t,preselectedDate:d,onSuccess:()=>l(!1)})]})})]})}function $e({pdls:n,preselectedDate:t,onSuccess:a}){const[o,s]=b.useState(!1),u=["Court Hearing","Medical","Visitation","Rehabilitation","Jail Activity/Transfer","Other"],m=()=>!l.activity_name||l.activity_name.trim()===""?[]:u.filter(i=>i.toLowerCase().includes(l.activity_name.toLowerCase())),{data:l,setData:d,post:f,processing:g,errors:y,reset:r}=z({activity_name:"",activity_date:t,activity_time:"09:00",category:"",pdl_ids:[]}),h=i=>{i.preventDefault(),f(route("record-officer.jail-events.store"),{preserveScroll:!0,onSuccess:()=>{r(),a()}})},[p,j]=b.useState(""),[v,G]=b.useState(n||[]),[T,U]=b.useState(0),V=()=>{const i=v.map(N=>N.id),x=Array.isArray(l.pdl_ids)?l.pdl_ids:[];i.every(N=>x.includes(N))?d("pdl_ids",x.filter(N=>!i.includes(N))):d("pdl_ids",[...new Set([...x,...i])])};b.useEffect(()=>{G(n.filter(i=>{var x;return`${i.fname} ${i.lname}`.toLowerCase().includes(p.toLowerCase())||((x=i.alias)==null?void 0:x.toLowerCase().includes(p.toLowerCase()))||i.id.toString().includes(p)}))},[p,n]),b.useEffect(()=>{U(Array.isArray(l.pdl_ids)?l.pdl_ids.length:0)},[l.pdl_ids]);const B=i=>{const x=Array.isArray(l.pdl_ids)?l.pdl_ids:[];d("pdl_ids",x.includes(i)?x.filter(N=>N!==i):[...x,i])};return e.jsxs("form",{onSubmit:h,children:[Object.keys(y).length>0&&e.jsxs(je,{variant:"destructive",className:"mb-4",children:[e.jsx(Ne,{children:"Error"}),e.jsx(we,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.entries(y).map(([i,x])=>e.jsx("li",{children:x},i))})})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"activity_name",className:"text-sm font-medium",children:"Activity Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"activity_name",placeholder:"Type to search activities...",value:l.activity_name,onChange:i=>{d("activity_name",i.target.value),s(i.target.value.trim()!=="")},onFocus:()=>s(l.activity_name.trim()!==""),onBlur:()=>{setTimeout(()=>s(!1),200)},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",required:!0}),o&&e.jsxs("div",{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md border border-gray-300 bg-white shadow-lg",children:[m().map((i,x)=>e.jsx("div",{className:"cursor-pointer px-3 py-2 text-sm hover:bg-gray-100",onClick:()=>{d("activity_name",i),s(!1)},children:i},x)),m().length===0&&l.activity_name&&e.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No suggestions found"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"activity_date",className:"text-sm font-medium",children:"Event Date"}),e.jsx("input",{type:"date",id:"activity_date",value:l.activity_date,onChange:i=>d("activity_date",i.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"activity_time",className:"text-sm font-medium",children:"Event Time"}),e.jsx("input",{type:"time",id:"activity_time",value:l.activity_time,onChange:i=>d("activity_time",i.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"category",className:"text-sm font-medium",children:"Event Category"}),e.jsxs("select",{id:"category",value:l.category,onChange:i=>d("category",i.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"court_hearing",children:"Court Hearing"}),e.jsx("option",{value:"jail_activity",children:"Jail Activity"}),e.jsx("option",{value:"medical",children:"Medical"}),e.jsx("option",{value:"visitation",children:"Visitation"}),e.jsx("option",{value:"rehabilitation",children:"Rehabilitation"}),e.jsx("option",{value:"transfer",children:"Transfer"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Q,{children:"Persons Involved (PDLs)"}),e.jsx("button",{type:"button",onClick:V,className:"text-sm text-blue-600 underline hover:text-blue-800",children:v.every(i=>Array.isArray(l.pdl_ids)&&l.pdl_ids.includes(i.id))?"Deselect All":"Select All"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(X,{placeholder:"Search PDLs by name, alias or ID...",className:"pl-9",value:p,onChange:i=>j(i.target.value)})]}),e.jsx("div",{className:"mt-2 max-h-60 overflow-y-auto rounded-md border",children:v.length===0?e.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No PDLs found matching your search"}):e.jsx("div",{className:"divide-y",children:v.map(i=>e.jsxs("label",{className:"flex cursor-pointer items-center gap-3 p-3 hover:bg-muted/50",children:[e.jsx(Y,{checked:Array.isArray(l.pdl_ids)&&l.pdl_ids.includes(i.id),onCheckedChange:()=>B(i.id)}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[i.fname," ",i.lname,i.alias&&` (${i.alias})`]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",i.id," | ",i.age," years | ",i.gender]})]})]},i.id))})}),T>0&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",T," PDL(s)"]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>a(),className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"inline-flex h-10 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground ring-offset-background transition-colors hover:bg-primary/90 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",children:g?"Creating...":"Create Event"})]})]})}export{rt as default};
