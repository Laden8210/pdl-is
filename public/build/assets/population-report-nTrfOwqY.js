import{K as S,m as N,j as e,L as R}from"./app-Cw2Ola3T.js";import{B as d}from"./button-HtDwNjna.js";import{C as c,a as x,b as m,c as h}from"./card-CHhZ3kiV.js";import{I as T}from"./input-C-67zMx9.js";import{L as j}from"./label-Cw4YEQsI.js";import{S as L,a as P,b as w,c as A,d as p}from"./select-CtCoYv_P.js";import{T as D,a as E,b as u,c as k,d as I,e as B}from"./table-B_HZKCJ2.js";import{A as F}from"./app-layout-B1I5xyFJ.js";import"./index-DeIeTENR.js";import"./index-BsnjEC5y.js";import"./index-jmnvcnet.js";import"./index-EOtkn3B_.js";import"./index-awoGkYav.js";import"./users-DyBO1Rb7.js";import"./user-C4YKFnWN.js";import"./scale-Bevs8Hfo.js";import"./eye-qJth3wRO.js";import"./circle-alert-DjBpCXZi.js";const G=[{title:"Reports",href:"/reports"},{title:"Population Report",href:"/reports/population"}];function ae(){const{props:g}=S(),{reportData:r,filters:a}=g,{data:s,setData:i,post:f,processing:l}=N({report_date:(a==null?void 0:a.report_date)||new Date().toISOString().split("T")[0],report_type:(a==null?void 0:a.report_type)||"age_sex",export_pdf:!1}),b=(t=!1)=>{f(route("reports.population.generate"),{...s,export_pdf:t})},_=()=>{const t=new URLSearchParams;t.append("report_date",s.report_date),t.append("report_type",s.report_type),t.append("export_pdf","true"),window.location.href=route("reports.population.generate")+"?"+t.toString()};return e.jsxs(F,{breadcrumbs:G,children:[e.jsx(R,{title:"Population Report"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Population Report"})}),e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(m,{children:"Report Parameters"})}),e.jsx(h,{children:e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(j,{htmlFor:"report_date",children:"Report Date"}),e.jsx(T,{id:"report_date",type:"date",value:s.report_date,onChange:t=>i("report_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(j,{htmlFor:"report_type",children:"Report Type"}),e.jsxs(L,{value:s.report_type,onValueChange:t=>i("report_type",t),children:[e.jsx(P,{children:e.jsx(w,{placeholder:"Select report type"})}),e.jsxs(A,{children:[e.jsx(p,{value:"age_sex",children:"Age and Sex"}),e.jsx(p,{value:"case_status",children:"Case Status"}),e.jsx(p,{value:"case_load",children:"Case Load"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(d,{onClick:()=>b(!1),disabled:l,className:"bg-blue-500 hover:bg-blue-600",children:l?"Generating...":"Generate Report"}),e.jsx(d,{onClick:_,disabled:l,variant:"outline",className:"bg-green-500 text-white hover:bg-green-600",children:"Export PDF"})]})]})})]}),r&&e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(m,{className:"text-center",children:e.jsx("div",{className:"flex items-center justify-center gap-4 mb-4",children:e.jsxs("div",{children:[e.jsx("div",{children:"JAIL SERVICES"}),e.jsxs("div",{className:"text-lg font-normal",children:["as of ",r.report_date]}),e.jsx("div",{className:"text-lg font-normal",children:r.title})]})})})}),e.jsx(h,{children:e.jsxs(D,{children:[e.jsx(E,{children:e.jsx(u,{children:r.headers.map((t,o)=>e.jsx(k,{className:o===0?"text-left":"text-center",children:t},o))})}),e.jsx(I,{children:r.data.map((t,o)=>e.jsx(u,{className:t[r.headers[0].toLowerCase()]==="TOTAL"?"bg-gray-100 font-bold":"",children:r.headers.map((v,n)=>{const y=v.toLowerCase(),C=t[y]??t[Object.keys(t)[n]];return e.jsx(B,{className:n===0?"text-left":"text-center",children:C},n)})},o))})]})})]})]})]})}export{ae as default};
