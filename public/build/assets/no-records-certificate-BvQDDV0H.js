import{m as P,j as e,L as w}from"./app-BwBP25H8.js";import{B as m}from"./button-Ce5sTJI0.js";import{C as h,a as x,b as p,d as N,c as j}from"./card-C7OCBjvW.js";import{I as d}from"./input-BnF1_wQI.js";import{L as c}from"./label-uz79b_uR.js";import{A,X as E}from"./app-layout-o3KJvi82.js";import{F as g,B as v}from"./users-BPzLc4qV.js";import{P as R}from"./plus-BxUPJelB.js";import{D as F}from"./download-C3EATFX2.js";import{U as S}from"./user-Kuo_8HIm.js";import"./index-jb01HAXI.js";import"./index-qOYF86Gd.js";import"./scale-CD1twoLw.js";import"./eye-q10uODIs.js";function V({certificateData:n,filters:l}){const{data:a,setData:o,post:y,processing:f}=P({persons:(l==null?void 0:l.persons)||[{fname:"",mname:"",lname:""}],requested_by:(l==null?void 0:l.requested_by)||"",requesting_agency:(l==null?void 0:l.requesting_agency)||"",export_pdf:!1,officer_name:"",officer_position:""}),_=()=>{o("persons",[...a.persons,{fname:"",mname:"",lname:""}])},b=s=>{if(a.persons.length>1){const r=a.persons.filter((i,t)=>t!==s);o("persons",r)}},u=(s,r,i)=>{const t=[...a.persons];t[s]={...t[s],[r]:i},o("persons",t)},C=(s=!1)=>{o("export_pdf",s),y(route("reports.no-records-certificate.generate"))},q=()=>{const s=new URLSearchParams;a.persons.forEach((r,i)=>{s.append(`persons[${i}][fname]`,r.fname||""),s.append(`persons[${i}][mname]`,r.mname||""),s.append(`persons[${i}][lname]`,r.lname||"")}),s.append("requested_by",a.requested_by),s.append("requesting_agency",a.requesting_agency),s.append("officer_name",a.officer_name),s.append("officer_position",a.officer_position),console.log(s.toString()),console.log(route("reports.no-records-certificate.export")+"?"+s.toString()),window.open(route("reports.no-records-certificate.export")+"?"+s.toString(),"_blank")};return e.jsxs(A,{children:[e.jsx(w,{title:"Certificate of No Records - South Cotabato Rehabilitation and Detention Center"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Certificate of No Records"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate official certificate stating no records exist for specified persons"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Official Certificate"})]})]}),e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsx(p,{children:"Generate Certificate of No Records"}),e.jsx(N,{children:"Enter the names of persons and requesting information"})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"text-base font-semibold",children:"Officer Name"}),e.jsx(d,{id:"officer_name",placeholder:"e.g., PEMS Edwin P. Arroyo",value:a.officer_name,onChange:s=>o("officer_name",s.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"text-base font-semibold",children:"Officer Position"}),e.jsx(d,{id:"officer_position",placeholder:"e.g., Provincial Warden",value:a.officer_position,onChange:s=>o("officer_position",s.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"text-base font-semibold",children:"Person Names"}),a.persons.map((s,r)=>e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(c,{className:"text-sm font-medium",children:["Person ",r+1]}),a.persons.length>1&&e.jsx(m,{type:"button",variant:"outline",size:"sm",onClick:()=>b(r),children:e.jsx(E,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:`fname-${r}`,className:"text-xs",children:"First Name"}),e.jsx(d,{id:`fname-${r}`,placeholder:"First Name",value:s.fname,onChange:i=>u(r,"fname",i.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:`mname-${r}`,className:"text-xs",children:"Middle Name"}),e.jsx(d,{id:`mname-${r}`,placeholder:"Middle Name",value:s.mname,onChange:i=>u(r,"mname",i.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{htmlFor:`lname-${r}`,className:"text-xs",children:"Last Name"}),e.jsx(d,{id:`lname-${r}`,placeholder:"Last Name",value:s.lname,onChange:i=>u(r,"lname",i.target.value)})]})]})]},r)),e.jsxs(m,{type:"button",variant:"outline",onClick:_,className:"w-full",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Add Another Person"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"requested_by",children:"Requested By"}),e.jsx(d,{id:"requested_by",placeholder:"e.g., PEMS Edwin P. Arroyo",value:a.requested_by,onChange:s=>o("requested_by",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"requesting_agency",children:"Requesting Agency"}),e.jsx(d,{id:"requesting_agency",placeholder:"e.g., Philippine National Police ACG-RACV12",value:a.requesting_agency,onChange:s=>o("requesting_agency",s.target.value)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(m,{onClick:()=>C(!1),disabled:f||!a.persons.some(s=>s.fname.trim()||s.lname.trim())||!a.requested_by||!a.requesting_agency,className:"flex-1",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),f?"Generating...":"Generate Certificate"]}),e.jsxs(m,{onClick:()=>q(),disabled:f||!a.persons.some(s=>s.fname.trim()||s.lname.trim())||!a.requested_by||!a.requesting_agency,variant:"outline",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})})]}),n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsx(p,{className:"text-center",children:n.title}),e.jsxs(N,{className:"text-center",children:[n.facility_name," - ",n.location]})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"font-bold text-lg",children:n.facility_name}),e.jsx("div",{className:"font-semibold",children:n.office}),e.jsx("div",{className:"font-semibold",children:n.unit}),e.jsx("div",{children:n.location}),e.jsxs("div",{className:"text-sm",children:["Tel #: ",n.contact.tel,"; Email Address: ",n.contact.email]})]}),e.jsx("hr",{className:"border-gray-300"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"font-bold text-lg text-center underline",children:n.title}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"font-bold underline",children:"TO WHOM IT MAY CONCERN:"}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:[e.jsx("strong",{children:"THIS IS TO CERTIFY"})," that this office has no records, whatsoever affecting the following persons:"]})}),e.jsx("div",{className:"text-sm ml-4",children:n.persons.map((s,r)=>e.jsxs("div",{className:"mb-1",children:[r+1,". ",s.fname," ",s.mname," ",s.lname]},r))}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:["This certification is issued upon the request of ",n.requested_by,",",n.requesting_agency," for whatever legal purpose it may serve him best."]})}),e.jsx("div",{className:"text-sm",children:e.jsxs("p",{children:["Issued this ",n.issue_date,", ",n.issue_location,"."]})})]})]}),e.jsxs("div",{className:"text-right mt-8",children:[e.jsx("div",{className:"font-bold",children:a.officer_name??n.signed_by.name}),e.jsx("div",{children:a.officer_position??n.signed_by.position})]})]})]}),e.jsxs(h,{children:[e.jsx(x,{children:e.jsx(p,{children:"Certificate Details"})}),e.jsx(j,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Persons Listed:"}),e.jsx("span",{children:n.persons.length})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Requested By:"}),e.jsx("span",{children:n.requested_by})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Agency:"}),e.jsx("span",{children:n.requesting_agency})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Issue Date:"}),e.jsx("span",{children:n.issue_date})]})]})]})})]})]}),!n&&e.jsxs(h,{children:[e.jsx(x,{children:e.jsx(p,{children:"Instructions"})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Enter the full names of persons for whom no records exist"}),e.jsx("p",{children:'• Add multiple persons using the "Add Another Person" button'}),e.jsx("p",{children:"• Provide the name of the person requesting the certificate"}),e.jsx("p",{children:"• Specify the requesting agency or organization"}),e.jsx("p",{children:"• Export the certificate as PDF for official documentation"}),e.jsx("p",{children:"• Certificate is signed by the Provincial Warden"})]})})]})]})]})}export{V as default};
