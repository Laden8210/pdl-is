import{m as A,K as S,j as e,S as O,r as D,L as k}from"./app-Cw60ViYM.js";import{D as F,i as L,a as M,b as T,c as I,d as K,g as U,h as V,A as B}from"./app-layout-DcwmIHce.js";import{C as E,a as q,b as G,c as z}from"./card-fzSJF6jC.js";import{B as d}from"./button-CmvSvEjs.js";import{A as g,b as v,a as y}from"./alert-o4LoJfEd.js";import{I as C}from"./input-Cov4X3e_.js";import{L as c}from"./label-DXzrxJOZ.js";import{S as h,a as m,b as x,c as u,d as t}from"./select-KJ19SguM.js";import{T as w}from"./textarea-vzbT_eVm.js";import{D as H}from"./data-table-rWmPc-3y.js";import{B as N}from"./badge-BacZE9yX.js";import"./index-BPS7Tynv.js";import"./users-HzoBiL24.js";import"./user-DV2uFnOi.js";import"./scale-C_Y39GyJ.js";import"./eye-B-iqHte5.js";import"./index-Bw_Z07or.js";import"./index-3H_A0TGf.js";import"./index-DDJ1Usrt.js";import"./index-C0a4OGu7.js";import"./table-2RhIxSd3.js";function R(){const{data:s,setData:a,post:i,processing:p,errors:o,reset:r}=A({cell_name:"",capacity:"",gender:"male",cell_type:"isolation",description:"",status:"active"}),{props:b}=S(),f=b.success,j=l=>{const n=l.target.name;a(n,l.target.value)},_=l=>{l.preventDefault(),i(route("cell.create"),{preserveScroll:!0,onSuccess:()=>r()})};return e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Create Cell"})}),e.jsxs(M,{className:"sm:max-w-2xl",children:[e.jsxs(T,{children:[e.jsx(I,{children:"Create Cell"}),e.jsx(K,{children:"Fill in the details to register a new cell."})]}),e.jsxs("form",{onSubmit:_,className:"mx-auto w-full space-y-4",children:[Object.keys(o).length>0&&e.jsxs(g,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(v,{children:"Unable to process request"}),e.jsx(y,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(o).map((l,n)=>e.jsx("li",{children:l},n))})})]}),f&&e.jsxs(g,{variant:"default",className:"mb-4",children:[e.jsx(v,{children:"Success"}),e.jsx(y,{children:f})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(C,{id:"cell_name",name:"cell_name",value:s.cell_name,onChange:j})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"capacity",children:"Capacity"}),e.jsx(C,{id:"capacity",name:"capacity",type:"number",value:s.capacity,onChange:j})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Gender"}),e.jsxs(h,{value:s.gender,onValueChange:l=>a("gender",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select gender"})}),e.jsxs(u,{children:[e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Status"}),e.jsxs(h,{value:s.status,onValueChange:l=>a("status",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select status"})}),e.jsxs(u,{children:[e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"cell_type",children:"Cell Type"}),e.jsxs(h,{value:s.cell_type,onValueChange:l=>a("cell_type",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select cell type"})}),e.jsxs(u,{children:[e.jsx(t,{value:"isolation",children:"Isolation"}),e.jsx(t,{value:"female",children:"Female"}),e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"trustee",children:"Trustee"}),e.jsx(t,{value:"kitchen boys",children:"Kitchen Boys"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(w,{id:"description",name:"description",value:s.description,onChange:l=>a("description",l.target.value),rows:3,placeholder:"Enter description"})]})]}),e.jsxs(U,{children:[e.jsx(d,{type:"submit",disabled:p,children:"Create"}),e.jsx(V,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}function J({cell:s}){const a=()=>{O.get("/admin/pdl-management/cell-activity-log",{cell_id:s.cell_id})};return e.jsx(d,{variant:"outline",size:"sm",onClick:a,children:"View Cell Log"})}function P({cell:s}){const{data:a,setData:i,post:p,processing:o,errors:r,reset:b}=A({cell_id:s.cell_id,cell_name:s.cell_name,capacity:s.capacity.toString(),gender:s.gender,description:s.description??"",status:s.status,cell_type:s.cell_type??"isolation"}),{props:f}=S(),j=f.success,_=l=>{l.preventDefault(),p(route("cell.update"),{preserveScroll:!0,onSuccess:()=>b()})};return e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",children:"Edit"})}),e.jsxs(M,{className:"sm:max-w-2xl",children:[e.jsxs(T,{children:[e.jsx(I,{children:"Update Cell"}),e.jsx(K,{children:"Modify the cell information and save changes."})]}),Object.keys(r).length>0&&e.jsxs(g,{variant:"destructive",className:"mb-4",children:[e.jsx(v,{children:"Unable to process request"}),e.jsx(y,{children:Object.values(r).map((l,n)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:l})},n))})]}),j&&e.jsxs(g,{variant:"default",className:"mb-4",children:[e.jsx(v,{children:"Success"}),e.jsx(y,{children:j})]}),e.jsxs("form",{onSubmit:_,className:"mx-auto w-full space-y-4",children:[Object.keys(r).length>0&&e.jsxs(g,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(v,{children:"Unable to process request"}),e.jsx(y,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(r).map((l,n)=>e.jsx("li",{children:l},n))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(C,{id:"cell_name",name:"cell_name",value:a.cell_name,onChange:l=>i("cell_name",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"capacity",children:"Capacity"}),e.jsx(C,{id:"capacity",name:"capacity",type:"number",value:a.capacity,onChange:l=>i("capacity",l.target.value)})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Gender"}),e.jsxs(h,{value:a.gender,onValueChange:l=>i("gender",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select gender"})}),e.jsxs(u,{children:[e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Status"}),e.jsxs(h,{value:a.status,onValueChange:l=>i("status",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select status"})}),e.jsxs(u,{children:[e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsxs(h,{value:a.cell_type,onValueChange:l=>i("cell_type",l),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Select cell type"})}),e.jsxs(u,{children:[e.jsx(t,{value:"isolation",children:"Isolation"}),e.jsx(t,{value:"female",children:"Female"}),e.jsx(t,{value:"male",children:"Male"}),e.jsx(t,{value:"trustee",children:"Trustee"}),e.jsx(t,{value:"kitchen boys",children:"Kitchen Boys"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(w,{id:"description",name:"description",value:a.description,onChange:l=>i("description",l.target.value),rows:3,placeholder:"Enter description"})]})]}),e.jsxs(U,{children:[e.jsx(d,{type:"submit",disabled:o,children:"Update"}),e.jsx(V,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}const Q=[{accessorKey:"cell_name",header:"Cell Name"},{accessorKey:"description",header:"Description",cell:({row:s})=>s.original.description||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{accessorKey:"capacity",header:"Capacity"},{accessorKey:"gender",header:"Gender",cell:({row:s})=>{var a,i;return e.jsx(N,{variant:s.original.gender==="male"?"default":"secondary",children:((a=s.original.gender)==null?void 0:a.charAt(0).toUpperCase())+((i=s.original.gender)==null?void 0:i.slice(1))||"N/A"})}},{id:"occupied",header:"Occupied",cell:({row:s})=>s.original.assignments_count??0},{accessorKey:"status",header:"Status",cell:({row:s})=>{var a,i;return e.jsx(N,{variant:s.original.status==="active"?"default":"destructive",children:((a=s.original.status)==null?void 0:a.charAt(0).toUpperCase())+((i=s.original.status)==null?void 0:i.slice(1))||"N/A"})}},{accessorKey:"cell_type",header:"Cell Type",cell:({row:s})=>e.jsx(N,{variant:s.original.cell_type,children:s.original.cell_type?s.original.cell_type.replace(/_/g," ").charAt(0).toUpperCase()+s.original.cell_type.replace(/_/g," ").slice(1).toLowerCase():e.jsx("span",{className:"text-muted-foreground",children:"N/A"})})},{accessorKey:"created_at",header:"Created At",cell:({row:s})=>s.original.created_at?new Date(s.original.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{id:"actions",header:"Actions",cell:({row:s})=>{const a=s.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(P,{cell:{...a,description:a.description??""}}),e.jsx(J,{cell:a})]})}}],W=[{title:"Cell Management",href:"/cell-management"}];function ge(){const{props:s}=S(),{cells:a}=s,[i,p]=D.useState(""),o=D.useMemo(()=>i?a.filter(r=>r.cell_name.toLowerCase().includes(i.toLowerCase())):a,[a,i]);return e.jsxs(B,{breadcrumbs:W,children:[e.jsx(k,{title:"Cell Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Cell Management"}),e.jsxs(E,{children:[e.jsx(q,{children:e.jsx(G,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cell List"}),e.jsx(R,{})]})})}),e.jsxs(z,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(c,{htmlFor:"search",className:"text-sm font-medium",children:"Search Cells"}),e.jsx(C,{id:"search",placeholder:"Search by cell name",className:"w-64",value:i,onChange:r=>p(r.target.value)})]}),e.jsx(H,{data:o,columns:Q})]})]})]})]})}export{ge as default};
