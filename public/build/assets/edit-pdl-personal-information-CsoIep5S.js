import{r as u,m as N,K as w,j as e}from"./app-BvO3OH2q.js";import{A as j,a as g,b as v}from"./alert-DmeK3rpn.js";import{B as h}from"./button-DfXw9gWu.js";import{D as E,e as A,a as I,b as B,c as T,d as L,f as P,g as U}from"./app-layout-BRxvs1n_.js";import{I as t}from"./index-DVgMvxgg.js";import{L as i}from"./label-BvegWPpF.js";import{S as p,a as f,b as y,c as b,d as c}from"./select-FRi5uzIA.js";import{f as D}from"./format-CBpsKyOP.js";function R({pdl:s}){const[l,C]=u.useState(s.birthdate?new Date(s.birthdate):void 0),{data:r,setData:d,put:S,processing:F,errors:m}=N({fname:s.fname,lname:s.lname,alias:s.alias??"",birthdate:s.birthdate,age:(s.age??"").toString(),gender:s.gender??"",ethnic_group:s.ethnic_group??"",civil_status:s.civil_status??"",brgy:s.brgy??"",city:s.city??"",province:s.province??""}),{props:_}=w(),x=_.success;u.useEffect(()=>{if(l){const a=D(l,"yyyy-MM-dd"),o=new Date().getFullYear()-l.getFullYear();d("birthdate",a),d("age",o.toString())}},[l]);const n=a=>{const o=a.target.name;d(o,a.target.value)},M=a=>{a.preventDefault(),S(route("pdl-management.update",s.id),{preserveScroll:!0})};return e.jsxs(E,{children:[e.jsx(A,{asChild:!0,children:e.jsx(h,{variant:"outline",children:"Edit"})}),e.jsxs(I,{className:"sm:max-w-2xl",children:[e.jsxs(B,{children:[e.jsx(T,{children:"Edit Personal Information"}),e.jsx(L,{children:"Update the details for this personal information record."})]}),e.jsxs("form",{onSubmit:M,className:"mx-auto w-full space-y-4",children:[Object.keys(m).length>0&&e.jsxs(j,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(g,{children:"Unable to update record"}),e.jsx(v,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(m).map((a,o)=>e.jsx("li",{children:a},o))})})]}),x&&e.jsxs(j,{variant:"default",className:"mb-4",children:[e.jsx(g,{children:"Success"}),e.jsx(v,{children:x})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"fname",children:"First Name"}),e.jsx(t,{id:"fname",name:"fname",value:r.fname,onChange:n})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lname",children:"Last Name"}),e.jsx(t,{id:"lname",name:"lname",value:r.lname,onChange:n})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"alias",children:"Alias"}),e.jsx(t,{id:"alias",name:"alias",value:r.alias,onChange:n})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Date of Birth"}),e.jsx(t,{type:"date",value:l?D(l,"yyyy-MM-dd"):"",onChange:a=>C(a.target.value?new Date(a.target.value):void 0),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Gender"}),e.jsxs(p,{value:r.gender,onValueChange:a=>d("gender",a),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select gender"})}),e.jsxs(b,{children:[e.jsx(c,{value:"Male",children:"Male"}),e.jsx(c,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(t,{id:"ethnic_group",name:"ethnic_group",value:r.ethnic_group,onChange:n})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Civil Status"}),e.jsxs(p,{value:r.civil_status,onValueChange:a=>d("civil_status",a),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select status"})}),e.jsxs(b,{children:[e.jsx(c,{value:"Single",children:"Single"}),e.jsx(c,{value:"Married",children:"Married"}),e.jsx(c,{value:"Widowed",children:"Widowed"}),e.jsx(c,{value:"Divorced",children:"Divorced"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"brgy",children:"Barangay"}),e.jsx(t,{id:"brgy",name:"brgy",value:r.brgy,onChange:n})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(t,{id:"city",name:"city",value:r.city,onChange:n})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"province",children:"Province"}),e.jsx(t,{id:"province",name:"province",value:r.province,onChange:n})]})]}),e.jsxs(P,{children:[e.jsx(h,{type:"submit",disabled:F,children:"Update"}),e.jsx(U,{asChild:!0,children:e.jsx(h,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}export{R as E};
