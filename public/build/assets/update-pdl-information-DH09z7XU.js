import{r as f,K as la,m as ca,j as e,L as na}from"./app-B-BvmNG2.js";import{A as da,X as z,P as oa,q as ma,r as ha}from"./app-layout-arkDNjE7.js";import{A as de,b as oe,a as me}from"./alert-DDIvgFS6.js";import{B as H}from"./badge-BFp3OK_N.js";import{B as u}from"./button-BkYnLxJc.js";import{C as R,a as B,b as I,c as O}from"./card-CXkF4swp.js";import{C as xa,a as ua,b as pa,c as ga,d as ja,e as fa,f as va}from"./command-EllB4loP.js";import{I as m}from"./input-CP1M5OqT.js";import{L as c}from"./label-C_09m_LT.js";import{u as ya,P as Na,U as _a}from"./usePSGCLocation-D2RnfEZ0.js";import{R as ba,a as Vs}from"./radio-group-cMTY7hcI.js";import{S as D,a as S,b as M,c as T,d as p}from"./select-B4WaQ0SM.js";import{S as Us}from"./separator-BzHOTDtm.js";import{T as A}from"./textarea-D3ZhvGvu.js";import{E as J}from"./eye-OMvYGJok.js";import{F as _}from"./users-MtUN6MQN.js";import{C as Ca}from"./index-CeuFmSDV.js";import{L as he}from"./loader-circle-Dr2Lk_48.js";import{I as wa}from"./image-CeHbxwTk.js";import{f as X}from"./format-B3rlCQGj.js";import"./index-B-O_cG-1.js";import"./user-DpLCl6eu.js";import"./scale-BQqkX0MN.js";import"./index-CHDGbgLt.js";import"./index-CEPVX32U.js";const Pa=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}],ka=[{title:"Update PDL Management",href:"/pdl-management"}],V=[{id:1,title:"Personal Information",description:"Basic personal details and address"},{id:2,title:"Court Order Details",description:"Court order and legal documentation"},{id:3,title:"Case Information",description:"Criminal case details and status"},{id:4,title:"Medical Records",description:"Health and medical information"},{id:5,title:"Physical Characteristics",description:"Physical description and identification marks"},{id:6,title:"Review & Submit",description:"Review all information before submission"}];function Za(){var be,Ce,we,Pe,ke,Fe,De,Se,Me,Te,Ae,Ee,Le,Re,Be,Ie,Oe,Ve,Ue,Ge,We,ze,He,Je,Xe,$e,qe,Ke,Ye,Qe,Ze,es,ss,as,is,ts,rs,ls,cs,ns,ds,os,ms,hs,xs,us,ps,gs,js;const[g,Y]=f.useState(1),[d,Q]=f.useState(0),{props:Z}=la(),{pdl:t}=Z,{provinces:U,citiesMunicipalities:G,barangays:W,selectedProvince:$,selectedCityMunicipality:q,selectedBarangay:Gs,loading:b,error:xe,handleProvinceChange:ee,handleCityMunicipalityChange:se,handleBarangayChange:ae,getSelectedLocationNames:Ws}=ya(),ie=(s,r)=>{if(s==="province"){const l=U.find(n=>n.code===r);ee(r),x("province",(l==null?void 0:l.name)||""),x("city",""),x("brgy","")}else if(s==="city"){const l=G.find(n=>n.code===r);se(r),x("city",(l==null?void 0:l.name)||""),x("brgy","")}else if(s==="barangay"){const l=W.find(n=>n.code===r);ae(r),x("brgy",(l==null?void 0:l.name)||"")}};f.useEffect(()=>{if(t.province&&U.length>0){const s=U.find(r=>r.name===t.province);s&&ee(s.code)}},[U,t.province,ee]),f.useEffect(()=>{if(t.city&&G.length>0){const s=G.find(r=>r.name===t.city);s&&se(s.code)}},[G,t.city,se]),f.useEffect(()=>{if(t.brgy&&W.length>0){const s=W.find(r=>r.name===t.brgy);s&&ae(s.code)}},[W,t.brgy,ae]);const zs=()=>{const s=a.cases||[];x("cases",[...s,{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]),Q(s.length)},Hs=s=>{if(!a.cases||!Array.isArray(a.cases)||a.cases.length<=1)return;const r=a.cases.filter((l,n)=>n!==s);x("cases",r),Q(Math.min(d,r.length-1))},C=(s,r,l)=>{if(!a.cases||!Array.isArray(a.cases)||s<0||s>=a.cases.length)return;const n=[...a.cases];n[s]&&(n[s]={...n[s],[r]:l},x("cases",n))},{data:a,setData:x,put:Js,processing:te,errors:ue}=ca({id:t.id,fname:t.fname||"",lname:t.lname||"",alias:t.alias||"",mname:t.mname||"",birthdate:t.birthdate||"",age:t.age?t.age.toString():"",gender:t.gender||"",ethnic_group:t.ethnic_group||"",civil_status:t.civil_status||"",brgy:t.brgy||"",city:t.city||"",province:t.province||"",court_order_id:((Ce=(be=t.court_orders)==null?void 0:be[0])==null?void 0:Ce.court_order_id)||0,order_type:((Pe=(we=t.court_orders)==null?void 0:we[0])==null?void 0:Pe.order_type)||"",order_date:X(new Date((Fe=(ke=t.court_orders)==null?void 0:ke[0])==null?void 0:Fe.order_date),"yyyy-MM-dd")||"",received_date:X(new Date((Se=(De=t.court_orders)==null?void 0:De[0])==null?void 0:Se.received_date),"yyyy-MM-dd")||"",document_type:null,document_path:((Te=(Me=t.court_orders)==null?void 0:Me[0])==null?void 0:Te.document_path)||"",original_filename:((Ee=(Ae=t.court_orders)==null?void 0:Ae[0])==null?void 0:Ee.original_filename)||"",court_branch:((Re=(Le=t.court_orders)==null?void 0:Le[0])==null?void 0:Re.court_branch)||"",cod_remarks:((Ie=(Be=t.court_orders)==null?void 0:Be[0])==null?void 0:Ie.remarks)||"",medical_record_id:((Ve=(Oe=t.medical_records)==null?void 0:Oe[0])==null?void 0:Ve.medical_record_id)||0,complaint:((Ge=(Ue=t.medical_records)==null?void 0:Ue[0])==null?void 0:Ge.complaint)||"",date:((ze=(We=t.medical_records)==null?void 0:We[0])==null?void 0:ze.date)||new Date().toISOString().split("T")[0],prognosis:((Je=(He=t.medical_records)==null?void 0:He[0])==null?void 0:Je.prognosis)||"",prescription:(($e=(Xe=t.medical_records)==null?void 0:Xe[0])==null?void 0:$e.prescription)||"",findings:((Ke=(qe=t.medical_records)==null?void 0:qe[0])==null?void 0:Ke.findings)||"",physical_characteristic_id:((Qe=(Ye=t.physical_characteristics)==null?void 0:Ye[0])==null?void 0:Qe.characteristic_id)||0,height:((es=(Ze=t.physical_characteristics)==null?void 0:Ze[0])==null?void 0:es.height)??170,weight:((as=(ss=t.physical_characteristics)==null?void 0:ss[0])==null?void 0:as.weight)??70,build:((ts=(is=t.physical_characteristics)==null?void 0:is[0])==null?void 0:ts.build)||"",complexion:((ls=(rs=t.physical_characteristics)==null?void 0:rs[0])==null?void 0:ls.complexion)||"",hair_color:((ns=(cs=t.physical_characteristics)==null?void 0:cs[0])==null?void 0:ns.hair_color)||"",eye_color:((os=(ds=t.physical_characteristics)==null?void 0:ds[0])==null?void 0:os.eye_color)||"",identification_marks:((hs=(ms=t.physical_characteristics)==null?void 0:ms[0])==null?void 0:hs.identification_marks)||"",mark_location:((us=(xs=t.physical_characteristics)==null?void 0:xs[0])==null?void 0:us.mark_location)||"",pc_remark:((gs=(ps=t.physical_characteristics)==null?void 0:ps[0])==null?void 0:gs.remark)||"",medical_files:[],cases:Array.isArray(t.cases)&&t.cases.length>0?t.cases.map(s=>({case_id:(s==null?void 0:s.case_id)||0,case_number:(s==null?void 0:s.case_number)||"",crime_committed:(s==null?void 0:s.crime_committed)||"",date_committed:X(new Date(s==null?void 0:s.date_committed),"yyyy-MM-dd")||"",time_committed:(s==null?void 0:s.time_committed)||"",case_status:(s==null?void 0:s.case_status)||"open",case_remarks:(s==null?void 0:s.case_remarks)||"",security_classification:(s==null?void 0:s.security_classification)||"medium",drug_related:(s==null?void 0:s.drug_related)||!1})):[{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]}),pe=Z.success,re=Z.error,[ge,Xs]=f.useState(a.birthdate?new Date(a.birthdate):void 0),[je,fe]=f.useState(!1),[le,ce]=f.useState([]),[w,E]=f.useState(null),[P,L]=f.useState(null),[v,k]=f.useState(null),[y,F]=f.useState(null),$s=s=>{const r=Array.from(s.target.files||[]);ce(l=>[...l,...r])},qs=s=>{const r=new FileReader;s.type.startsWith("image/")?(r.onload=l=>{var n;E((n=l.target)==null?void 0:n.result)},r.readAsDataURL(s)):s.type==="application/pdf"?(r.onload=l=>{var n;E((n=l.target)==null?void 0:n.result)},r.readAsDataURL(s)):s.type==="text/plain"?(r.onload=l=>{var n;E((n=l.target)==null?void 0:n.result)},r.readAsText(s)):s.type.includes("document")||s.name.endsWith(".doc")||s.name.endsWith(".docx")?E("document-file"):E(null)},Ks=s=>{const r=new FileReader;s.type.startsWith("image/")?(r.onload=l=>{var n;L((n=l.target)==null?void 0:n.result)},r.readAsDataURL(s)):s.type==="application/pdf"?(r.onload=l=>{var n;L((n=l.target)==null?void 0:n.result)},r.readAsDataURL(s)):s.type==="text/plain"?(r.onload=l=>{var n;L((n=l.target)==null?void 0:n.result)},r.readAsText(s)):s.type.includes("document")||s.name.endsWith(".doc")||s.name.endsWith(".docx")?L("document-file"):L(null)},Ys=(s,r)=>{var n;const l=(n=r.split(".").pop())==null?void 0:n.toLowerCase();["jpg","jpeg","png","gif"].includes(l||"")?k(`/storage/${s}`):l==="pdf"?k(`/storage/${s}`):l==="txt"?fetch(`/storage/${s}`).then(N=>N.text()).then(N=>k(N)).catch(()=>k("document-file")):(["doc","docx"].includes(l||""),k("document-file"))},ne=(s,r)=>{var n;const l=(n=r.split(".").pop())==null?void 0:n.toLowerCase();["jpg","jpeg","png","gif"].includes(l||"")?F(`/storage/${s}`):l==="pdf"?F(`/storage/${s}`):l==="txt"?fetch(`/storage/${s}`).then(N=>N.text()).then(N=>F(N)).catch(()=>F("document-file")):(["doc","docx"].includes(l||""),F("document-file"))},Qs=s=>{ce(r=>r.filter((l,n)=>n!==s))},Zs=s=>{var l;switch((l=s.name.split(".").pop())==null?void 0:l.toLowerCase()){case"pdf":return e.jsx(_,{className:"h-5 w-5 text-red-500"});case"jpg":case"jpeg":case"png":case"gif":return e.jsx(wa,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(_,{className:"h-5 w-5 text-gray-500"})}},ve=s=>{if(s===0)return"0 Bytes";const r=1024,l=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,n)).toFixed(2))+" "+l[n]},ea=s=>{if(Xs(s),s){const r=X(s,"yyyy-MM-dd"),l=new Date().getFullYear()-s.getFullYear();x("birthdate",r),x("age",l.toString())}},h=s=>{const r=s.target.name,l=s.target.type==="number"?parseFloat(s.target.value):s.target.value;x(r,l)},sa=s=>{s.preventDefault(),x("medical_files",le),Js(route("pdl-management.personal-information.update",t.id),{preserveScroll:!0,onSuccess:()=>{ce([])}})},aa=()=>{g<V.length&&Y(g+1)},ia=()=>{g>1&&Y(g-1)},ta=s=>{Y(s)},ye=s=>{switch(s){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"maximum":return"destructive";default:return"default"}},Ne=s=>{switch(s){case"open":return"destructive";case"closed":return"secondary";case"pending":return"default";default:return"default"}},ra=()=>{var s,r,l,n,N,fs,vs,ys,Ns,_s,bs,Cs,ws,Ps,ks,Fs,Ds,Ss,Ms,Ts,As,Es,Ls,Rs,Bs,Is,Os;switch(g){case 1:return e.jsxs(R,{children:[e.jsx(B,{children:e.jsx(I,{children:"Personal Information"})}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"fname",name:"fname",value:a.fname,onChange:h,placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"lname",name:"lname",value:a.lname,onChange:h,placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"mname",children:"Middle Name"}),e.jsx(m,{id:"mname",name:"mname",value:a.mname,onChange:h,placeholder:"Enter middle name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"alias",children:"Alias"}),e.jsx(m,{id:"alias",name:"alias",value:a.alias,onChange:h,placeholder:"Enter alias (if any)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"date",value:ge?X(ge,"yyyy-MM-dd"):a.birthdate,onChange:i=>ea(i.target.value?new Date(i.target.value):void 0)}),a.age&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age: ",a.age," years"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(D,{value:a.gender,onValueChange:i=>x("gender",i),children:[e.jsx(S,{children:e.jsx(M,{placeholder:"Select gender"})}),e.jsxs(T,{children:[e.jsx(p,{value:"Male",children:"Male"}),e.jsx(p,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(m,{id:"ethnic_group",name:"ethnic_group",value:a.ethnic_group,onChange:h,placeholder:"Enter ethnic group"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Civil Status"}),e.jsxs(D,{value:a.civil_status,onValueChange:i=>x("civil_status",i),children:[e.jsx(S,{children:e.jsx(M,{placeholder:"Select civil status"})}),e.jsxs(T,{children:[e.jsx(p,{value:"Single",children:"Single"}),e.jsx(p,{value:"Married",children:"Married"}),e.jsx(p,{value:"Widowed",children:"Widowed"}),e.jsx(p,{value:"Annulment",children:"Annulment"})]})]})]})]}),e.jsx(Us,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Address Information"}),xe&&e.jsxs(de,{variant:"destructive",className:"mb-4",children:[e.jsx(oe,{children:"Location Service Error"}),e.jsxs(me,{children:[xe,". Please refresh the page or try again later."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"province",children:["Province",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(D,{value:$,onValueChange:i=>ie("province",i),disabled:b.provinces,children:[e.jsx(S,{children:e.jsx(M,{placeholder:b.provinces?"Loading provinces...":"Select province"})}),e.jsx(T,{children:U.map(i=>e.jsx(p,{value:i.code,children:i.name},i.code))})]}),b.provinces&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(he,{className:"h-3 w-3 animate-spin"}),"Loading provinces..."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"city",children:["City/Municipality",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(D,{value:q,onValueChange:i=>ie("city",i),disabled:!$||b.citiesMunicipalities,children:[e.jsx(S,{children:e.jsx(M,{placeholder:$?b.citiesMunicipalities?"Loading cities/municipalities...":"Select city/municipality":"Select province first"})}),e.jsx(T,{children:G.map(i=>e.jsx(p,{value:i.code,children:i.name},i.code))})]}),b.citiesMunicipalities&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(he,{className:"h-3 w-3 animate-spin"}),"Loading cities/municipalities..."]}),!$&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"Please select a province first"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"brgy",children:["Barangay",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(D,{value:Gs,onValueChange:i=>ie("barangay",i),disabled:!q||b.barangays,children:[e.jsx(S,{children:e.jsx(M,{placeholder:q?b.barangays?"Loading barangays...":"Select barangay":"Select city/municipality first"})}),e.jsx(T,{children:W.map(i=>e.jsx(p,{value:i.code,children:i.name},i.code))})]}),b.barangays&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(he,{className:"h-3 w-3 animate-spin"}),"Loading barangays..."]}),!q&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"Please select a city/municipality first"})]})]})]})]})]});case 2:return e.jsxs(R,{children:[e.jsx(B,{children:e.jsx(I,{children:"Court Order Information"})}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"order_type",children:["Order Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"order_type",name:"order_type",value:a.order_type,onChange:h,placeholder:"Enter order type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Order Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"date",value:a.order_date,onChange:i=>x("order_date",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Received Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"date",value:a.received_date,onChange:i=>x("received_date",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"document_type",children:["Upload Document ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"file",id:"document_type",name:"document_type",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:i=>{var j;const o=(j=i.target.files)==null?void 0:j[0];o&&(x("document_type",o),qs(o))},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"}),a.original_filename&&e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.original_filename}),e.jsx("p",{className:"text-xs text-gray-500",children:"Current file"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ys(a.document_path||"",a.original_filename||""),className:"text-blue-500 hover:text-blue-700",title:"Preview current file",children:e.jsx(J,{className:"h-4 w-4"})})})]}),w&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"New Document Preview"}),e.jsxs("div",{className:"relative",children:[w==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:(s=a.document_type)==null?void 0:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-400",children:ve(((r=a.document_type)==null?void 0:r.size)||0)})]})}):w.startsWith("data:image/")?e.jsx("img",{src:w,alt:"Document preview",className:"max-h-64 w-full rounded-lg border object-contain"}):w.startsWith("data:application/pdf")?e.jsx("iframe",{src:w,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:w})}),e.jsx(u,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>E(null),children:e.jsx(z,{className:"h-4 w-4"})})]})]}),v&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"Current Document Preview"}),e.jsxs("div",{className:"relative",children:[v==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:a.original_filename}),e.jsx("p",{className:"text-xs text-gray-500",children:"Document file - Preview not available"})]})}):v.startsWith("/storage/")&&(v.includes(".jpg")||v.includes(".jpeg")||v.includes(".png"))?e.jsx("img",{src:v,alt:"Current document preview",className:"max-h-64 w-full rounded-lg border object-contain"}):v.startsWith("/storage/")&&v.includes(".pdf")?e.jsx("iframe",{src:v,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:v})}),e.jsx(u,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>k(null),children:e.jsx(z,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"court_branch",children:["Court Branch ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"court_branch",name:"court_branch",value:a.court_branch,onChange:h,placeholder:"Enter court branch"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"cod_remarks",children:"Remarks"}),e.jsx(A,{id:"cod_remarks",name:"cod_remarks",value:a.cod_remarks,onChange:h,rows:3,placeholder:"Enter any additional remarks..."})]})]})]});case 3:return e.jsxs(R,{children:[e.jsx(B,{children:e.jsxs(I,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information",((l=a.cases[d])==null?void 0:l.case_status)&&e.jsx(H,{variant:Ne(((n=a.cases[d])==null?void 0:n.case_status)||""),children:(((N=a.cases[d])==null?void 0:N.case_status)||"").charAt(0).toUpperCase()+(((fs=a.cases[d])==null?void 0:fs.case_status)||"").slice(1)}),((vs=a.cases[d])==null?void 0:vs.security_classification)&&e.jsxs(H,{variant:ye(((ys=a.cases[d])==null?void 0:ys.security_classification)||""),children:[(((Ns=a.cases[d])==null?void 0:Ns.security_classification)||"").charAt(0).toUpperCase()+(((_s=a.cases[d])==null?void 0:_s.security_classification)||"").slice(1)," ","Security"]})]}),e.jsx(u,{variant:"outline",size:"sm",type:"button",onClick:zs,children:"Add New Case"})]})}),e.jsxs(O,{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:a.cases.map((i,o)=>e.jsxs(u,{variant:d===o?"default":"outline",size:"sm",type:"button",onClick:()=>Q(o),className:"relative",children:["Case ",o+1,a.cases.length>1&&e.jsx("button",{onClick:j=>{j.stopPropagation(),Hs(o)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:"×"})]},o))}),a.cases&&Array.isArray(a.cases)&&a.cases.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"case_number",children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"case_number",value:((bs=a.cases[d])==null?void 0:bs.case_number)||"",onChange:i=>C(d,"case_number",i.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"crime_committed",children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(oa,{open:je,onOpenChange:fe,children:[e.jsx(ma,{asChild:!0,children:e.jsxs(u,{variant:"outline",role:"combobox","aria-expanded":je,className:"w-full justify-between",children:[((Cs=a.cases[d])==null?void 0:Cs.crime_committed)||"Select or type crime committed...",e.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(ha,{className:"w-full p-0",align:"start",children:e.jsxs(ua,{children:[e.jsx(pa,{placeholder:"Search crimes or type custom...",value:((ws=a.cases[d])==null?void 0:ws.crime_committed)||"",onValueChange:i=>C(d,"crime_committed",i)}),e.jsxs(ga,{children:[e.jsx(ja,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No crime found. Press Enter to add "',((Ps=a.cases[d])==null?void 0:Ps.crime_committed)||"",'" as custom crime.']})}),Pa.map(i=>e.jsx(fa,{heading:i.category,children:i.cases.map(o=>{var j;return e.jsxs(va,{value:o,onSelect:K=>{C(d,"crime_committed",K),fe(!1)},children:[e.jsx(Ca,{className:`mr-2 h-4 w-4 ${((j=a.cases[d])==null?void 0:j.crime_committed)===o?"opacity-100":"opacity-0"}`}),o]},o)})},i.category))]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"date_committed",children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"date",value:((ks=a.cases[d])==null?void 0:ks.date_committed)||"",onChange:i=>C(d,"date_committed",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"time_committed",children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"time",value:((Fs=a.cases[d])==null?void 0:Fs.time_committed)||"",onChange:i=>C(d,"time_committed",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"case_status",children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(D,{value:((Ds=a.cases[d])==null?void 0:Ds.case_status)||"",onValueChange:i=>C(d,"case_status",i),children:[e.jsx(S,{children:e.jsx(M,{placeholder:"Select status"})}),e.jsxs(T,{children:[e.jsx(p,{value:"on_trial",children:"On Trial"}),e.jsx(p,{value:"pending",children:"Pending"}),e.jsx(p,{value:"convicted",children:"Convicted"}),e.jsx(p,{value:"deceased",children:"Deceased"}),e.jsx(p,{value:"case_closed",children:"Case Closed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"security_classification",children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(D,{value:((Ss=a.cases[d])==null?void 0:Ss.security_classification)||"",onValueChange:i=>C(d,"security_classification",i),children:[e.jsx(S,{children:e.jsx(M,{placeholder:"Select classification"})}),e.jsxs(T,{children:[e.jsx(p,{value:"low",children:"Low"}),e.jsx(p,{value:"medium",children:"Medium"}),e.jsx(p,{value:"high",children:"High"}),e.jsx(p,{value:"maximum",children:"Maximum"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Drug Related"}),e.jsxs(ba,{value:(Ms=a.cases[d])!=null&&Ms.drug_related?"yes":"no",onValueChange:i=>C(d,"drug_related",i==="yes"),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vs,{value:"yes",id:"drug_yes"}),e.jsx(c,{htmlFor:"drug_yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vs,{value:"no",id:"drug_no"}),e.jsx(c,{htmlFor:"drug_no",children:"No"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Indicate if this case is related to drug offenses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"case_remarks",children:"Case Remarks"}),e.jsx(A,{id:"case_remarks",value:((Ts=a.cases[d])==null?void 0:Ts.case_remarks)||"",onChange:i=>C(d,"case_remarks",i.target.value),rows:3,placeholder:"Enter case-related remarks..."})]})]})]})]});case 4:return e.jsxs(R,{children:[e.jsx(B,{children:e.jsx(I,{children:"Medical Records"})}),e.jsx(O,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"date",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"date",id:"date",value:a.date,onChange:i=>x("date",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"complaint",children:["Complaint ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"complaint",name:"complaint",value:a.complaint,onChange:h,rows:3,placeholder:"Describe the medical complaint or symptoms..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"findings",children:["Medical Findings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"findings",name:"findings",value:a.findings,onChange:h,rows:3,placeholder:"Enter medical findings and observations..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"prognosis",children:["Prognosis ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"prognosis",name:"prognosis",value:a.prognosis,onChange:h,rows:3,placeholder:"Enter medical prognosis (e.g., Good prognosis with treatment, Poor prognosis due to complications, etc.)"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Specify prognosis details in parentheses for clarity"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Medical Documents"}),e.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-6 text-center transition-colors hover:border-gray-400",children:[e.jsx("input",{type:"file",id:"medical_files",name:"medical_files",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:$s,className:"hidden"}),e.jsxs("label",{htmlFor:"medical_files",className:"cursor-pointer",children:[e.jsx(_a,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload medical documents and images"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Supports: Images (JPG, PNG, GIF), PDF, DOC, DOCX, TXT"})]})]})]})]}),le.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Uploaded Files"}),e.jsx("div",{className:"space-y-2",children:le.map((i,o)=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[Zs(i),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:i.name}),e.jsx("p",{className:"text-xs text-gray-500",children:ve(i.size)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ks(i),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(J,{className:"h-4 w-4"})}),e.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>Qs(o),children:e.jsx(z,{className:"h-4 w-4"})})]})]},o))})]}),P&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"New File Preview"}),e.jsxs("div",{className:"relative",children:[P==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"})]})}):P.startsWith("data:image/")?e.jsx("img",{src:P,alt:"File preview",className:"max-h-64 w-full rounded-lg border object-contain"}):P.startsWith("data:application/pdf")?e.jsx("iframe",{src:P,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:P})}),e.jsx(u,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>L(null),children:e.jsx(z,{className:"h-4 w-4"})})]})]}),((Es=(As=t.medical_records)==null?void 0:As[0])==null?void 0:Es.single_file)&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"Current Medical Record File"}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.medical_records[0].single_file.original_filename}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(Ls=t.medical_records[0].single_file.extension)==null?void 0:Ls.toUpperCase()," • Medical record"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>ne(t.medical_records[0].single_file.file_path,t.medical_records[0].single_file.original_filename),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(J,{className:"h-4 w-4"})})})]})]}),(Bs=(Rs=t.medical_records)==null?void 0:Rs[0])!=null&&Bs.files&&t.medical_records[0].files.length>0||(Os=(Is=t.medical_records)==null?void 0:Is[0])!=null&&Os.original_filename&&t.medical_records[0].original_filename?e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"Current Medical Documents"}),e.jsx("div",{className:"space-y-2",children:t.medical_records[0].files&&t.medical_records[0].files.length>0?t.medical_records[0].files.map((i,o)=>{var j;return e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.original_filename}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(j=i.extension)==null?void 0:j.toUpperCase()," • Medical document"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>ne(i.file_path,i.original_filename),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(J,{className:"h-4 w-4"})})})]},o)}):t.medical_records[0].original_filename.split(",").map((i,o)=>{var K;const j=(K=t.medical_records[0].file_path)==null?void 0:K.split(",")[o];return e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i}),e.jsx("p",{className:"text-xs text-gray-500",children:"Medical document"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(u,{type:"button",variant:"ghost",size:"sm",onClick:()=>ne(j||"",i),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(J,{className:"h-4 w-4"})})})]},o)})})]}):null,y&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"Current Medical File Preview"}),e.jsxs("div",{className:"relative",children:[y==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"})]})}):y.startsWith("/storage/")&&(y.includes(".jpg")||y.includes(".jpeg")||y.includes(".png"))?e.jsx("img",{src:y,alt:"Current medical file preview",className:"max-h-64 w-full rounded-lg border object-contain"}):y.startsWith("/storage/")&&y.includes(".pdf")?e.jsx("iframe",{src:y,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:y})}),e.jsx(u,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>F(null),children:e.jsx(z,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(c,{htmlFor:"medical_records_preview",children:"Medical Records Preview"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"prescription",children:["Prescription ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"prescription",name:"prescription",value:a.prescription,onChange:h,rows:3,placeholder:"Enter prescribed medications and treatments..."})]})]})})]});case 5:return e.jsxs(R,{children:[e.jsx(B,{children:e.jsxs(I,{className:"flex items-center gap-2",children:["Physical Characteristics",a.height&&a.weight&&e.jsxs(H,{variant:"secondary",children:[a.height,"cm / ",a.weight,"kg"]})]})}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"height",children:["Height (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"number",id:"height",name:"height",min:"100",max:"250",value:a.height,onChange:h,placeholder:"170"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"weight",children:["Weight (kg) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{type:"number",id:"weight",name:"weight",min:"30",max:"300",value:a.weight,onChange:h,placeholder:"70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"build",children:["Build ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"build",name:"build",value:a.build,onChange:h,placeholder:"e.g., Slim, Medium, Heavy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"complexion",children:["Complexion ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"complexion",name:"complexion",value:a.complexion,onChange:h,placeholder:"e.g., Fair, Dark, Medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"hair_color",children:["Hair Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"hair_color",name:"hair_color",value:a.hair_color,onChange:h,placeholder:"e.g., Black, Brown, Gray"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"eye_color",children:["Eye Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"eye_color",name:"eye_color",value:a.eye_color,onChange:h,placeholder:"e.g., Brown, Black, Blue"})]})]}),e.jsx(Us,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Identification Marks"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"identification_marks",children:["Identification Marks ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"identification_marks",name:"identification_marks",value:a.identification_marks,onChange:h,placeholder:"e.g., Scar, Tattoo, Birthmark"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"mark_location",children:["Mark Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"mark_location",name:"mark_location",value:a.mark_location,onChange:h,placeholder:"e.g., Left arm, Right cheek"})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(c,{htmlFor:"pc_remark",children:"Physical Characteristics Remarks"}),e.jsx(A,{id:"pc_remark",name:"pc_remark",value:a.pc_remark,onChange:h,rows:3,placeholder:"Enter any additional physical characteristic remarks..."})]})]})]})]})]});case 6:return e.jsxs(R,{children:[e.jsx(B,{children:e.jsx(I,{children:"Review & Update"})}),e.jsx(O,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",a.fname," ",a.lname]}),a.alias&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Alias:"})," ",a.alias]}),a.age&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Age:"})," ",a.age," years"]}),a.gender&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",a.gender]}),a.civil_status&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Civil Status:"})," ",a.civil_status]}),(()=>{const i=Ws(),o=[i.barangay,i.cityMunicipality,i.province].filter(Boolean);return o.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",o.join(", ")]})})()]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Court Order"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[a.order_type&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Type:"})," ",a.order_type]}),a.court_branch&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Court Branch:"})," ",a.court_branch]}),a.order_date&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Date:"})," ",a.order_date]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["Cases (",a.cases.length,")"]}),e.jsx("div",{className:"space-y-3",children:a.cases.map((i,o)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Case ",o+1]}),e.jsx(H,{variant:Ne(i.case_status),children:i.case_status}),e.jsx(H,{variant:ye(i.security_classification),children:i.security_classification})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[i.case_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Case Number:"})," ",i.case_number]}),i.crime_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Crime:"})," ",i.crime_committed]}),i.date_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",i.date_committed]})]})]},o))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Physical Characteristics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[a.height&&a.weight&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Measurements:"})," ",a.height,"cm, ",a.weight,"kg"]}),a.build&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Build:"})," ",a.build]}),a.complexion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Complexion:"})," ",a.complexion]}),a.hair_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Hair Color:"})," ",a.hair_color]}),a.eye_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Eye Color:"})," ",a.eye_color]}),a.identification_marks&&a.mark_location&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marks:"})," ",a.identification_marks," (",a.mark_location,")"]})]})]})]})})]});default:return null}},_e=g/V.length*100;return e.jsxs(da,{breadcrumbs:ka,children:[e.jsx(na,{title:"Update PDL Information"}),e.jsxs("div",{className:"mx-auto w-full space-y-6 p-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Update PDL Information"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Step ",g," of ",V.length,": ",(js=V[g-1])==null?void 0:js.description]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(_e),"% Complete"]})]}),e.jsx(Na,{value:_e,className:"w-full"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(s=>e.jsxs(u,{variant:g===s.id?"default":g>s.id?"secondary":"outline",size:"sm",onClick:()=>ta(s.id),className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-background text-xs",children:s.id}),s.title]},s.id))}),e.jsxs("form",{onSubmit:sa,className:"space-y-6",children:[(Object.keys(ue).length>0||re)&&e.jsx("div",{"data-alert-container":!0,className:"relative",children:e.jsxs(de,{variant:"destructive",children:[e.jsx("button",{type:"button","aria-label":"Close",onClick:s=>{const r=s.currentTarget.closest("[data-alert-container]")||void 0;r&&(r.style.display="none")},className:"absolute top-2 right-2 rounded p-1 text-lg leading-none hover:bg-muted",children:"×"}),e.jsx(oe,{children:"Unable to process request"}),e.jsx(me,{children:re?e.jsx("div",{className:"text-sm",children:re}):e.jsx("ul",{className:"list-inside list-disc space-y-1",children:Object.values(ue).map((s,r)=>e.jsx("li",{className:"text-sm",children:s},r))})})]})}),pe&&e.jsx("div",{"data-alert-container":!0,className:"relative",style:{animation:"fadeIn 0.3s ease-in-out"},children:e.jsxs(de,{className:"border-green-200 bg-green-50 text-green-800",children:[e.jsx("button",{type:"button","aria-label":"Close",onClick:s=>{const r=s.currentTarget.closest("[data-alert-container]")||void 0;r&&(r.style.display="none")},className:"absolute top-2 right-2 rounded p-1 text-sm leading-none hover:bg-muted",children:"×"}),e.jsx(oe,{children:"Success"}),e.jsx(me,{children:pe})]})}),ra(),e.jsxs("div",{className:"flex items-center justify-between border-t pt-6",children:[e.jsx("div",{className:"flex gap-2",children:g>1&&e.jsx(u,{type:"button",variant:"outline",onClick:ia,children:"Previous"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{type:"button",variant:"outline",onClick:()=>{window.location.href=route("pdl-management.personal-information")},disabled:te,children:"Cancel"}),g<V.length?e.jsx(u,{type:"button",onClick:aa,children:"Next"}):e.jsx(u,{type:"submit",disabled:te,className:"min-w-[120px]",children:te?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Updating..."]}):"Update PDL Record"})]})]})]})]})]})}export{Za as default};
