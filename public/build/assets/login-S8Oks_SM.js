import{r as c,m as I,j as e,L as F}from"./app-CzpI4ox_.js";import{I as u}from"./input-error-BHMK4S2Q.js";import{T as p}from"./text-link-B55SLISz.js";import{c as S,B as A}from"./button-7HdFF23N.js";import{L as P,E as D,C as q}from"./checkbox-L4sjSXsS.js";import{I as x}from"./index-BitkHseM.js";import{L as i}from"./label-BL2ktVww.js";import{A as h,b as g}from"./alert-B9xDvDOq.js";import{A as M}from"./auth-layout-CWJycJOL.js";import{E as V}from"./eye-BcbfQD4f.js";import{L as B}from"./loader-circle-Dnj7AlOt.js";import"./index-D469PI8o.js";import"./index-CqLSiyF-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],O=S("Mail",H);function Z({status:l,canResetPassword:b}){const[t,f]=c.useState(!1),[w,j]=c.useState(0),{data:a,setData:o,post:v,processing:n,errors:s,reset:m,clearErrors:d}=I({email:"",password:"",remember:!1}),N=r=>{r.preventDefault(),j(k=>k+1),v(route("login"),{onFinish:()=>m("password"),onError:()=>{m("password")}})},y=()=>{f(!t)},C=r=>{o("email",r.target.value),s.email&&d("email")},L=r=>{o("password",r.target.value),s.password&&d("password")},E=a.email.length>0&&a.password.length>0;return e.jsxs(M,{title:"Welcome back",description:"Sign in to your account to continue",children:[e.jsx(F,{title:"Log in"}),l&&e.jsx(h,{className:"mb-6 border-green-200 bg-green-50",children:e.jsx(g,{className:"text-green-800",children:l})}),w>=3&&Object.keys(s).length>0&&e.jsx(h,{className:"mb-6 border-amber-200 bg-amber-50",children:e.jsx(g,{className:"text-amber-800",children:"Having trouble logging in? Make sure your email and password are correct, or try resetting your password."})}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:N,noValidate:!0,children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"email",className:"text-sm font-medium",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(x,{id:"email",type:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",value:a.email,onChange:C,placeholder:"Enter your email",className:`pl-10 ${s.email?"border-destructive focus-visible:ring-destructive":""}`,"aria-invalid":s.email?"true":"false","aria-describedby":s.email?"email-error":void 0})]}),e.jsx(u,{id:"email-error",message:s.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),b&&e.jsx(p,{href:route("password.request"),className:"text-sm hover:underline",tabIndex:5,children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(x,{id:"password",type:t?"text":"password",required:!0,tabIndex:2,autoComplete:"current-password",value:a.password,onChange:L,placeholder:"Enter your password",className:`pl-10 pr-10 ${s.password?"border-destructive focus-visible:ring-destructive":""}`,"aria-invalid":s.password?"true":"false","aria-describedby":s.password?"password-error":void 0}),e.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground focus:outline-none",tabIndex:-1,"aria-label":t?"Hide password":"Show password",children:t?e.jsx(D,{className:"h-4 w-4"}):e.jsx(V,{className:"h-4 w-4"})})]}),e.jsx(u,{id:"password-error",message:s.password})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{id:"remember",name:"remember",checked:a.remember,onCheckedChange:r=>o("remember",!!r),tabIndex:3}),e.jsx(i,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me for 30 days"})]}),e.jsx(A,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:n||!E,size:"lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(p,{href:route("register"),tabIndex:6,className:"font-medium hover:underline",children:"Create account"})]})})]})]})}export{Z as default};
