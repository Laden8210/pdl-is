import{m as w,j as e,L as P}from"./app-X9tvQ9Jw.js";import{B as c}from"./button-D1hTMpsG.js";import{C as t,a as o,b as m,d as g,c as x}from"./card-CqGqPorN.js";import{I as p}from"./input-DfBN7AtP.js";import{L as j}from"./label-CSks8dJP.js";import{A,X as R}from"./app-layout-CdsUprv7.js";import{F as u,B as N}from"./users-DgcLgi-H.js";import{P as E}from"./plus-DJKKy-dq.js";import{D as I}from"./download-DhhVg9np.js";import{U as T}from"./user-BUMCkp4k.js";import"./index-DuVFJ1ts.js";import"./scale-mwnuYHHj.js";import"./eye-Cah3UpnM.js";function V({certificateData:s,filters:i}){const{data:r,setData:l,post:f,processing:h}=w({person_names:(i==null?void 0:i.person_names)||[""],requested_by:(i==null?void 0:i.requested_by)||"",requesting_agency:(i==null?void 0:i.requesting_agency)||"",export_pdf:!1}),y=()=>{l("person_names",[...r.person_names,""])},v=n=>{if(r.person_names.length>1){const a=r.person_names.filter((d,C)=>C!==n);l("person_names",a)}},_=(n,a)=>{const d=[...r.person_names];d[n]=a,l("person_names",d)},b=(n=!1)=>{l("export_pdf",n),f(route("reports.no-records-certificate.generate"))},q=()=>{const n=new URLSearchParams;r.person_names.forEach(a=>{n.append("person_names[]",a)}),n.append("requested_by",r.requested_by),n.append("requesting_agency",r.requesting_agency),window.location.href=route("reports.no-records-certificate.export")+"?"+n.toString()};return e.jsxs(A,{children:[e.jsx(P,{title:"Certificate of No Records - South Cotabato Rehabilitation and Detention Center"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Certificate of No Records"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate official certificate stating no records exist for specified persons"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Official Certificate"})]})]}),e.jsxs(t,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Generate Certificate of No Records"}),e.jsx(g,{children:"Enter the names of persons and requesting information"})]}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{className:"text-base font-semibold",children:"Person Names"}),r.person_names.map((n,a)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(p,{placeholder:`Person ${a+1} Name`,value:n,onChange:d=>_(a,d.target.value)})}),r.person_names.length>1&&e.jsx(c,{type:"button",variant:"outline",size:"sm",onClick:()=>v(a),children:e.jsx(R,{className:"h-4 w-4"})})]},a)),e.jsxs(c,{type:"button",variant:"outline",onClick:y,className:"w-full",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Add Another Person"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"requested_by",children:"Requested By"}),e.jsx(p,{id:"requested_by",placeholder:"e.g., PEMS Edwin P. Arroyo",value:r.requested_by,onChange:n=>l("requested_by",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"requesting_agency",children:"Requesting Agency"}),e.jsx(p,{id:"requesting_agency",placeholder:"e.g., Philippine National Police ACG-RACV12",value:r.requesting_agency,onChange:n=>l("requesting_agency",n.target.value)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(c,{onClick:()=>b(!1),disabled:h||!r.person_names.some(n=>n.trim())||!r.requested_by||!r.requesting_agency,className:"flex-1",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),h?"Generating...":"Generate Certificate"]}),e.jsxs(c,{onClick:()=>q(),disabled:h||!r.person_names.some(n=>n.trim())||!r.requested_by||!r.requesting_agency,variant:"outline",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})})]}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{children:[e.jsxs(o,{children:[e.jsx(m,{className:"text-center",children:s.title}),e.jsxs(g,{className:"text-center",children:[s.facility_name," - ",s.location]})]}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"font-bold text-lg",children:s.facility_name}),e.jsx("div",{className:"font-semibold",children:s.office}),e.jsx("div",{className:"font-semibold",children:s.unit}),e.jsx("div",{children:s.location}),e.jsxs("div",{className:"text-sm",children:["Tel #: ",s.contact.tel,"; Email Address: ",s.contact.email]})]}),e.jsx("hr",{className:"border-gray-300"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"font-bold text-lg text-center underline",children:s.title}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"font-bold underline",children:"TO WHOM IT MAY CONCERN:"}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:[e.jsx("strong",{children:"THIS IS TO CERTIFY"})," that this office has no records, whatsoever affecting the following persons:"]})}),e.jsx("div",{className:"text-sm ml-4",children:s.person_names.map((n,a)=>e.jsxs("div",{className:"mb-1",children:[a+1,". ",n]},a))}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:["This certification is issued upon the request of ",s.requested_by,",",s.requesting_agency," for whatever legal purpose it may serve him best."]})}),e.jsx("div",{className:"text-sm",children:e.jsxs("p",{children:["Issued this ",s.issue_date,", ",s.issue_location,"."]})})]})]}),e.jsxs("div",{className:"text-right mt-8",children:[e.jsx("div",{className:"font-bold",children:s.signed_by.name}),e.jsx("div",{children:s.signed_by.position})]})]})]}),e.jsxs(t,{children:[e.jsx(o,{children:e.jsx(m,{children:"Certificate Details"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Persons Listed:"}),e.jsx("span",{children:s.person_names.length})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Requested By:"}),e.jsx("span",{children:s.requested_by})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Agency:"}),e.jsx("span",{children:s.requesting_agency})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Issue Date:"}),e.jsx("span",{children:s.issue_date})]})]})]})})]})]}),!s&&e.jsxs(t,{children:[e.jsx(o,{children:e.jsx(m,{children:"Instructions"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Enter the full names of persons for whom no records exist"}),e.jsx("p",{children:'• Add multiple persons using the "Add Another Person" button'}),e.jsx("p",{children:"• Provide the name of the person requesting the certificate"}),e.jsx("p",{children:"• Specify the requesting agency or organization"}),e.jsx("p",{children:"• Export the certificate as PDF for official documentation"}),e.jsx("p",{children:"• Certificate is signed by the Provincial Warden"})]})})]})]})]})}export{V as default};
