import{K as w,m as L,j as e,L as N}from"./app-DPTt91av.js";import{I as m,B as d}from"./index-DJxly5yP.js";import{C as j,a as p,b as f,c as _}from"./card-ilNMwNHy.js";import{L as u}from"./label-CImv6V1y.js";import{T as v,a as M,b as l,c as a,d as R,e as r}from"./table-DovXvqui.js";import{A as T}from"./app-layout-E5qRpekv.js";import{D as S,a as P,b as k,c as y}from"./dropdown-menu-pMZ-ad4K.js";import{f as n}from"./format-CpNbv1J2.js";import"./utils-D7JdpEim.js";import"./users-C0TLK2Z9.js";import"./index-DmqNbwow.js";import"./index-DKSvpoYG.js";import"./index-BBbilLj6.js";const A=[{title:"Reports",href:"/reports"},{title:"List of PDL",href:"/reports/pdl-list"}];function J(){const{props:b}=w(),{pdls:i,filters:c}=b,{data:s,setData:o,get:h}=L({start_date:c.start_date||"",end_date:c.end_date||""}),g=()=>{h(route("reports.pdl-list",{start_date:s.start_date,end_date:s.end_date}))},C=()=>{const t=new URLSearchParams;s.start_date&&t.append("start_date",s.start_date),s.end_date&&t.append("end_date",s.end_date),window.location.href=route("reports.pdl-list.export")+"?"+t.toString()},x=(t,D)=>{window.open(route("reports.pdl.report",{pdl:t,type:D}),"_blank")};return e.jsxs(T,{breadcrumbs:A,children:[e.jsx(N,{title:"List of PDL Reports"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"List of PDL Reports"})}),e.jsxs(j,{children:[e.jsx(p,{children:e.jsx(f,{children:"Filter Reports"})}),e.jsxs(_,{children:[e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"start_date",children:"Start Date"}),e.jsx(m,{id:"start_date",type:"date",value:s.start_date,onChange:t=>o("start_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"end_date",children:"End Date"}),e.jsx(m,{id:"end_date",type:"date",value:s.end_date,onChange:t=>o("end_date",t.target.value)})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(d,{onClick:g,className:"bg-blue-500 hover:bg-blue-600",children:"Apply Filter"}),e.jsx(d,{variant:"outline",onClick:()=>{o({start_date:"",end_date:""}),h(route("reports.pdl-list"))},children:"Clear"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",i.length," records",s.start_date&&s.end_date&&` from ${n(new Date(s.start_date),"MMM dd, yyyy")} to ${n(new Date(s.end_date),"MMM dd, yyyy")}`]}),e.jsx(d,{onClick:C,variant:"outline",className:"bg-green-500 text-white hover:bg-green-600",children:"Export to List of PDL Report"})]})]})]}),e.jsxs(j,{children:[e.jsx(p,{children:e.jsx(f,{children:"PDL List"})}),e.jsx(_,{children:e.jsxs(v,{children:[e.jsx(M,{children:e.jsxs(l,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Case No"}),e.jsx(a,{children:"Crime Committed"}),e.jsx(a,{children:"Date of Birth"}),e.jsx(a,{children:"Date Committed"}),e.jsx(a,{children:"No. of Cases"}),e.jsx(a,{children:"Tribe"}),e.jsx(a,{children:"Years"}),e.jsx(a,{children:"Case Status"}),e.jsx(a,{children:"RTC"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(R,{children:i.length>0?i.map(t=>e.jsxs(l,{children:[e.jsx(r,{className:"font-medium",children:t.name}),e.jsx(r,{children:t.case_no}),e.jsx(r,{children:t.crime_committed}),e.jsx(r,{children:t.date_of_birth?n(new Date(t.date_of_birth),"MMM dd, yyyy"):"N/A"}),e.jsx(r,{children:t.date_committed?n(new Date(t.date_committed),"MMM dd, yyyy"):"N/A"}),e.jsx(r,{children:t.no_of_cases}),e.jsx(r,{children:t.tribe}),e.jsx(r,{children:t.years}),e.jsx(r,{children:t.case_status}),e.jsx(r,{children:t.rtc}),e.jsx(r,{children:e.jsxs(S,{children:[e.jsx(P,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Reports"})}),e.jsxs(k,{children:[e.jsx(y,{onClick:()=>x(t.id,"inmate-status"),children:"Inmates Status Report"}),e.jsx(y,{onClick:()=>x(t.id,"inmate-daily-status"),children:"Inmates Status Daily Report"})]})]})})]},t.id)):e.jsx(l,{children:e.jsx(r,{colSpan:10,className:"py-4 text-center",children:"No records found for the selected date range."})})})]})})]})]})]})}export{J as default};
