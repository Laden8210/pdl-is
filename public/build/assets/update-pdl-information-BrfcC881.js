import{r as E,K as Ze,m as $e,j as e,L as es}from"./app-h39Q3lKv.js";import{A as ss}from"./app-layout-CyYYVqVf.js";import{A as Re,a as Oe,b as Te}from"./alert-CqZiU6-D.js";import{B as b}from"./badge-Cdel0X5W.js";import{B as g,I as t}from"./index-B_s-eLau.js";import{C as v,a as _,b as y,c as N}from"./card-DaSgLxtN.js";import{L as c}from"./label-CUqt2UZy.js";import{S as C,a as k,b as w,c as F,d as o}from"./select-B_H9GGQQ.js";import{S as Ie}from"./separator-CWVE8NG5.js";import{T as u}from"./textarea-CUebMqhN.js";import{P as as}from"./progress-B18kiwVd.js";import{f as Ue}from"./format-CpNbv1J2.js";import"./utils-Bk2_xLts.js";import"./users-DcIAZgrS.js";import"./index-CgCOVt_n.js";import"./index-DQdbU8Y-.js";import"./index-B_ehX6FD.js";const rs=[{title:"Update PDL Management",href:"/pdl-management"}],f=[{id:1,title:"Personal Information",description:"Basic personal details and address"},{id:2,title:"Court Order Details",description:"Court order and legal documentation"},{id:3,title:"Case Information",description:"Criminal case details and status"},{id:4,title:"Medical Records",description:"Health and medical information"},{id:5,title:"Physical Characteristics",description:"Physical description and identification marks"},{id:6,title:"Review & Submit",description:"Review all information before submission"}];function Ns(){var I,U,H,V,G,z,W,q,Y,K,J,Q,X,Z,$,ee,se,ae,re,ie,ce,te,le,ne,de,oe,me,he,xe,pe,ue,je,ge,ve,_e,ye,Ne,fe,be,Ce,ke,we,Fe,Se,De,Me,Ee,Pe,Be,Ae,Le;const[m,S]=E.useState(1),[n,D]=E.useState(0),{props:P}=Ze(),{pdl:i}=P,He=()=>{h("cases",[...s.cases,{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium"}]),D(s.cases.length)},Ve=r=>{if(s.cases.length<=1)return;const d=s.cases.filter((x,a)=>a!==r);h("cases",d),D(Math.min(n,d.length-1))},j=(r,d,x)=>{const a=[...s.cases];a[r]={...a[r],[d]:x},h("cases",a)},{data:s,setData:h,put:Ge,processing:M,errors:B}=$e({id:i.id,fname:i.fname||"",lname:i.lname||"",alias:i.alias||"",birthdate:i.birthdate||"",age:i.age?i.age.toString():"",gender:i.gender||"",ethnic_group:i.ethnic_group||"",civil_status:i.civil_status||"",brgy:i.brgy||"",city:i.city||"",province:i.province||"",court_order_id:((U=(I=i.court_orders)==null?void 0:I[0])==null?void 0:U.court_order_id)||0,court_order_number:((V=(H=i.court_orders)==null?void 0:H[0])==null?void 0:V.court_order_number)||"",order_type:((z=(G=i.court_orders)==null?void 0:G[0])==null?void 0:z.order_type)||"",order_date:((q=(W=i.court_orders)==null?void 0:W[0])==null?void 0:q.order_date)||"",received_date:((K=(Y=i.court_orders)==null?void 0:Y[0])==null?void 0:K.received_date)||"",document_type:((Q=(J=i.court_orders)==null?void 0:J[0])==null?void 0:Q.document_type)||"",court_branch:((Z=(X=i.court_orders)==null?void 0:X[0])==null?void 0:Z.court_branch)||"",cod_remarks:((ee=($=i.court_orders)==null?void 0:$[0])==null?void 0:ee.remarks)||"",medical_record_id:((ae=(se=i.medical_records)==null?void 0:se[0])==null?void 0:ae.medical_record_id)||0,complaint:((ie=(re=i.medical_records)==null?void 0:re[0])==null?void 0:ie.complaint)||"",date:((te=(ce=i.medical_records)==null?void 0:ce[0])==null?void 0:te.date)||new Date().toISOString().split("T")[0],prognosis:((ne=(le=i.medical_records)==null?void 0:le[0])==null?void 0:ne.prognosis)||"",laboratory:((oe=(de=i.medical_records)==null?void 0:de[0])==null?void 0:oe.laboratory)||"",prescription:((he=(me=i.medical_records)==null?void 0:me[0])==null?void 0:he.prescription)||"",findings:((pe=(xe=i.medical_records)==null?void 0:xe[0])==null?void 0:pe.findings)||"",physical_characteristic_id:((je=(ue=i.physical_characteristics)==null?void 0:ue[0])==null?void 0:je.characteristic_id)||0,height:((ve=(ge=i.physical_characteristics)==null?void 0:ge[0])==null?void 0:ve.height)??170,weight:((ye=(_e=i.physical_characteristics)==null?void 0:_e[0])==null?void 0:ye.weight)??70,build:((fe=(Ne=i.physical_characteristics)==null?void 0:Ne[0])==null?void 0:fe.build)||"",complexion:((Ce=(be=i.physical_characteristics)==null?void 0:be[0])==null?void 0:Ce.complexion)||"",hair_color:((we=(ke=i.physical_characteristics)==null?void 0:ke[0])==null?void 0:we.hair_color)||"",eye_color:((Se=(Fe=i.physical_characteristics)==null?void 0:Fe[0])==null?void 0:Se.eye_color)||"",identification_marks:((Me=(De=i.physical_characteristics)==null?void 0:De[0])==null?void 0:Me.identification_marks)||"",mark_location:((Pe=(Ee=i.physical_characteristics)==null?void 0:Ee[0])==null?void 0:Pe.mark_location)||"",pc_remark:((Ae=(Be=i.physical_characteristics)==null?void 0:Be[0])==null?void 0:Ae.remark)||"",cases:Array.isArray(i.cases)&&i.cases.length>0?i.cases.map(r=>({case_id:r.case_id,case_number:r.case_number||"",crime_committed:r.crime_committed||"",date_committed:r.date_committed||"",time_committed:r.time_committed||"",case_status:r.case_status||"open",case_remarks:r.case_remarks||"",security_classification:r.security_classification||"medium"})):[{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium"}]}),A=P.success,[L,ze]=E.useState(s.birthdate?new Date(s.birthdate):void 0),We=r=>{if(ze(r),r){const d=Ue(r,"yyyy-MM-dd"),x=new Date().getFullYear()-r.getFullYear();h("birthdate",d),h("age",x.toString())}},l=r=>{const d=r.target.name,x=r.target.type==="number"?parseFloat(r.target.value):r.target.value;h(d,x)},qe=r=>{r.preventDefault(),Ge(route("pdl-management.personal-information.update",i.id),{preserveScroll:!0,onSuccess:()=>{setTimeout(()=>{window.location.href=route("pdl-management.index")},5e3)}})},Ye=()=>{m<f.length&&S(m+1)},Ke=()=>{m>1&&S(m-1)},Je=r=>{S(r)},R=r=>{switch(r){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"maximum":return"destructive";default:return"default"}},O=r=>{switch(r){case"open":return"destructive";case"closed":return"secondary";case"pending":return"default";default:return"default"}},Qe=()=>{var r,d,x;switch(m){case 1:return e.jsxs(v,{children:[e.jsx(_,{children:e.jsx(y,{children:"Personal Information"})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"fname",name:"fname",value:s.fname,onChange:l,placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"lname",name:"lname",value:s.lname,onChange:l,placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"alias",children:"Alias"}),e.jsx(t,{id:"alias",name:"alias",value:s.alias,onChange:l,placeholder:"Enter alias (if any)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"date",value:L?Ue(L,"yyyy-MM-dd"):s.birthdate,onChange:a=>We(a.target.value?new Date(a.target.value):void 0)}),s.age&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age: ",s.age," years"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(C,{value:s.gender,onValueChange:a=>h("gender",a),children:[e.jsx(k,{children:e.jsx(w,{placeholder:"Select gender"})}),e.jsxs(F,{children:[e.jsx(o,{value:"Male",children:"Male"}),e.jsx(o,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(t,{id:"ethnic_group",name:"ethnic_group",value:s.ethnic_group,onChange:l,placeholder:"Enter ethnic group"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Civil Status"}),e.jsxs(C,{value:s.civil_status,onValueChange:a=>h("civil_status",a),children:[e.jsx(k,{children:e.jsx(w,{placeholder:"Select civil status"})}),e.jsxs(F,{children:[e.jsx(o,{value:"Single",children:"Single"}),e.jsx(o,{value:"Married",children:"Married"}),e.jsx(o,{value:"Widowed",children:"Widowed"}),e.jsx(o,{value:"Divorced",children:"Divorced"})]})]})]})]}),e.jsx(Ie,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"brgy",children:"Barangay"}),e.jsx(t,{id:"brgy",name:"brgy",value:s.brgy,onChange:l,placeholder:"Enter barangay"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"city",children:"City"}),e.jsx(t,{id:"city",name:"city",value:s.city,onChange:l,placeholder:"Enter city"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"province",children:"Province"}),e.jsx(t,{id:"province",name:"province",value:s.province,onChange:l,placeholder:"Enter province"})]})]})]})]})]});case 2:return e.jsxs(v,{children:[e.jsx(_,{children:e.jsx(y,{children:"Court Order Information"})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"court_order_number",children:["Court Order Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"court_order_number",name:"court_order_number",value:s.court_order_number,onChange:l,placeholder:"Enter court order number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"order_type",children:["Order Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"order_type",name:"order_type",value:s.order_type,onChange:l,placeholder:"Enter order type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Order Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"date",value:s.order_date,onChange:a=>h("order_date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["Received Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"date",value:s.received_date,onChange:a=>h("received_date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"document_type",children:["Document Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"document_type",name:"document_type",placeholder:"e.g., PDF, IMS",value:s.document_type,onChange:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"court_branch",children:["Court Branch ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"court_branch",name:"court_branch",value:s.court_branch,onChange:l,placeholder:"Enter court branch"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"cod_remarks",children:"Remarks"}),e.jsx(u,{id:"cod_remarks",name:"cod_remarks",value:s.cod_remarks,onChange:l,rows:3,placeholder:"Enter any additional remarks..."})]})]})]});case 3:return e.jsxs(v,{children:[e.jsx(_,{children:e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information",((r=s.cases[n])==null?void 0:r.case_status)&&e.jsx(b,{variant:O(s.cases[n].case_status),children:s.cases[n].case_status.charAt(0).toUpperCase()+s.cases[n].case_status.slice(1)}),((d=s.cases[n])==null?void 0:d.security_classification)&&e.jsxs(b,{variant:R(s.cases[n].security_classification),children:[s.cases[n].security_classification.charAt(0).toUpperCase()+s.cases[n].security_classification.slice(1)," ","Security"]})]}),e.jsx(g,{variant:"outline",size:"sm",type:"button",onClick:He,children:"Add New Case"})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:s.cases.map((a,p)=>e.jsxs(g,{variant:n===p?"default":"outline",size:"sm",type:"button",onClick:()=>D(p),className:"relative",children:["Case ",p+1,s.cases.length>1&&e.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),Ve(p)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:"Ã—"})]},p))}),s.cases.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"case_number",children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"case_number",value:s.cases[n].case_number,onChange:a=>j(n,"case_number",a.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"crime_committed",children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"crime_committed",value:s.cases[n].crime_committed,onChange:a=>j(n,"crime_committed",a.target.value),placeholder:"Enter crime committed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"date_committed",children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"date",value:s.cases[n].date_committed,onChange:a=>j(n,"date_committed",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"time_committed",children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"time",value:s.cases[n].time_committed,onChange:a=>j(n,"time_committed",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"case_status",children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(C,{value:s.cases[n].case_status,onValueChange:a=>j(n,"case_status",a),children:[e.jsx(k,{children:e.jsx(w,{placeholder:"Select status"})}),e.jsxs(F,{children:[e.jsx(o,{value:"open",children:"Open"}),e.jsx(o,{value:"closed",children:"Closed"}),e.jsx(o,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"security_classification",children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(C,{value:s.cases[n].security_classification,onValueChange:a=>j(n,"security_classification",a),children:[e.jsx(k,{children:e.jsx(w,{placeholder:"Select classification"})}),e.jsxs(F,{children:[e.jsx(o,{value:"low",children:"Low"}),e.jsx(o,{value:"medium",children:"Medium"}),e.jsx(o,{value:"high",children:"High"}),e.jsx(o,{value:"maximum",children:"Maximum"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"case_remarks",children:"Case Remarks"}),e.jsx(u,{id:"case_remarks",value:((x=s.cases[n])==null?void 0:x.case_remarks)||"",onChange:a=>j(n,"case_remarks",a.target.value),rows:3,placeholder:"Enter case-related remarks..."})]})]})]})]});case 4:return e.jsxs(v,{children:[e.jsx(_,{children:e.jsx(y,{children:"Medical Records"})}),e.jsx(N,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"date",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"date",id:"date",value:s.date,onChange:a=>h("date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"complaint",children:["Complaint ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{id:"complaint",name:"complaint",value:s.complaint,onChange:l,rows:3,placeholder:"Describe the medical complaint or symptoms..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"findings",children:["Medical Findings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{id:"findings",name:"findings",value:s.findings,onChange:l,rows:3,placeholder:"Enter medical findings and observations..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"prognosis",children:["Prognosis ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{id:"prognosis",name:"prognosis",value:s.prognosis,onChange:l,rows:3,placeholder:"Enter medical prognosis..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"laboratory",children:["Laboratory Results ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{id:"laboratory",name:"laboratory",value:s.laboratory,onChange:l,rows:3,placeholder:"Enter laboratory test results..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"prescription",children:["Prescription ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(u,{id:"prescription",name:"prescription",value:s.prescription,onChange:l,rows:3,placeholder:"Enter prescribed medications and treatments..."})]})]})})]});case 5:return e.jsxs(v,{children:[e.jsx(_,{children:e.jsxs(y,{className:"flex items-center gap-2",children:["Physical Characteristics",s.height&&s.weight&&e.jsxs(b,{variant:"secondary",children:[s.height,"cm / ",s.weight,"kg"]})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"height",children:["Height (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"number",id:"height",name:"height",min:"100",max:"250",value:s.height,onChange:l,placeholder:"170"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"weight",children:["Weight (kg) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"number",id:"weight",name:"weight",min:"30",max:"300",value:s.weight,onChange:l,placeholder:"70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"build",children:["Build ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"build",name:"build",value:s.build,onChange:l,placeholder:"e.g., Slim, Medium, Heavy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"complexion",children:["Complexion ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"complexion",name:"complexion",value:s.complexion,onChange:l,placeholder:"e.g., Fair, Dark, Medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"hair_color",children:["Hair Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"hair_color",name:"hair_color",value:s.hair_color,onChange:l,placeholder:"e.g., Black, Brown, Gray"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"eye_color",children:["Eye Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"eye_color",name:"eye_color",value:s.eye_color,onChange:l,placeholder:"e.g., Brown, Black, Blue"})]})]}),e.jsx(Ie,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Identification Marks"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"identification_marks",children:["Identification Marks ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"identification_marks",name:"identification_marks",value:s.identification_marks,onChange:l,placeholder:"e.g., Scar, Tattoo, Birthmark"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"mark_location",children:["Mark Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{id:"mark_location",name:"mark_location",value:s.mark_location,onChange:l,placeholder:"e.g., Left arm, Right cheek"})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(c,{htmlFor:"pc_remark",children:"Physical Characteristics Remarks"}),e.jsx(u,{id:"pc_remark",name:"pc_remark",value:s.pc_remark,onChange:l,rows:3,placeholder:"Enter any additional physical characteristic remarks..."})]})]})]})]})]});case 6:return e.jsxs(v,{children:[e.jsx(_,{children:e.jsx(y,{children:"Review & Update"})}),e.jsx(N,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.fname," ",s.lname]}),s.alias&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Alias:"})," ",s.alias]}),s.age&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Age:"})," ",s.age," years"]}),s.gender&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",s.gender]}),s.civil_status&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Civil Status:"})," ",s.civil_status]}),(s.brgy||s.city||s.province)&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",[s.brgy,s.city,s.province].filter(Boolean).join(", ")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Court Order"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.court_order_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Number:"})," ",s.court_order_number]}),s.order_type&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Type:"})," ",s.order_type]}),s.court_branch&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Court Branch:"})," ",s.court_branch]}),s.order_date&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Date:"})," ",s.order_date]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["Cases (",s.cases.length,")"]}),e.jsx("div",{className:"space-y-3",children:s.cases.map((a,p)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Case ",p+1]}),e.jsx(b,{variant:O(a.case_status),children:a.case_status}),e.jsx(b,{variant:R(a.security_classification),children:a.security_classification})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[a.case_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Case Number:"})," ",a.case_number]}),a.crime_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Crime:"})," ",a.crime_committed]}),a.date_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",a.date_committed]})]})]},p))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Physical Characteristics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.height&&s.weight&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Measurements:"})," ",s.height,"cm, ",s.weight,"kg"]}),s.build&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Build:"})," ",s.build]}),s.complexion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Complexion:"})," ",s.complexion]}),s.hair_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Hair Color:"})," ",s.hair_color]}),s.eye_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Eye Color:"})," ",s.eye_color]}),s.identification_marks&&s.mark_location&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marks:"})," ",s.identification_marks," (",s.mark_location,")"]})]})]})]})})]});default:return null}},T=m/f.length*100;return e.jsxs(ss,{breadcrumbs:rs,children:[e.jsx(es,{title:"Update PDL Information"}),e.jsxs("div",{className:"mx-auto w-full space-y-6 p-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Update PDL Information"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Step ",m," of ",f.length,": ",(Le=f[m-1])==null?void 0:Le.description]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(T),"% Complete"]})]}),e.jsx(as,{value:T,className:"w-full"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(r=>e.jsxs(g,{variant:m===r.id?"default":m>r.id?"secondary":"outline",size:"sm",onClick:()=>Je(r.id),className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-background text-xs",children:r.id}),r.title]},r.id))}),e.jsxs("form",{onSubmit:qe,className:"space-y-6",children:[Object.keys(B).length>0&&e.jsxs(Re,{variant:"destructive",children:[e.jsx(Oe,{children:"Unable to process request"}),e.jsx(Te,{children:e.jsx("ul",{className:"list-inside list-disc space-y-1",children:Object.values(B).map((r,d)=>e.jsx("li",{className:"text-sm",children:r},d))})})]}),A&&e.jsxs(Re,{children:[e.jsx(Oe,{children:"Success"}),e.jsx(Te,{children:A})]}),Qe(),e.jsxs("div",{className:"flex items-center justify-between border-t pt-6",children:[e.jsx("div",{className:"flex gap-2",children:m>1&&e.jsx(g,{type:"button",variant:"outline",onClick:Ke,children:"Previous"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>{window.location.href=route("pdl-management.index")},disabled:M,children:"Cancel"}),m<f.length?e.jsx(g,{type:"button",onClick:Ye,children:"Next"}):e.jsx(g,{type:"submit",disabled:M,className:"min-w-[120px]",children:M?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Updating..."]}):"Update PDL Record"})]})]})]})]})]})}export{Ns as default};
