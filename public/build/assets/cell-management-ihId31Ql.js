import{m as A,K as S,j as e,r as D,L as w}from"./app-X9tvQ9Jw.js";import{D as F,e as M,a as I,b as L,c as U,d as O,f as K,g as T,A as V}from"./app-layout-CdsUprv7.js";import{C as k,a as B,b as q,c as E}from"./card-CqGqPorN.js";import{B as d}from"./button-D1hTMpsG.js";import{A as u,b as j,a as p}from"./alert-Ca0NLq1B.js";import{I as o}from"./input-DfBN7AtP.js";import{L as t}from"./label-CSks8dJP.js";import{S as v,a as C,b as f,c as b,d as r}from"./select-DT34X2QM.js";import{D as G}from"./data-table-DrbfPC3K.js";import{B as _}from"./badge-CvrHd5IW.js";import"./index-DuVFJ1ts.js";import"./users-DgcLgi-H.js";import"./user-BUMCkp4k.js";import"./scale-mwnuYHHj.js";import"./eye-Cah3UpnM.js";import"./index-BjdOCmSj.js";import"./index-DagZ-eZv.js";import"./index-BTqsEJ4b.js";import"./table-CVAWW2y1.js";function z(){const{data:s,setData:l,post:i,processing:x,errors:h,reset:c}=A({cell_name:"",capacity:"",gender:"male",description:"",status:"active"}),{props:y}=S(),g=y.success,m=a=>{const n=a.target.name;l(n,a.target.value)},N=a=>{a.preventDefault(),i(route("cell.create"),{preserveScroll:!0,onSuccess:()=>c()})};return e.jsxs(F,{children:[e.jsx(M,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Create Cell"})}),e.jsxs(I,{className:"sm:max-w-2xl",children:[e.jsxs(L,{children:[e.jsx(U,{children:"Create Cell"}),e.jsx(O,{children:"Fill in the details to register a new cell."})]}),e.jsxs("form",{onSubmit:N,className:"mx-auto w-full space-y-4",children:[Object.keys(h).length>0&&e.jsxs(u,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(j,{children:"Unable to process request"}),e.jsx(p,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(h).map((a,n)=>e.jsx("li",{children:a},n))})})]}),g&&e.jsxs(u,{variant:"default",className:"mb-4",children:[e.jsx(j,{children:"Success"}),e.jsx(p,{children:g})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(o,{id:"cell_name",name:"cell_name",value:s.cell_name,onChange:m})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"capacity",children:"Capacity"}),e.jsx(o,{id:"capacity",name:"capacity",type:"number",value:s.capacity,onChange:m})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Gender"}),e.jsxs(v,{value:s.gender,onValueChange:a=>l("gender",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select gender"})}),e.jsxs(b,{children:[e.jsx(r,{value:"male",children:"Male"}),e.jsx(r,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Status"}),e.jsxs(v,{value:s.status,onValueChange:a=>l("status",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select status"})}),e.jsxs(b,{children:[e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx(o,{id:"description",name:"description",value:s.description,onChange:m})]})]}),e.jsxs(K,{children:[e.jsx(d,{type:"submit",disabled:x,children:"Create"}),e.jsx(T,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}function H({cell:s}){const{data:l,setData:i,post:x,processing:h,errors:c,reset:y}=A({cell_id:s.cell_id,cell_name:s.cell_name,capacity:s.capacity.toString(),gender:s.gender,description:s.description??"",status:s.status}),{props:g}=S(),m=g.success,N=a=>{a.preventDefault(),x(route("cell.update"),{preserveScroll:!0,onSuccess:()=>y()})};return e.jsxs(F,{children:[e.jsx(M,{asChild:!0,children:e.jsx(d,{variant:"outline",size:"sm",children:"Edit"})}),e.jsxs(I,{className:"sm:max-w-2xl",children:[e.jsxs(L,{children:[e.jsx(U,{children:"Update Cell"}),e.jsx(O,{children:"Modify the cell information and save changes."})]}),Object.keys(c).length>0&&e.jsxs(u,{variant:"destructive",className:"mb-4",children:[e.jsx(j,{children:"Unable to process request"}),e.jsx(p,{children:Object.values(c).map((a,n)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:a})},n))})]}),m&&e.jsxs(u,{variant:"default",className:"mb-4",children:[e.jsx(j,{children:"Success"}),e.jsx(p,{children:m})]}),e.jsxs("form",{onSubmit:N,className:"mx-auto w-full space-y-4",children:[Object.keys(c).length>0&&e.jsxs(u,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(j,{children:"Unable to process request"}),e.jsx(p,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(c).map((a,n)=>e.jsx("li",{children:a},n))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(o,{id:"cell_name",name:"cell_name",value:l.cell_name,onChange:a=>i("cell_name",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"capacity",children:"Capacity"}),e.jsx(o,{id:"capacity",name:"capacity",type:"number",value:l.capacity,onChange:a=>i("capacity",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Gender"}),e.jsxs(v,{value:l.gender,onValueChange:a=>i("gender",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select gender"})}),e.jsxs(b,{children:[e.jsx(r,{value:"male",children:"Male"}),e.jsx(r,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Status"}),e.jsxs(v,{value:l.status,onValueChange:a=>i("status",a),children:[e.jsx(C,{children:e.jsx(f,{placeholder:"Select status"})}),e.jsxs(b,{children:[e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx(o,{id:"description",name:"description",value:l.description,onChange:a=>i("description",a.target.value)})]})]}),e.jsxs(K,{children:[e.jsx(d,{type:"submit",disabled:h,children:"Update"}),e.jsx(T,{asChild:!0,children:e.jsx(d,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}const R=[{accessorKey:"cell_name",header:"Cell Name"},{accessorKey:"description",header:"Description",cell:({row:s})=>s.original.description||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{accessorKey:"capacity",header:"Capacity"},{accessorKey:"gender",header:"Gender",cell:({row:s})=>e.jsx(_,{variant:s.original.gender==="male"?"default":"secondary",children:s.original.gender.charAt(0).toUpperCase()+s.original.gender.slice(1)})},{id:"occupied",header:"Occupied",cell:({row:s})=>s.original.assignments_count??0},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx(_,{variant:s.original.status==="active"?"default":"destructive",children:s.original.status.charAt(0).toUpperCase()+s.original.status.slice(1)})},{id:"actions",header:"Actions",cell:({row:s})=>{const l=s.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{cell:{...l,description:l.description??""}}),e.jsx(d,{variant:"destructive",size:"sm",onClick:()=>console.log("Delete cell",l.cell_id),children:"Delete"})]})}}],J=[{title:"Cell Management",href:"/cell-management"}];function me(){const{props:s}=S(),{cells:l}=s,[i,x]=D.useState(""),h=D.useMemo(()=>i?l.filter(c=>c.cell_name.toLowerCase().includes(i.toLowerCase())):l,[l,i]);return e.jsxs(V,{breadcrumbs:J,children:[e.jsx(w,{title:"Cell Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Cell Management"}),e.jsxs(k,{children:[e.jsx(B,{children:e.jsx(q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cell List"}),e.jsx(z,{})]})})}),e.jsxs(E,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(t,{htmlFor:"search",className:"text-sm font-medium",children:"Search Cells"}),e.jsx(o,{id:"search",placeholder:"Search by cell name",className:"w-64",value:i,onChange:c=>x(c.target.value)})]}),e.jsx(G,{data:h,columns:R})]})]})]})]})}export{me as default};
