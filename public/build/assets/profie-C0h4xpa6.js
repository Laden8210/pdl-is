import{K as g,m as y,j as e,L as N}from"./app-BPxrKEyb.js";import{A as h,b as x,a as j}from"./alert-Dy7BgFLC.js";import{B as u}from"./button-CEMgu7CE.js";import{I as r}from"./input-CvRLkRAD.js";import{L as l}from"./label-BHAojcQv.js";import{A as w}from"./app-layout-B7fNkZnx.js";import{L as b}from"./loader-circle-CXxVMVM4.js";import"./index-D55dR1IO.js";import"./index-Bwm_JLZs.js";import"./users-HviPfwPA.js";import"./user-DBhr3jVO.js";import"./scale-CeClP0FS.js";import"./eye-DJMTalI9.js";import"./circle-alert-BcedVOno.js";const C=[{title:"Dashboard",href:"/dashboard"}];function R(){const{props:d}=g(),s=d.auth.user,n=d.success,{data:i,setData:t,post:f,processing:m,errors:c,reset:p}=y({firstName:(s==null?void 0:s.fname)||"",lastName:(s==null?void 0:s.lname)||"",middleName:(s==null?void 0:s.mname)||"",position:(s==null?void 0:s.position)||"",status:(s==null?void 0:s.status)||"active",password:"",oldpassword:"",profileImage:null}),v=a=>{a.preventDefault(),f(route("admin.profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{p("password","profileImage","oldpassword")}})};return e.jsxs(w,{breadcrumbs:C,children:[e.jsx(N,{title:"Profile Management"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Profile Management"}),Object.keys(c).length>0&&e.jsxs(h,{variant:"destructive",className:"mb-4",children:[e.jsx(x,{children:"Unable to process request"}),e.jsx(j,{children:Object.values(c).map((a,o)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:a})},o))})]}),n&&e.jsxs(h,{variant:"default",className:"mb-4",children:[e.jsx(x,{children:"Success"}),e.jsx(j,{children:n})]}),e.jsx("form",{onSubmit:v,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(l,{children:"Profile"}),e.jsx("img",{src:s!=null&&s.avatar?`/storage/${s.avatar}`:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLMI5YxZE03Vnj-s-sth2_JxlPd30Zy7yEGg&s",alt:"Profile",className:"h-32 w-32 rounded-full object-cover"}),e.jsx(r,{type:"file",accept:"image/*",className:"w-full",onChange:a=>{var o;return t("profileImage",((o=a.target.files)==null?void 0:o[0])||null)}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"first-name",children:"First Name"}),e.jsx(r,{readOnly:!0,id:"first-name",type:"text",placeholder:"Enter your first name",value:i.firstName,onChange:a=>t("firstName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"last-name",children:"Last Name"}),e.jsx(r,{readOnly:!0,id:"last-name",type:"text",placeholder:"Enter your last name",value:i.lastName,onChange:a=>t("lastName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"New password"}),e.jsx(r,{id:"password",type:"password",placeholder:"Enter your password",value:i.password,onChange:a=>t("password",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"Old password"}),e.jsx(r,{id:"oldpassword",type:"password",placeholder:"Enter your password",value:i.oldpassword,onChange:a=>t("oldpassword",a.target.value)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"middle-name",children:"Middle Name"}),e.jsx(r,{readOnly:!0,id:"middle-name",type:"text",placeholder:"Enter your middle name",value:i.middleName,onChange:a=>t("middleName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"role",children:"Position"}),e.jsx(r,{id:"role",type:"text",placeholder:"Enter your position",value:i.position,onChange:a=>t("position",a.target.value),readOnly:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(u,{type:"button",variant:"destructive",onClick:()=>p(),children:"Cancel"}),e.jsxs(u,{type:"submit",variant:"default",disabled:m,children:[m&&e.jsx(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})]})})]})]})}export{R as default};
