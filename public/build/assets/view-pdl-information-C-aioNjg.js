import{r as X,m as fe,j as e,K as ge}from"./app-QDpy6TC6.js";import{A as Ne,a as F,b as M,c as R}from"./accordion-CI2ukxVo.js";import{B as ee}from"./badge-Bw_7jUoZ.js";import{c as Ce,B as C}from"./button-C1stvJLJ.js";import{D as re,i as te,a as ae,b as ie,c as ne,d as xe,C as ce,g as je,h as we}from"./app-layout-CHh0ZPRX.js";import{S as U,a as I,b as L,c as q,d as S}from"./select-BcSXBIK4.js";import{S as _e}from"./square-pen-DkpaqUCd.js";import{U as V}from"./user-CSdNkW6G.js";import{C as Se,I as Q}from"./input-DysJzXiX.js";import{A as W,b as Z,a as J}from"./alert-B-Zf9-ZM.js";import{L as w}from"./label-CWDDxBV-.js";import{T as Oe}from"./textarea-A2eBYvJl.js";import{R as De,a as de}from"./radio-group-8Lj4ceYH.js";import{P as ke}from"./plus-C3tWNi0q.js";import{C as Pe}from"./custody-management-BqkhV7H2.js";import{E as Ae}from"./eye-CLS_UQln.js";import{f as E}from"./format-B3rlCQGj.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Te=Ce("Skull",$e);function b(){return b=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)({}).hasOwnProperty.call(t,i)&&(s[i]=t[i])}return s},b.apply(null,arguments)}var Ee=String.prototype.replace,Fe=/%20/g,Me="RFC3986",T={default:Me,formatters:{RFC1738:function(s){return Ee.call(s,Fe,"+")},RFC3986:function(s){return String(s)}},RFC1738:"RFC1738"},K=Object.prototype.hasOwnProperty,A=Array.isArray,_=function(){for(var s=[],r=0;r<256;++r)s.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return s}(),ue=function(s,r){for(var t=r&&r.plainObjects?Object.create(null):{},i=0;i<s.length;++i)s[i]!==void 0&&(t[i]=s[i]);return t},D={arrayToObject:ue,assign:function(s,r){return Object.keys(r).reduce(function(t,i){return t[i]=r[i],t},s)},combine:function(s,r){return[].concat(s,r)},compact:function(s){for(var r=[{obj:{o:s},prop:"o"}],t=[],i=0;i<r.length;++i)for(var a=r[i],l=a.obj[a.prop],n=Object.keys(l),u=0;u<n.length;++u){var d=n[u],f=l[d];typeof f=="object"&&f!==null&&t.indexOf(f)===-1&&(r.push({obj:l,prop:d}),t.push(f))}return function(h){for(;h.length>1;){var m=h.pop(),c=m.obj[m.prop];if(A(c)){for(var o=[],g=0;g<c.length;++g)c[g]!==void 0&&o.push(c[g]);m.obj[m.prop]=o}}}(r),s},decode:function(s,r,t){var i=s.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},encode:function(s,r,t,i,a){if(s.length===0)return s;var l=s;if(typeof s=="symbol"?l=Symbol.prototype.toString.call(s):typeof s!="string"&&(l=String(s)),t==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var n="",u=0;u<l.length;++u){var d=l.charCodeAt(u);d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===T.RFC1738&&(d===40||d===41)?n+=l.charAt(u):d<128?n+=_[d]:d<2048?n+=_[192|d>>6]+_[128|63&d]:d<55296||d>=57344?n+=_[224|d>>12]+_[128|d>>6&63]+_[128|63&d]:(d=65536+((1023&d)<<10|1023&l.charCodeAt(u+=1)),n+=_[240|d>>18]+_[128|d>>12&63]+_[128|d>>6&63]+_[128|63&d])}return n},isBuffer:function(s){return!(!s||typeof s!="object"||!(s.constructor&&s.constructor.isBuffer&&s.constructor.isBuffer(s)))},isRegExp:function(s){return Object.prototype.toString.call(s)==="[object RegExp]"},maybeMap:function(s,r){if(A(s)){for(var t=[],i=0;i<s.length;i+=1)t.push(r(s[i]));return t}return r(s)},merge:function s(r,t,i){if(!t)return r;if(typeof t!="object"){if(A(r))r.push(t);else{if(!r||typeof r!="object")return[r,t];(i&&(i.plainObjects||i.allowPrototypes)||!K.call(Object.prototype,t))&&(r[t]=!0)}return r}if(!r||typeof r!="object")return[r].concat(t);var a=r;return A(r)&&!A(t)&&(a=ue(r,i)),A(r)&&A(t)?(t.forEach(function(l,n){if(K.call(r,n)){var u=r[n];u&&typeof u=="object"&&l&&typeof l=="object"?r[n]=s(u,l,i):r.push(l)}else r[n]=l}),r):Object.keys(t).reduce(function(l,n){var u=t[n];return l[n]=K.call(l,n)?s(l[n],u,i):u,l},a)}},Re=Object.prototype.hasOwnProperty,me={brackets:function(s){return s+"[]"},comma:"comma",indices:function(s,r){return s+"["+r+"]"},repeat:function(s){return s}},$=Array.isArray,Ve=String.prototype.split,Be=Array.prototype.push,ye=function(s,r){Be.apply(s,$(r)?r:[r])},Ue=Date.prototype.toISOString,he=T.default,y={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:D.encode,encodeValuesOnly:!1,format:he,formatter:T.formatters[he],indices:!1,serializeDate:function(s){return Ue.call(s)},skipNulls:!1,strictNullHandling:!1},Ie=function s(r,t,i,a,l,n,u,d,f,h,m,c,o,g){var j,p=r;if(typeof u=="function"?p=u(t,p):p instanceof Date?p=h(p):i==="comma"&&$(p)&&(p=D.maybeMap(p,function(G){return G instanceof Date?h(G):G})),p===null){if(a)return n&&!o?n(t,y.encoder,g,"key",m):t;p=""}if(typeof(j=p)=="string"||typeof j=="number"||typeof j=="boolean"||typeof j=="symbol"||typeof j=="bigint"||D.isBuffer(p)){if(n){var x=o?t:n(t,y.encoder,g,"key",m);if(i==="comma"&&o){for(var v=Ve.call(String(p),","),N="",O=0;O<v.length;++O)N+=(O===0?"":",")+c(n(v[O],y.encoder,g,"value",m));return[c(x)+"="+N]}return[c(x)+"="+c(n(p,y.encoder,g,"value",m))]}return[c(t)+"="+c(String(p))]}var k,H=[];if(p===void 0)return H;if(i==="comma"&&$(p))k=[{value:p.length>0?p.join(",")||null:void 0}];else if($(u))k=u;else{var le=Object.keys(p);k=d?le.sort(d):le}for(var z=0;z<k.length;++z){var P=k[z],oe=typeof P=="object"&&P.value!==void 0?P.value:p[P];if(!l||oe!==null){var be=$(p)?typeof i=="function"?i(t,P):t:t+(f?"."+P:"["+P+"]");ye(H,s(oe,be,i,a,l,n,u,d,f,h,m,c,o,g))}}return H},se=Object.prototype.hasOwnProperty,Le=Array.isArray,B={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:D.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},qe=function(s){return s.replace(/&#(\d+);/g,function(r,t){return String.fromCharCode(parseInt(t,10))})},ve=function(s,r){return s&&typeof s=="string"&&r.comma&&s.indexOf(",")>-1?s.split(","):s},He=function(s,r,t,i){if(s){var a=t.allowDots?s.replace(/\.([^.[]+)/g,"[$1]"):s,l=/(\[[^[\]]*])/g,n=t.depth>0&&/(\[[^[\]]*])/.exec(a),u=n?a.slice(0,n.index):a,d=[];if(u){if(!t.plainObjects&&se.call(Object.prototype,u)&&!t.allowPrototypes)return;d.push(u)}for(var f=0;t.depth>0&&(n=l.exec(a))!==null&&f<t.depth;){if(f+=1,!t.plainObjects&&se.call(Object.prototype,n[1].slice(1,-1))&&!t.allowPrototypes)return;d.push(n[1])}return n&&d.push("["+a.slice(n.index)+"]"),function(h,m,c,o){for(var g=o?m:ve(m,c),j=h.length-1;j>=0;--j){var p,x=h[j];if(x==="[]"&&c.parseArrays)p=[].concat(g);else{p=c.plainObjects?Object.create(null):{};var v=x.charAt(0)==="["&&x.charAt(x.length-1)==="]"?x.slice(1,-1):x,N=parseInt(v,10);c.parseArrays||v!==""?!isNaN(N)&&x!==v&&String(N)===v&&N>=0&&c.parseArrays&&N<=c.arrayLimit?(p=[])[N]=g:v!=="__proto__"&&(p[v]=g):p={0:g}}g=p}return g}(d,r,t,i)}},ze=function(s,r){var t=function(f){return B}();if(s===""||s==null)return t.plainObjects?Object.create(null):{};for(var i=typeof s=="string"?function(f,h){var m,c={},o=(h.ignoreQueryPrefix?f.replace(/^\?/,""):f).split(h.delimiter,h.parameterLimit===1/0?void 0:h.parameterLimit),g=-1,j=h.charset;if(h.charsetSentinel)for(m=0;m<o.length;++m)o[m].indexOf("utf8=")===0&&(o[m]==="utf8=%E2%9C%93"?j="utf-8":o[m]==="utf8=%26%2310003%3B"&&(j="iso-8859-1"),g=m,m=o.length);for(m=0;m<o.length;++m)if(m!==g){var p,x,v=o[m],N=v.indexOf("]="),O=N===-1?v.indexOf("="):N+1;O===-1?(p=h.decoder(v,B.decoder,j,"key"),x=h.strictNullHandling?null:""):(p=h.decoder(v.slice(0,O),B.decoder,j,"key"),x=D.maybeMap(ve(v.slice(O+1),h),function(k){return h.decoder(k,B.decoder,j,"value")})),x&&h.interpretNumericEntities&&j==="iso-8859-1"&&(x=qe(x)),v.indexOf("[]=")>-1&&(x=Le(x)?[x]:x),c[p]=se.call(c,p)?D.combine(c[p],x):x}return c}(s,t):s,a=t.plainObjects?Object.create(null):{},l=Object.keys(i),n=0;n<l.length;++n){var u=l[n],d=He(u,i[u],t,typeof s=="string");a=D.merge(a,d,t)}return D.compact(a)};class Y{constructor(r,t,i){var a,l;this.name=r,this.definition=t,this.bindings=(a=t.bindings)!=null?a:{},this.wheres=(l=t.wheres)!=null?l:{},this.config=i}get template(){const r=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return r===""?"/":r}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var r,t;return(r=(t=this.template.match(/{[^}?]+\??}/g))==null?void 0:t.map(i=>({name:i.replace(/{|\??}/g,""),required:!/\?}$/.test(i)})))!=null?r:[]}matchesUrl(r){var t;if(!this.definition.methods.includes("GET"))return!1;const i=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(u,d,f,h)=>{var m;const c=`(?<${f}>${((m=this.wheres[f])==null?void 0:m.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return h?`(${d}${c})?`:`${d}${c}`}).replace(/^\w+:\/\//,""),[a,l]=r.replace(/^\w+:\/\//,"").split("?"),n=(t=new RegExp(`^${i}/?$`).exec(a))!=null?t:new RegExp(`^${i}/?$`).exec(decodeURI(a));if(n){for(const u in n.groups)n.groups[u]=typeof n.groups[u]=="string"?decodeURIComponent(n.groups[u]):n.groups[u];return{params:n.groups,query:ze(l)}}return!1}compile(r){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(t,i,a)=>{var l,n;if(!a&&[null,void 0].includes(r[i]))throw new Error(`Ziggy error: '${i}' parameter is required for route '${this.name}'.`);if(this.wheres[i]&&!new RegExp(`^${a?`(${this.wheres[i]})?`:this.wheres[i]}$`).test((n=r[i])!=null?n:""))throw new Error(`Ziggy error: '${i}' parameter '${r[i]}' does not match required format '${this.wheres[i]}' for route '${this.name}'.`);return encodeURI((l=r[i])!=null?l:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class Ge extends String{constructor(r,t,i=!0,a){if(super(),this.t=a??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this.t=b({},this.t,{absolute:i}),r){if(!this.t.routes[r])throw new Error(`Ziggy error: route '${r}' is not in the route list.`);this.i=new Y(r,this.t.routes[r],this.t),this.u=this.l(t)}}toString(){const r=Object.keys(this.u).filter(t=>!this.i.parameterSegments.some(({name:i})=>i===t)).filter(t=>t!=="_query").reduce((t,i)=>b({},t,{[i]:this.u[i]}),{});return this.i.compile(this.u)+function(t,i){var a,l=t,n=function(o){if(!o)return y;if(o.encoder!=null&&typeof o.encoder!="function")throw new TypeError("Encoder has to be a function.");var g=o.charset||y.charset;if(o.charset!==void 0&&o.charset!=="utf-8"&&o.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var j=T.default;if(o.format!==void 0){if(!Re.call(T.formatters,o.format))throw new TypeError("Unknown format option provided.");j=o.format}var p=T.formatters[j],x=y.filter;return(typeof o.filter=="function"||$(o.filter))&&(x=o.filter),{addQueryPrefix:typeof o.addQueryPrefix=="boolean"?o.addQueryPrefix:y.addQueryPrefix,allowDots:o.allowDots===void 0?y.allowDots:!!o.allowDots,charset:g,charsetSentinel:typeof o.charsetSentinel=="boolean"?o.charsetSentinel:y.charsetSentinel,delimiter:o.delimiter===void 0?y.delimiter:o.delimiter,encode:typeof o.encode=="boolean"?o.encode:y.encode,encoder:typeof o.encoder=="function"?o.encoder:y.encoder,encodeValuesOnly:typeof o.encodeValuesOnly=="boolean"?o.encodeValuesOnly:y.encodeValuesOnly,filter:x,format:j,formatter:p,serializeDate:typeof o.serializeDate=="function"?o.serializeDate:y.serializeDate,skipNulls:typeof o.skipNulls=="boolean"?o.skipNulls:y.skipNulls,sort:typeof o.sort=="function"?o.sort:null,strictNullHandling:typeof o.strictNullHandling=="boolean"?o.strictNullHandling:y.strictNullHandling}}(i);typeof n.filter=="function"?l=(0,n.filter)("",l):$(n.filter)&&(a=n.filter);var u=[];if(typeof l!="object"||l===null)return"";var d=me[i&&i.arrayFormat in me?i.arrayFormat:i&&"indices"in i?i.indices?"indices":"repeat":"indices"];a||(a=Object.keys(l)),n.sort&&a.sort(n.sort);for(var f=0;f<a.length;++f){var h=a[f];n.skipNulls&&l[h]===null||ye(u,Ie(l[h],h,d,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var m=u.join(n.delimiter),c=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(c+=n.charset==="iso-8859-1"?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),m.length>0?c+m:""}(b({},r,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,i)=>typeof t=="boolean"?Number(t):i(t)})}p(r){r?this.t.absolute&&r.startsWith("/")&&(r=this.h().host+r):r=this.v();let t={};const[i,a]=Object.entries(this.t.routes).find(([l,n])=>t=new Y(l,n,this.t).matchesUrl(r))||[void 0,void 0];return b({name:i},t,{route:a})}v(){const{host:r,pathname:t,search:i}=this.h();return(this.t.absolute?r+t:t.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+i}current(r,t){const{name:i,params:a,query:l,route:n}=this.p();if(!r)return i;const u=new RegExp(`^${r.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(i);if([null,void 0].includes(t)||!u)return u;const d=new Y(i,n,this.t);t=this.l(t,d);const f=b({},a,l);if(Object.values(t).every(m=>!m)&&!Object.values(f).some(m=>m!==void 0))return!0;const h=(m,c)=>Object.entries(m).every(([o,g])=>Array.isArray(g)&&Array.isArray(c[o])?g.every(j=>c[o].includes(j)):typeof g=="object"&&typeof c[o]=="object"&&g!==null&&c[o]!==null?h(g,c[o]):c[o]==g);return h(t,f)}h(){var r,t,i,a,l,n;const{host:u="",pathname:d="",search:f=""}=typeof window<"u"?window.location:{};return{host:(r=(t=this.t.location)==null?void 0:t.host)!=null?r:u,pathname:(i=(a=this.t.location)==null?void 0:a.pathname)!=null?i:d,search:(l=(n=this.t.location)==null?void 0:n.search)!=null?l:f}}get params(){const{params:r,query:t}=this.p();return b({},r,t)}get routeParams(){return this.p().params}get queryParams(){return this.p().query}has(r){return this.t.routes.hasOwnProperty(r)}l(r={},t=this.i){r!=null||(r={}),r=["string","number"].includes(typeof r)?[r]:r;const i=t.parameterSegments.filter(({name:a})=>!this.t.defaults[a]);return Array.isArray(r)?r=r.reduce((a,l,n)=>b({},a,i[n]?{[i[n].name]:l}:typeof l=="object"?l:{[l]:""}),{}):i.length!==1||r[i[0].name]||!r.hasOwnProperty(Object.values(t.bindings)[0])&&!r.hasOwnProperty("id")||(r={[i[0].name]:r}),b({},this.m(t),this.j(r,t))}m(r){return r.parameterSegments.filter(({name:t})=>this.t.defaults[t]).reduce((t,{name:i},a)=>b({},t,{[i]:this.t.defaults[i]}),{})}j(r,{bindings:t,parameterSegments:i}){return Object.entries(r).reduce((a,[l,n])=>{if(!n||typeof n!="object"||Array.isArray(n)||!i.some(({name:u})=>u===l))return b({},a,{[l]:n});if(!n.hasOwnProperty(t[l])){if(!n.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${l}' parameter is missing route model binding key '${t[l]}'.`);t[l]="id"}return b({},a,{[l]:n[t[l]]})},{})}valueOf(){return this.toString()}}function Qe(s,r,t,i){const a=new Ge(s,r,t,i);return s?a.toString():a}const pe=[{value:"bonded",label:"Bonded",icon:V,color:"destructive"},{value:"transferred",label:"Transferred to another jail",icon:V,color:"destructive"},{value:"served",label:"Served Sentence",icon:V,color:"destructive"},{value:"dismissed",label:"Dismissed",icon:V,color:"destructive"},{value:"pending",label:"Pending",icon:ce,color:"default"},{value:"convicted",label:"Convicted",icon:Se,color:"secondary"},{value:"deceased",label:"Deceased",icon:Te,color:"destructive"},{value:"on_trial",label:"On Trial",icon:ce,color:"default"}];function We({caseInfo:s}){const[r,t]=X.useState(!1),[i,a]=X.useState(!1),{data:l,setData:n,post:u}=fe({case_status:s.case_status}),d=()=>{a(!0),u(Qe("case-information.update-status",s.case_id),{onSuccess:()=>{t(!1),a(!1)}})},f=h=>{const m=pe.find(o=>o.value===h);if(!m)return null;const c=m.icon;return e.jsxs(ee,{variant:m.color,className:"flex items-center gap-1",children:[e.jsx(c,{className:"h-3 w-3"}),m.label]})};return e.jsxs(re,{open:r,onOpenChange:t,children:[e.jsx(te,{asChild:!0,children:e.jsxs(C,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[e.jsx(_e,{className:"h-3 w-3 mr-1"}),"Update Status"]})}),e.jsxs(ae,{className:"sm:max-w-[425px]",children:[e.jsxs(ie,{children:[e.jsx(ne,{children:"Update Case Status"}),e.jsxs(xe,{children:["Update the status for case: ",e.jsx("span",{className:"font-medium",children:s.case_number}),e.jsx("br",{}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Crime: ",s.crime_committed]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Status"}),e.jsx("div",{className:"flex items-center gap-2",children:f(s.case_status)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"New Status"}),e.jsxs(U,{value:l.case_status,onValueChange:h=>n("case_status",h),children:[e.jsx(I,{children:e.jsx(L,{placeholder:"Select new status"})}),e.jsx(q,{children:pe.map(h=>{const m=h.icon;return e.jsx(S,{value:h.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),h.label]})},h.value)})})]})]}),l.case_status!==s.case_status&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Preview"}),e.jsx("div",{className:"flex items-center gap-2",children:f(l.case_status)})]})]}),e.jsxs(je,{children:[e.jsx(C,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(C,{onClick:d,children:i?"Updating...":"Update Status"})]})]})]})}const Ze=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}];function Je({pdl:s}){const[r,t]=X.useState(!1),{data:i,setData:a,post:l,processing:n,errors:u,reset:d}=fe({case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"pending",case_remarks:"",security_classification:"medium",drug_related:!1,pdl_id:s.id}),f=c=>{c.preventDefault(),l(route("case-information.store"),{preserveScroll:!0,onSuccess:()=>d()})},{props:h}=ge(),m=h.success;return e.jsxs(re,{children:[e.jsx(te,{asChild:!0,children:e.jsx(C,{variant:"outline",size:"icon",children:e.jsx(ke,{className:"h-4 w-4"})})}),e.jsxs(ae,{className:"sm:max-w-3xl",children:[e.jsxs(ie,{children:[e.jsx(ne,{children:"Create Case Information"}),e.jsxs(xe,{children:["Add a new case information for the following PDL: ",e.jsxs("span",{className:"font-medium",children:[s.fname," ",s.lname]})]})]}),Object.keys(u).length>0&&e.jsxs(W,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(Z,{children:"Unable to process request"}),e.jsx(J,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(u).map((c,o)=>e.jsx("li",{children:c},o))})})]}),m&&e.jsxs(W,{variant:"default",className:"mb-4",children:[e.jsx(Z,{children:"Success"}),e.jsx(J,{children:m})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[Object.keys(u).length>0&&e.jsxs(W,{variant:"destructive",children:[e.jsx(Z,{children:"Error"}),e.jsx(J,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(u).map((c,o)=>e.jsx("li",{children:c},o))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"case_number",children:"Case Number"}),e.jsx(Q,{type:"text",value:i.case_number,onChange:c=>a("case_number",c.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"crime_committed",children:"Crime Committed"}),e.jsxs(U,{value:i.crime_committed,onValueChange:c=>a("crime_committed",c),required:!0,children:[e.jsx(I,{children:e.jsx(L,{placeholder:"Select crime"})}),e.jsx(q,{children:Ze.map(c=>e.jsx(S,{value:c.category,children:c.category},c.category))})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select from common crimes or type a custom crime description"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"date_committed",children:"Date Committed"}),e.jsx(Q,{type:"date",value:i.date_committed,onChange:c=>a("date_committed",c.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"time_committed",children:"Time Committed"}),e.jsx(Q,{type:"time",value:i.time_committed,onChange:c=>a("time_committed",c.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"case_status",children:"Case Status"}),e.jsxs(U,{value:i.case_status,onValueChange:c=>a("case_status",c),required:!0,children:[e.jsx(I,{children:e.jsx(L,{placeholder:"Select status"})}),e.jsxs(q,{children:[e.jsx(S,{value:"pending",children:"Pending"}),e.jsx(S,{value:"convicted",children:"Convicted"}),e.jsx(S,{value:"deceased",children:"Deceased"}),e.jsx(S,{value:"case closed",children:"Case Closed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"security_classification",children:"Security Classification"}),e.jsxs(U,{value:i.security_classification,onValueChange:c=>a("security_classification",c),required:!0,children:[e.jsx(I,{children:e.jsx(L,{placeholder:"Select classification"})}),e.jsxs(q,{children:[e.jsx(S,{value:"low",children:"Low"}),e.jsx(S,{value:"medium",children:"Medium"}),e.jsx(S,{value:"high",children:"High"}),e.jsx(S,{value:"maximum",children:"Maximum"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Drug Related Case"}),e.jsxs(De,{value:i.drug_related.toString(),onValueChange:c=>a("drug_related",c==="true"),className:"flex flex-row space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{value:"true",id:"drug_related_yes"}),e.jsx(w,{htmlFor:"drug_related_yes",className:"text-sm font-normal",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{value:"false",id:"drug_related_no"}),e.jsx(w,{htmlFor:"drug_related_no",className:"text-sm font-normal",children:"No"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Indicate if this case is related to drug offenses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"case_remarks",children:"Remarks"}),e.jsx(Oe,{id:"case_remarks",value:i.case_remarks,onChange:c=>a("case_remarks",c.target.value),rows:3})]}),e.jsxs(je,{children:[e.jsx(we,{asChild:!0,children:e.jsx(C,{variant:"outline",children:"Cancel"})}),e.jsx(C,{type:"submit",disabled:n,children:n?"Creating...":"Create Case"})]})]})]})]})}function ps({pdl:s}){var i;const r=ge().props.auth,t=()=>{const a=new URLSearchParams;a.append("pdl_id",s.id.toString());const l=route("pdl-management.download",a.toString());window.open(l,"_blank")};return e.jsxs(re,{children:[e.jsx(te,{asChild:!0,children:e.jsxs(C,{variant:"ghost",size:"sm",children:[e.jsx(Ae,{className:"h-4 w-4"})," View"]})}),e.jsxs(ae,{className:"max-h-[90vh] overflow-y-auto sm:max-w-4xl",children:[e.jsx(ie,{children:e.jsx(ne,{children:"PDL Information"})}),e.jsxs("div",{className:"grid gap-4 py-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),e.jsxs("div",{className:"flex items-center gap-2",children:[((i=r==null?void 0:r.user)==null?void 0:i.position)!=="law-enforcement"&&e.jsx(Pe,{pdl:s}),e.jsx(C,{variant:"outline",onClick:t,children:"Download PDL Information"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Mugshot:"}),s.mugshot_path?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`/storage/${s.mugshot_path}`,alt:"Mugshot",className:"h-44 rounded border object-cover",onError:a=>{var l;a.currentTarget.style.display="none",(l=a.currentTarget.nextElementSibling)==null||l.classList.remove("hidden")}}),e.jsx("div",{className:"flex hidden h-20 w-20 items-center justify-center rounded-full bg-gray-200 text-xs text-gray-500",children:"No Image"}),e.jsx(C,{variant:"outline",onClick:()=>window.open(`/storage/${s.mugshot_path}`,"_blank"),children:"Preview"})]}):e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gray-200 text-xs text-gray-500",children:"No Mugshot"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Full Name:"})," ",`${s.fname} ${s.lname}`," ",s!=null&&s.suffix?" "+s.suffix:""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Alias:"})," ",s.alias||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Gender:"})," ",s.gender||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Birthdate:"})," ",E(new Date(s.birthdate),"MMMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Age:"})," ",s.age]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Ethnic Group:"})," ",s.ethnic_group||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Civil Status:"})," ",s.civil_status||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Added By:"})," ",s.personnel?`${s.personnel.fname} ${s.personnel.lname}`:"-"]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Address:"})," ",`${s.brgy||""}, ${s.city||""}, ${s.province||""}`]})]})]}),e.jsxs(Ne,{type:"multiple",className:"w-full",children:[Array.isArray(s.physical_characteristics)&&s.physical_characteristics.length>0&&e.jsxs(F,{value:"physical",children:[e.jsx(M,{className:"text-sm font-medium",children:"Physical Characteristics"}),e.jsx(R,{className:"grid grid-cols-2 gap-4 p-2 text-sm",children:s.physical_characteristics.map((a,l)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Height:"})," ",a.height," cm"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Weight:"})," ",a.weight," kg"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Build:"})," ",a.build]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Complexion:"})," ",a.complexion]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Hair Color:"})," ",a.hair_color]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Eye Color:"})," ",a.eye_color]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ID Marks:"})," ",a.identification_marks]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Mark Location:"})," ",a.mark_location]}),a.remark&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Remarks:"})," ",a.remark]})]},l))})]}),Array.isArray(s.court_orders)&&s.court_orders.length>0&&e.jsxs(F,{value:"court",children:[e.jsxs(M,{className:"text-sm font-medium",children:["Court Orders (",s.court_orders.length,")"]}),e.jsx(R,{className:"space-y-4 p-2",children:s.court_orders.map((a,l)=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",a.order_type]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Order Date:"})," ",E(new Date(a.order_date),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Received Date:"})," ",E(new Date(a.received_date),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Court Branch:"})," ",a.court_branch]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Document:"})," ",e.jsx(C,{variant:"outline",onClick:()=>window.open(`/storage/${a.document_path}`,"_blank"),children:"Preview"})]}),a.remarks&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Remarks:"})," ",a.remarks]})]},l))})]}),Array.isArray(s.medical_records)&&s.medical_records.length>0&&e.jsxs(F,{value:"medical",children:[e.jsxs(M,{className:"text-sm font-medium",children:["Medical Records (",s.medical_records.length,")"]}),e.jsx(R,{className:"space-y-4 p-2",children:s.medical_records.map((a,l)=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Date:"})," ",E(new Date(a.date),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Complaint:"})," ",a.complaint]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Findings:"})," ",a.findings]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Prognosis:"})," ",a.prognosis]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Laboratory Results:"})," ",a.laboratory]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Document:"})," ",e.jsx(C,{variant:"outline",onClick:()=>window.open(`/storage/${a.file_path}`,"_blank"),children:"Preview"})]})]},l))})]}),Array.isArray(s.cases)&&s.cases.length>0&&e.jsxs(F,{value:"cases",children:[e.jsx(M,{className:"",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information (",s.cases.length,")",e.jsx(Je,{pdl:s})]})}),e.jsx(R,{className:"space-y-4 p-2",children:s.cases.map((a,l)=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 rounded-lg border p-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Case #:"})," ",a.case_number]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx(ee,{variant:a.case_status==="open"?"destructive":a.case_status==="pending"?"default":a.case_status==="convicted"?"secondary":a.case_status==="deceased"?"destructive":"secondary",children:a.case_status}),e.jsx(We,{caseInfo:a})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Crime:"})," ",a.crime_committed]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Date Committed:"})," ",E(new Date(a.date_committed),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Time Committed:"})," ",a.time_committed]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Security:"}),e.jsx(ee,{variant:a.security_classification==="low"?"secondary":a.security_classification==="medium"?"default":(a.security_classification==="high","destructive"),children:a.security_classification})]}),a.case_remarks&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Remarks:"})," ",a.case_remarks]})]},l))})]})]})]})]})]})}export{ps as V};
