import{m as b,j as e,L as O}from"./app-CJ7vQp5P.js";import{B as u}from"./button-JuNy8yTN.js";import{C as r,a as d,b as i,d as f,c}from"./card-Bk1DPVIi.js";import{L as g}from"./label-BdEYq_MD.js";import{S as C,a as A,b as v,c as _,d as D}from"./select-BbZpZNvE.js";import{T as R,a as F,b as h,c as t,d as I,e as a}from"./table-BJRyvAzJ.js";import{A as L,a as w}from"./alert-DvxkmZw_.js";import{A as P}from"./app-layout-BSADAU8c.js";import{C as T}from"./scale-DNT5gMvW.js";import{F as M,U as j,B as U}from"./users-DI3xSBB3.js";import{D as G}from"./download-DseJuhnz.js";import{a as H}from"./input-CoADrEhP.js";import"./index-DVLwPzk4.js";import"./index-BgOt399W.js";import"./user-KkcFiOwu.js";import"./eye-BZq_hsp3.js";function ae({reportData:l,filters:x}){const{data:N,setData:p,post:y,processing:m}=b({year:(x==null?void 0:x.year)||new Date().getFullYear(),export_pdf:!1}),S=(s=!1)=>{p("export_pdf",s),y(route("reports.drug-cases-monthly.generate"))},E=()=>{const s=new URLSearchParams;s.append("year",N.year.toString()),s.append("export_pdf","true"),window.location.href=route("reports.drug-cases-monthly.export")+"?"+s.toString()};return e.jsxs(P,{children:[e.jsx(O,{title:"South Cotabato Rehabilitation and Detention Center - Drug-Related Cases Monthly Report"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold",children:"Population of Drug-Related Cases Monthly Report"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:l?`Year ${l.year}`:"Select Year"})]})]}),e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(i,{children:"Generate Annual Report"}),e.jsx(f,{children:"Select the year for the comprehensive drug-related cases report"})]}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"year",children:"Year"}),e.jsxs(C,{value:N.year.toString(),onValueChange:s=>p("year",parseInt(s)),children:[e.jsx(A,{children:e.jsx(v,{placeholder:"Select year"})}),e.jsx(_,{children:Array.from({length:10},(s,n)=>{const o=new Date().getFullYear()-5+n;return e.jsx(D,{value:o.toString(),children:o},o)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:" "}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(u,{onClick:()=>S(!1),disabled:m,className:"flex-1",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),m?"Generating...":"Generate Report"]}),e.jsxs(u,{onClick:()=>E(),disabled:m,variant:"outline",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})]})})]}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(r,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Detainees"}),e.jsx("p",{className:"text-2xl font-bold",children:l.yearly_totals.total_detainees})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Committed"}),e.jsx("p",{className:"text-2xl font-bold",children:l.yearly_totals.total_committed})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Discharged"}),e.jsx("p",{className:"text-2xl font-bold",children:l.yearly_totals.total_discharged})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Drug Cases"}),e.jsx("p",{className:"text-2xl font-bold",children:l.yearly_totals.total_drug_cases})]})]})})})]}),e.jsxs(r,{children:[e.jsxs(d,{children:[e.jsx(i,{className:"text-center",children:l.title}),e.jsxs(f,{className:"text-center",children:[l.subtitle," - ",l.year]})]}),e.jsx(c,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(R,{children:[e.jsxs(F,{children:[e.jsxs(h,{children:[e.jsx(t,{rowSpan:2,className:"text-center",children:"MONTH"}),e.jsx(t,{colSpan:2,className:"text-center",children:"NO. OF DETAINEES"}),e.jsx(t,{rowSpan:2,className:"text-center",children:"TOTAL NO. OF DETAINEES"}),e.jsx(t,{rowSpan:2,className:"text-center",children:"TOTAL NO. OF COMMITTED"}),e.jsx(t,{rowSpan:2,className:"text-center",children:"TOTAL NO. OF DISCHARGED"}),e.jsx(t,{colSpan:9,className:"text-center",children:"CAUSED OF DISCHARGE WITH DRUG CASE"}),e.jsx(t,{rowSpan:2,className:"text-center",children:"% OF DRUG OFFENDERS FROM TOTAL POPULATION"}),e.jsx(t,{rowSpan:2,className:"text-center",children:"TOTAL NO. OF POPULATION WITH DRUG CASES"})]}),e.jsxs(h,{children:[e.jsx(t,{className:"text-center",children:"MALE"}),e.jsx(t,{className:"text-center",children:"FEMALE"}),e.jsx(t,{className:"text-center",children:"BONDED"}),e.jsx(t,{className:"text-center",children:"SERVED SENTENCE"}),e.jsx(t,{className:"text-center",children:"PROV. DISMISSED/DISMISSED"}),e.jsx(t,{className:"text-center",children:"TRANSFER TO OTHER FACILITY"}),e.jsx(t,{className:"text-center",children:"DAPECOL"}),e.jsx(t,{className:"text-center",children:"PROBATION"}),e.jsx(t,{className:"text-center",children:"DECEASED"}),e.jsx(t,{className:"text-center",children:"ACQUITTED"}),e.jsx(t,{className:"text-center",children:"TOTAL"})]})]}),e.jsx(I,{children:l.monthly_data.map((s,n)=>e.jsxs(h,{className:s.month==="TOTAL"?"font-bold bg-gray-50":"",children:[e.jsx(a,{className:"font-medium text-center",children:s.month}),e.jsx(a,{className:"text-center",children:s.male_detainees}),e.jsx(a,{className:"text-center",children:s.female_detainees}),e.jsx(a,{className:"text-center font-semibold",children:s.total_detainees}),e.jsx(a,{className:"text-center",children:s.total_committed}),e.jsx(a,{className:"text-center",children:s.total_discharged}),e.jsx(a,{className:"text-center",children:s.bonded}),e.jsx(a,{className:"text-center",children:s.served_sentence}),e.jsx(a,{className:"text-center",children:s.dismissed}),e.jsx(a,{className:"text-center",children:s.transferred}),e.jsx(a,{className:"text-center",children:s.dapecol}),e.jsx(a,{className:"text-center",children:s.probation}),e.jsx(a,{className:"text-center",children:s.deceased}),e.jsx(a,{className:"text-center",children:s.acquitted}),e.jsx(a,{className:"text-center font-semibold",children:s.total_discharged_drug}),e.jsxs(a,{className:"text-center",children:[s.drug_offenders_percentage,"%"]}),e.jsx(a,{className:"text-center font-semibold",children:s.total_drug_cases})]},n))})]})})})]}),e.jsxs(r,{children:[e.jsx(d,{children:e.jsxs(i,{className:"flex items-center",children:[e.jsx(U,{className:"h-5 w-5 mr-2"}),"Rehabilitation Facilities"]})}),e.jsx(c,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(l.facilities).map(([s,n])=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:s}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n})]},s))})})]}),l.yearly_totals.total_drug_cases===0&&e.jsxs(L,{children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs(w,{children:["No drug-related cases found for ",l.year,". This could mean there were no drug-related cases during this year."]})]})]}),!l&&e.jsxs(r,{children:[e.jsx(d,{children:e.jsx(i,{children:"Instructions"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Select the year for which you want to generate the comprehensive drug-related cases report"}),e.jsx("p",{children:"• The report will show monthly statistics for all 12 months of the selected year"}),e.jsx("p",{children:"• Data includes detainee counts, commitments, discharges, and drug case breakdowns"}),e.jsx("p",{children:"• Discharge causes are tracked for drug-related cases specifically"}),e.jsx("p",{children:"• Percentage calculations show drug offenders as a proportion of total population"}),e.jsx("p",{children:"• Export the report as PDF for official documentation"})]})})]})]})]})}export{ae as default};
