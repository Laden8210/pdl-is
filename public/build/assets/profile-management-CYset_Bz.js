import{K as N,m as y,j as e,L as b}from"./app-CJ7vQp5P.js";import{A as x,b as u,a as j}from"./alert-DvxkmZw_.js";import{B as v}from"./button-JuNy8yTN.js";import{I as i}from"./input-CoADrEhP.js";import{L as l}from"./label-BdEYq_MD.js";import{S,a as w,b as C,c as L,d as o}from"./select-BbZpZNvE.js";import{A}from"./app-layout-BSADAU8c.js";import{L as E}from"./loader-circle-Buusgc6u.js";import"./index-DVLwPzk4.js";import"./index-BgOt399W.js";import"./users-DI3xSBB3.js";import"./user-KkcFiOwu.js";import"./scale-DNT5gMvW.js";import"./eye-BZq_hsp3.js";const F=[{title:"Dashboard",href:"/dashboard"}];function K(){const{props:d}=N(),s=d.auth.user,c=d.success,{data:r,setData:t,post:f,processing:m,errors:p,reset:h}=y({firstName:(s==null?void 0:s.fname)||"",lastName:(s==null?void 0:s.lname)||"",middleName:(s==null?void 0:s.mname)||"",position:(s==null?void 0:s.position)||"",status:(s==null?void 0:s.status)||"active",password:"",profileImage:null}),g=a=>{a.preventDefault(),f(route("admin.profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{h("password","profileImage")}})};return e.jsxs(A,{breadcrumbs:F,children:[e.jsx(b,{title:"Profile Management"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Profile Management"}),Object.keys(p).length>0&&e.jsxs(x,{variant:"destructive",className:"mb-4",children:[e.jsx(u,{children:"Unable to process request"}),e.jsx(j,{children:Object.values(p).map((a,n)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:a})},n))})]}),c&&e.jsxs(x,{variant:"default",className:"mb-4",children:[e.jsx(u,{children:"Success"}),e.jsx(j,{children:c})]}),e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(l,{children:"Profile"}),e.jsx("img",{src:s!=null&&s.avatar?`/storage/${s.avatar}`:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLMI5YxZE03Vnj-s-sth2_JxlPd30Zy7yEGg&s",alt:"Profile",className:"h-32 w-32 rounded-full object-cover"}),e.jsx(i,{type:"file",accept:"image/*",className:"w-full",onChange:a=>{var n;return t("profileImage",((n=a.target.files)==null?void 0:n[0])||null)}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"first-name",children:"First Name"}),e.jsx(i,{id:"first-name",type:"text",placeholder:"Enter your first name",value:r.firstName,onChange:a=>t("firstName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"last-name",children:"Last Name"}),e.jsx(i,{id:"last-name",type:"text",placeholder:"Enter your last name",value:r.lastName,onChange:a=>t("lastName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(i,{id:"password",type:"password",placeholder:"Enter your password",value:r.password,onChange:a=>t("password",a.target.value)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"middle-name",children:"Middle Name"}),e.jsx(i,{id:"middle-name",type:"text",placeholder:"Enter your middle name",value:r.middleName,onChange:a=>t("middleName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"role",children:"Position"}),e.jsx(i,{id:"role",type:"text",placeholder:"Enter your position",value:r.position,onChange:a=>t("position",a.target.value),readOnly:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(S,{value:r.status,onValueChange:a=>t("status",a),children:[e.jsx(w,{className:"w-full",children:e.jsx(C,{placeholder:"Select status"})}),e.jsxs(L,{children:[e.jsx(o,{value:"active",children:"Active"}),e.jsx(o,{value:"inactive",children:"Inactive"}),e.jsx(o,{value:"suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(v,{type:"button",variant:"destructive",onClick:()=>h(),children:"Cancel"}),e.jsxs(v,{type:"submit",variant:"default",disabled:m,children:[m&&e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})]})})]})]})}export{K as default};
