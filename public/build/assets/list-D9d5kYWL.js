import{K as De,r as d,m as Q,j as e,L as Te}from"./app-Cw60ViYM.js";import{A as Ae,a as Se,b as Pe,c as Re}from"./accordion-GkSNsyyL.js";import{A as X,a as Z}from"./alert-o4LoJfEd.js";import{B as b}from"./badge-BacZE9yX.js";import{c as ke,B as c}from"./button-CmvSvEjs.js";import{C as Le,a as Ee,b as Oe,c as Me}from"./card-fzSJF6jC.js";import{C as Ie,a as Fe,b as Ve,c as He,d as $e,e as Ue,f as Be}from"./command-BH_LHj8m.js";import{A as ze,D as I,a as F,b as V,c as H,d as $,X as We,P as Ge,e as Je,f as Ye}from"./app-layout-DcwmIHce.js";import{I as P}from"./input-Cov4X3e_.js";import{L as l}from"./label-DXzrxJOZ.js";import{R as qe,a as ee}from"./radio-group-BF1xGLGO.js";import{S as se,a as re,b as ae,c as ie,d as j}from"./select-KJ19SguM.js";import{T as te,a as ne,b as p,c as n,d as ce,e as t}from"./table-2RhIxSd3.js";import{T as Ke,a as Qe,b as le,c as de}from"./tabs-JnV09T3x.js";import{T as U}from"./textarea-vzbT_eVm.js";import{S as Xe,F as Ze}from"./users-HzoBiL24.js";import{f as g}from"./format-B3rlCQGj.js";import{E as es}from"./eye-B-iqHte5.js";import{P as ss}from"./plus-C-DQHveZ.js";import{C as rs}from"./index-C0a4OGu7.js";import"./index-BPS7Tynv.js";import"./index-Bw_Z07or.js";import"./index-DDJ1Usrt.js";import"./index-3H_A0TGf.js";import"./user-DV2uFnOi.js";import"./scale-C_Y39GyJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],C=ke("ArchiveRestore",as),is=[{title:"Dashboard",href:"/dashboard"},{title:"Archives",href:"/archives"}],ts=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}];function Es({archivedUsers:B,userRole:oe}){const{props:me}=De(),{flash:_,errors:w}=me,[i,he]=d.useState(null),[xe,R]=d.useState(!1),[ue,D]=d.useState(!1),[h,k]=d.useState(null),[je,T]=d.useState(!1),[o,L]=d.useState(null),[m,ge]=d.useState(""),[v,f]=d.useState([]),[ns,z]=d.useState(""),[cs,W]=d.useState(""),[G,J]=d.useState(!1),{post:ve,processing:A}=Q(),{post:pe,processing:y,data:Y,setData:N}=Q({cases:[{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}],unarchive_reason:"",unarchive_remarks:""}),q=s=>{k(s);const r=[{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}];f(r),z(""),W(""),N({cases:r,unarchive_reason:"",unarchive_remarks:""}),D(!0)},fe=()=>{const s=[...v,{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}];f(s),N(r=>({...r,cases:s}))},ye=s=>{v.length>1&&f(v.filter((r,a)=>a!==s))},x=(s,r,a)=>{const u=[...v];u[s]={...u[s],[r]:a},f(u),N(S=>({...S,cases:u}))},Ne=()=>{h&&pe(route("user-pdl-archive.unarchive",h.id),{onSuccess:()=>{D(!1),k(null),f([]),z(""),W("")},onError:s=>{console.error("Unarchive errors:",s)}})},be=s=>{he(s),R(!0)},Ce=s=>{L(s),T(!0)},_e=()=>{console.log("Personnel ID:",o.id),o&&ve(route("user-personnel-archive.restore",{personnelId:o.id}),{preserveScroll:!0,onSuccess:()=>{T(!1),L(null)},onError:s=>{console.error("Restore personnel errors:",s)}})},E=B.pdls.filter(s=>{var r,a;return s.fname.toLowerCase().includes(m.toLowerCase())||s.lname.toLowerCase().includes(m.toLowerCase())||((r=s.alias)==null?void 0:r.toLowerCase().includes(m.toLowerCase()))||s.archive_status.toLowerCase().includes(m.toLowerCase())||((a=s.archive_case_number)==null?void 0:a.toLowerCase().includes(m.toLowerCase()))}),O=B.personnel.filter(s=>s.name.toLowerCase().includes(m.toLowerCase())||s.username.toLowerCase().includes(m.toLowerCase())||s.position.toLowerCase().includes(m.toLowerCase())||s.agency.toLowerCase().includes(m.toLowerCase())),K=s=>({RELEASE:"Release Order",BAIL:"Bail Order",SERVED_SENTENCE:"Served Sentence",PROBATION:"Probation Order",PAROLE:"Parole Order",TRANSFER:"Transfer Order",OTHER:"Other Court Order"})[s]||s,M=s=>({BONDED:"bg-green-100 text-green-800",SERVED_SENTENCE:"bg-blue-100 text-blue-800",PROV_DISMISSED:"bg-yellow-100 text-yellow-800",DISMISSED:"bg-gray-100 text-gray-800",TRANSFER_TO_OTHER_FACILITY:"bg-purple-100 text-purple-800",DAPECOL:"bg-orange-100 text-orange-800",PROBATION:"bg-indigo-100 text-indigo-800",DECEASED:"bg-red-100 text-red-800",ACQUITTED:"bg-green-100 text-green-800"})[s]||"bg-gray-100 text-gray-800";return e.jsxs(ze,{breadcrumbs:is,children:[e.jsx(Te,{title:"Archived Users"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[(_==null?void 0:_.success)&&e.jsx(X,{className:"border-green-200 bg-green-50",children:e.jsx(Z,{className:"text-green-800",children:_.success})}),(w==null?void 0:w.error)&&e.jsx(X,{className:"border-red-200 bg-red-50",children:e.jsx(Z,{className:"text-red-800",children:w.error})}),e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Archived Users Management"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage all archived PDLs and Personnel records"})]}),e.jsx("div",{className:"flex gap-2"})]}),e.jsxs(Le,{children:[e.jsx(Ee,{className:"border-b p-4",children:e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsx(Oe,{className:"text-lg",children:"Archived Records"}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(Xe,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(P,{placeholder:"Search archives...",className:"pl-9",value:m,onChange:s=>ge(s.target.value)})]})]})}),e.jsx(Me,{className:"p-0",children:e.jsxs(Ke,{defaultValue:"pdls",className:"w-full",children:[e.jsxs(Qe,{className:"w-full justify-start rounded-none border-b bg-transparent p-0",children:[e.jsxs(le,{value:"pdls",className:"relative h-12 rounded-none border-b-2 border-b-transparent data-[state=active]:border-b-primary data-[state=active]:bg-background data-[state=active]:shadow-none",children:["PDLs",e.jsx(b,{variant:"secondary",className:"ml-2",children:E.length})]}),oe==="admin"&&e.jsxs(le,{value:"personnel",className:"relative h-12 rounded-none border-b-2 border-b-transparent data-[state=active]:border-b-primary data-[state=active]:bg-background data-[state=active]:shadow-none",children:["Personnel",e.jsx(b,{variant:"secondary",className:"ml-2",children:O.length})]})]}),e.jsx(de,{value:"pdls",className:"m-0",children:e.jsx("div",{className:"rounded-b-lg",children:e.jsxs(te,{children:[e.jsx(ne,{children:e.jsxs(p,{children:[e.jsx(n,{className:"w-[100px]",children:"ID"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Archive Status"}),e.jsx(n,{children:"Court Order Type"}),e.jsx(n,{children:"Case Number"}),e.jsx(n,{children:"Archived At"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(ce,{children:E.length>0?E.map(s=>e.jsxs(p,{className:"hover:bg-muted/50",children:[e.jsx(t,{className:"font-medium",children:s.id}),e.jsxs(t,{children:[e.jsxs("div",{className:"font-medium",children:[s.fname," ",s.lname]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.alias&&`Alias: ${s.alias}`,s.age&&` â€¢ Age: ${s.age}`,s.gender&&` â€¢ ${s.gender}`]})]}),e.jsx(t,{children:e.jsx(b,{className:M(s.archive_status),children:s.archive_status})}),e.jsx(t,{children:e.jsx("div",{className:"text-sm",children:K(s.archive_court_order_type)})}),e.jsx(t,{children:e.jsx("div",{className:"font-mono text-sm",children:s.archive_case_number})}),e.jsx(t,{children:g(new Date(s.archived_at),"MMM dd, yyyy HH:mm")}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(c,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>be(s),children:[e.jsx(es,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(c,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>q(s),disabled:y,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Restore"]})]})})]},`pdl-${s.id}`)):e.jsx(p,{children:e.jsx(t,{colSpan:7,className:"h-24 text-center",children:e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx(C,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium",children:"No archived PDLs found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All PDL records are currently active"})]})})})})]})})}),e.jsx(de,{value:"personnel",className:"m-0",children:e.jsx("div",{className:"rounded-b-lg",children:e.jsxs(te,{children:[e.jsx(ne,{children:e.jsxs(p,{children:[e.jsx(n,{className:"w-[100px]",children:"ID"}),e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Username"}),e.jsx(n,{children:"Position"}),e.jsx(n,{children:"Agency"}),e.jsx(n,{children:"Archived At"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(ce,{children:O.length>0?O.map(s=>e.jsxs(p,{className:"hover:bg-muted/50",children:[e.jsx(t,{className:"font-medium",children:s.id}),e.jsxs(t,{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.type})]}),e.jsx(t,{children:s.username}),e.jsx(t,{children:s.position}),e.jsx(t,{children:s.agency}),e.jsx(t,{children:g(new Date(s.deleted_at),"MMM dd, yyyy HH:mm")}),e.jsx(t,{className:"text-right",children:e.jsxs(c,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>Ce(s),disabled:A,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Restore"]})})]},`personnel-${s.id}`)):e.jsx(p,{children:e.jsx(t,{colSpan:7,className:"h-24 text-center",children:e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx(C,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium",children:"No archived personnel found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All personnel records are currently active"})]})})})})]})})})]})})]}),e.jsx(I,{open:xe,onOpenChange:R,children:e.jsxs(F,{className:"max-w-4xl",children:[e.jsxs(V,{children:[e.jsxs(H,{children:["Archive Details - ",i==null?void 0:i.fname," ",i==null?void 0:i.lname]}),e.jsx($,{children:"Complete archive information and court order documentation"})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",i.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",i.fname," ",i.lname]}),i.alias&&e.jsxs("div",{children:[e.jsx("strong",{children:"Alias:"})," ",i.alias]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Age:"})," ",i.age]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gender:"})," ",i.gender]}),i.birthdate&&e.jsxs("div",{children:[e.jsx("strong",{children:"Birthdate:"})," ",g(new Date(i.birthdate),"MMM dd, yyyy")]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Archive Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Status:"}),e.jsx(b,{className:`ml-2 ${M(i.archive_status)}`,children:i.archive_status})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Reason:"})," ",i.archive_reason]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",g(new Date(i.archived_at),"MMM dd, yyyy HH:mm")]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Court Order Documentation"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Type:"})," ",K(i.archive_court_order_type)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Case Number:"})," ",e.jsx("span",{className:"font-mono",children:i.archive_case_number})]}),i.archive_court_order_date&&e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Date:"})," ",g(new Date(i.archive_court_order_date),"MMM dd, yyyy HH:mm")]})]}),e.jsx("div",{className:"space-y-2",children:i.archive_court_order_file&&e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Document:"}),e.jsx("div",{className:"mt-2",children:e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>window.open(`/storage/${i.archive_court_order_file}`,"_blank"),children:[e.jsx(Ze,{className:"mr-2 h-4 w-4"}),"View Document"]})})]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 border-t pt-4",children:[e.jsx(c,{variant:"outline",onClick:()=>R(!1),children:"Close"}),e.jsxs(c,{onClick:()=>q(i),disabled:y,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Unarchive PDL"]})]})]})]})}),e.jsx(I,{open:ue,onOpenChange:D,children:e.jsxs(F,{className:"max-h-[90vh] overflow-auto",style:{width:"500px"},children:[e.jsxs(V,{children:[e.jsx(H,{children:"Confirm Unarchive"}),e.jsx($,{children:"Are you sure you want to unarchive this PDL record?"})]}),h&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"PDL Information"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",h.fname," ",h.lname]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",h.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Status:"}),e.jsx(b,{className:`ml-2 ${M(h.archive_status)}`,children:h.archive_status})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",g(new Date(h.archived_at),"MMM dd, yyyy HH:mm")]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"unarchive_reason",children:["Reason for Unarchiving ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(U,{id:"unarchive_reason",value:Y.unarchive_reason,onChange:s=>N("unarchive_reason",s.target.value),placeholder:"Enter the reason for unarchiving this PDL...",rows:3})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"unarchive_remarks",children:"Additional Remarks"}),e.jsx(U,{id:"unarchive_remarks",value:Y.unarchive_remarks,onChange:s=>N("unarchive_remarks",s.target.value),placeholder:"Enter any additional remarks or notes...",rows:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"New Case Information"}),e.jsxs(c,{type:"button",variant:"outline",size:"sm",onClick:fe,className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"Add Case"]})]}),e.jsx(Ae,{type:"single",collapsible:!0,className:"w-full",children:v.map((s,r)=>e.jsxs(Se,{value:`case-${r}`,children:[e.jsx(Pe,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex w-full items-center justify-between pr-4",children:[e.jsxs("span",{children:["Case ",r+1]}),v.length>1&&e.jsx(c,{type:"button",variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),ye(r)},className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(We,{className:"h-4 w-4"})})]})}),e.jsx(Re,{children:e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs(l,{htmlFor:`case_number_${r}`,children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(P,{id:`case_number_${r}`,value:s.case_number,onChange:a=>x(r,"case_number",a.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs(l,{htmlFor:`crime_committed_${r}`,children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ge,{open:G,onOpenChange:J,children:[e.jsx(Je,{asChild:!0,children:e.jsxs(c,{variant:"outline",role:"combobox","aria-expanded":G,className:"w-full justify-between",children:[s.crime_committed||"Select or type crime committed...",e.jsx(Ie,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Ye,{className:"w-full p-0",align:"start",children:e.jsxs(Fe,{children:[e.jsx(Ve,{placeholder:"Search crimes or type custom...",value:s.crime_committed,onValueChange:a=>x(r,"crime_committed",a)}),e.jsxs(He,{children:[e.jsx($e,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No crime found. Press Enter to add "',s.crime_committed||"",'" as custom crime.']})}),ts.map(a=>e.jsx(Ue,{heading:a.category,children:a.cases.map(u=>{var S;return e.jsxs(Be,{value:u,onSelect:we=>{x(r,"crime_committed",we),J(!1)},children:[e.jsx(rs,{className:`mr-2 h-4 w-4 ${((S=s.crime_committed)==null?void 0:S.crime_committed)===u?"opacity-100":"opacity-0"}`}),u]},u)})},a.category))]})]})})]})]}),e.jsxs("div",{children:[e.jsxs(l,{htmlFor:`date_committed_${r}`,children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(P,{id:`date_committed_${r}`,type:"date",value:s.date_committed,onChange:a=>x(r,"date_committed",a.target.value)})]}),e.jsxs("div",{children:[e.jsxs(l,{htmlFor:`time_committed_${r}`,children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(P,{id:`time_committed_${r}`,type:"time",value:s.time_committed,onChange:a=>x(r,"time_committed",a.target.value)})]}),e.jsxs("div",{children:[e.jsxs(l,{htmlFor:`case_status_${r}`,children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(se,{value:s.case_status,onValueChange:a=>x(r,"case_status",a),children:[e.jsx(re,{children:e.jsx(ae,{placeholder:"Select case status"})}),e.jsxs(ie,{children:[e.jsx(j,{value:"open",children:"Open"}),e.jsx(j,{value:"pending",children:"Pending"}),e.jsx(j,{value:"on_trial",children:"On Trial"}),e.jsx(j,{value:"convicted",children:"Convicted"}),e.jsx(j,{value:"dismissed",children:"Dismissed"})]})]})]}),e.jsxs("div",{children:[e.jsxs(l,{htmlFor:`security_classification_${r}`,children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(se,{value:s.security_classification,onValueChange:a=>x(r,"security_classification",a),children:[e.jsx(re,{children:e.jsx(ae,{placeholder:"Select classification"})}),e.jsxs(ie,{children:[e.jsx(j,{value:"low",children:"Low"}),e.jsx(j,{value:"medium",children:"Medium"}),e.jsx(j,{value:"high",children:"High"}),e.jsx(j,{value:"maximum",children:"Maximum"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Drug Related"}),e.jsxs(qe,{value:s.drug_related?"yes":"no",onValueChange:a=>x(r,"drug_related",a==="yes"),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{value:"yes",id:`drug_yes_${r}`}),e.jsx(l,{htmlFor:`drug_yes_${r}`,children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{value:"no",id:`drug_no_${r}`}),e.jsx(l,{htmlFor:`drug_no_${r}`,children:"No"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:`case_remarks_${r}`,children:"Case Remarks"}),e.jsx(U,{id:`case_remarks_${r}`,value:s.case_remarks,onChange:a=>x(r,"case_remarks",a.target.value),placeholder:"Enter case-related remarks...",rows:3})]})]})})]},r))})]}),e.jsx("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This action will restore the PDL record to active status and remove all archive information. The PDL will appear in the main list again."})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(c,{variant:"outline",onClick:()=>{D(!1),k(null)},disabled:y,children:"Cancel"}),e.jsx(c,{onClick:Ne,disabled:y,className:"bg-red-600 hover:bg-red-700",children:y?"Unarchiving...":"Yes, Unarchive PDL"})]})]})]})}),e.jsx(I,{open:je,onOpenChange:T,children:e.jsxs(F,{className:"max-w-md",children:[e.jsxs(V,{children:[e.jsx(H,{children:"Confirm Restore Personnel"}),e.jsx($,{children:"Are you sure you want to restore this personnel record?"})]}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"Personnel Information"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",o.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",o.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Username:"})," ",o.username]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Position:"})," ",o.position]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agency:"})," ",o.agency]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",g(new Date(o.deleted_at),"MMM dd, yyyy HH:mm")]})]})]}),e.jsx("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This action will restore the personnel record to active status. The personnel will be able to log in again and access the system."})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(c,{variant:"outline",onClick:()=>{T(!1),L(null)},disabled:A,children:"Cancel"}),e.jsx(c,{onClick:_e,disabled:A,className:"bg-green-600 hover:bg-green-700",children:A?"Restoring...":"Yes, Restore Personnel"})]})]})]})})]})]})}export{Es as default};
