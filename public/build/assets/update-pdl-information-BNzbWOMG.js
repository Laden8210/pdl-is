import{r as b,K as Ks,m as Ys,j as e,L as Qs}from"./app-DI5HTPUm.js";import{A as Zs,X as B,P as ea,q as sa,r as aa}from"./app-layout-DBcP77Ru.js";import{A as Fs,b as Ds,a as Ss}from"./alert-Cpm-oBNm.js";import{B as I}from"./badge-CYajctD5.js";import{B as x}from"./button-BLRFfHHR.js";import{C as M,a as T,b as A,c as E}from"./card-BDwdSRvQ.js";import{C as ra,a as ia,b as ta,c as la,d as ca,e as na,f as da}from"./command-CK5KlIDI.js";import{I as h}from"./input-C9En1sRN.js";import{L as t}from"./label-BZhg47tc.js";import{P as oa,U as ma}from"./progress-DvRf69XH.js";import{R as ha,a as Ms}from"./radio-group-DHtenKWT.js";import{S as U,a as G,b as V,c as W,d as u}from"./select-CJH047hW.js";import{S as Ts}from"./separator-C-YtSC1W.js";import{T as C}from"./textarea-BEtWwyi9.js";import{E as O}from"./eye-DVculWdR.js";import{F as N}from"./users-DAxItDyi.js";import{C as xa}from"./index-DOU2crpS.js";import{I as ua}from"./image-DJxbaE_H.js";import{f as As}from"./format-B3rlCQGj.js";import"./index-C4AXlaQI.js";import"./user-DVRbpvNU.js";import"./scale-DsVYcs7d.js";import"./index-BIM3TK7A.js";import"./index-TmaKhjjb.js";const pa=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}],ga=[{title:"Update PDL Management",href:"/pdl-management"}],R=[{id:1,title:"Personal Information",description:"Basic personal details and address"},{id:2,title:"Court Order Details",description:"Court order and legal documentation"},{id:3,title:"Case Information",description:"Criminal case details and status"},{id:4,title:"Medical Records",description:"Health and medical information"},{id:5,title:"Physical Characteristics",description:"Physical description and identification marks"},{id:6,title:"Review & Submit",description:"Review all information before submission"}];function Ga(){var ce,ne,de,oe,me,he,xe,ue,pe,ge,je,fe,ve,ye,Ne,_e,be,Ce,we,ke,Pe,Fe,De,Se,Me,Te,Ae,Ee,Re,Be,Ie,Oe,Le,Ue,Ge,Ve,We,ze,He,Je,Xe,$e,qe,Ke,Ye,Qe,Ze,es,ss,as,rs,is,ts;const[g,z]=b.useState(1),[d,H]=b.useState(0),{props:J}=Ks(),{pdl:i}=J,Es=()=>{const a=s.cases||[];p("cases",[...a,{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]),H(a.length)},Rs=a=>{if(!s.cases||!Array.isArray(s.cases)||s.cases.length<=1)return;const l=s.cases.filter((c,n)=>n!==a);p("cases",l),H(Math.min(d,l.length-1))},_=(a,l,c)=>{if(!s.cases||!Array.isArray(s.cases)||a<0||a>=s.cases.length)return;const n=[...s.cases];n[a]&&(n[a]={...n[a],[l]:c},p("cases",n))},{data:s,setData:p,put:Bs,processing:X,errors:Q}=Ys({id:i.id,fname:i.fname||"",lname:i.lname||"",alias:i.alias||"",birthdate:i.birthdate||"",age:i.age?i.age.toString():"",gender:i.gender||"",ethnic_group:i.ethnic_group||"",civil_status:i.civil_status||"",brgy:i.brgy||"",city:i.city||"",province:i.province||"",court_order_id:((ne=(ce=i.court_orders)==null?void 0:ce[0])==null?void 0:ne.court_order_id)||0,court_order_number:((oe=(de=i.court_orders)==null?void 0:de[0])==null?void 0:oe.court_order_number)||"",order_type:((he=(me=i.court_orders)==null?void 0:me[0])==null?void 0:he.order_type)||"",order_date:((ue=(xe=i.court_orders)==null?void 0:xe[0])==null?void 0:ue.order_date)||"",received_date:((ge=(pe=i.court_orders)==null?void 0:pe[0])==null?void 0:ge.received_date)||"",document_type:null,document_path:((fe=(je=i.court_orders)==null?void 0:je[0])==null?void 0:fe.document_path)||"",original_filename:((ye=(ve=i.court_orders)==null?void 0:ve[0])==null?void 0:ye.original_filename)||"",court_branch:((_e=(Ne=i.court_orders)==null?void 0:Ne[0])==null?void 0:_e.court_branch)||"",cod_remarks:((Ce=(be=i.court_orders)==null?void 0:be[0])==null?void 0:Ce.remarks)||"",medical_record_id:((ke=(we=i.medical_records)==null?void 0:we[0])==null?void 0:ke.medical_record_id)||0,complaint:((Fe=(Pe=i.medical_records)==null?void 0:Pe[0])==null?void 0:Fe.complaint)||"",date:((Se=(De=i.medical_records)==null?void 0:De[0])==null?void 0:Se.date)||new Date().toISOString().split("T")[0],prognosis:((Te=(Me=i.medical_records)==null?void 0:Me[0])==null?void 0:Te.prognosis)||"",laboratory:((Ee=(Ae=i.medical_records)==null?void 0:Ae[0])==null?void 0:Ee.laboratory)||"",prescription:((Be=(Re=i.medical_records)==null?void 0:Re[0])==null?void 0:Be.prescription)||"",findings:((Oe=(Ie=i.medical_records)==null?void 0:Ie[0])==null?void 0:Oe.findings)||"",physical_characteristic_id:((Ue=(Le=i.physical_characteristics)==null?void 0:Le[0])==null?void 0:Ue.characteristic_id)||0,height:((Ve=(Ge=i.physical_characteristics)==null?void 0:Ge[0])==null?void 0:Ve.height)??170,weight:((ze=(We=i.physical_characteristics)==null?void 0:We[0])==null?void 0:ze.weight)??70,build:((Je=(He=i.physical_characteristics)==null?void 0:He[0])==null?void 0:Je.build)||"",complexion:(($e=(Xe=i.physical_characteristics)==null?void 0:Xe[0])==null?void 0:$e.complexion)||"",hair_color:((Ke=(qe=i.physical_characteristics)==null?void 0:qe[0])==null?void 0:Ke.hair_color)||"",eye_color:((Qe=(Ye=i.physical_characteristics)==null?void 0:Ye[0])==null?void 0:Qe.eye_color)||"",identification_marks:((es=(Ze=i.physical_characteristics)==null?void 0:Ze[0])==null?void 0:es.identification_marks)||"",mark_location:((as=(ss=i.physical_characteristics)==null?void 0:ss[0])==null?void 0:as.mark_location)||"",pc_remark:((is=(rs=i.physical_characteristics)==null?void 0:rs[0])==null?void 0:is.remark)||"",medical_files:[],cases:Array.isArray(i.cases)&&i.cases.length>0?i.cases.map(a=>({case_id:(a==null?void 0:a.case_id)||0,case_number:(a==null?void 0:a.case_number)||"",crime_committed:(a==null?void 0:a.crime_committed)||"",date_committed:(a==null?void 0:a.date_committed)||"",time_committed:(a==null?void 0:a.time_committed)||"",case_status:(a==null?void 0:a.case_status)||"open",case_remarks:(a==null?void 0:a.case_remarks)||"",security_classification:(a==null?void 0:a.security_classification)||"medium",drug_related:(a==null?void 0:a.drug_related)||!1})):[{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]}),Z=J.success,$=J.error,[ee,Is]=b.useState(s.birthdate?new Date(s.birthdate):void 0),[se,ae]=b.useState(!1),[q,K]=b.useState([]),[w,D]=b.useState(null),[k,S]=b.useState(null),[f,P]=b.useState(null),[v,F]=b.useState(null),Os=a=>{const l=Array.from(a.target.files||[]);K(c=>[...c,...l])},Ls=a=>{const l=new FileReader;a.type.startsWith("image/")?(l.onload=c=>{var n;D((n=c.target)==null?void 0:n.result)},l.readAsDataURL(a)):a.type==="application/pdf"?(l.onload=c=>{var n;D((n=c.target)==null?void 0:n.result)},l.readAsDataURL(a)):a.type==="text/plain"?(l.onload=c=>{var n;D((n=c.target)==null?void 0:n.result)},l.readAsText(a)):a.type.includes("document")||a.name.endsWith(".doc")||a.name.endsWith(".docx")?D("document-file"):D(null)},Us=a=>{const l=new FileReader;a.type.startsWith("image/")?(l.onload=c=>{var n;S((n=c.target)==null?void 0:n.result)},l.readAsDataURL(a)):a.type==="application/pdf"?(l.onload=c=>{var n;S((n=c.target)==null?void 0:n.result)},l.readAsDataURL(a)):a.type==="text/plain"?(l.onload=c=>{var n;S((n=c.target)==null?void 0:n.result)},l.readAsText(a)):a.type.includes("document")||a.name.endsWith(".doc")||a.name.endsWith(".docx")?S("document-file"):S(null)},Gs=(a,l)=>{var n;const c=(n=l.split(".").pop())==null?void 0:n.toLowerCase();["jpg","jpeg","png","gif"].includes(c||"")?P(`/storage/${a}`):c==="pdf"?P(`/storage/${a}`):c==="txt"?fetch(`/storage/${a}`).then(y=>y.text()).then(y=>P(y)).catch(()=>P("document-file")):(["doc","docx"].includes(c||""),P("document-file"))},Y=(a,l)=>{var n;const c=(n=l.split(".").pop())==null?void 0:n.toLowerCase();["jpg","jpeg","png","gif"].includes(c||"")?F(`/storage/${a}`):c==="pdf"?F(`/storage/${a}`):c==="txt"?fetch(`/storage/${a}`).then(y=>y.text()).then(y=>F(y)).catch(()=>F("document-file")):(["doc","docx"].includes(c||""),F("document-file"))},Vs=a=>{K(l=>l.filter((c,n)=>n!==a))},Ws=a=>{var c;switch((c=a.name.split(".").pop())==null?void 0:c.toLowerCase()){case"pdf":return e.jsx(N,{className:"h-5 w-5 text-red-500"});case"jpg":case"jpeg":case"png":case"gif":return e.jsx(ua,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(N,{className:"h-5 w-5 text-gray-500"})}},re=a=>{if(a===0)return"0 Bytes";const l=1024,c=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(a)/Math.log(l));return parseFloat((a/Math.pow(l,n)).toFixed(2))+" "+c[n]},zs=a=>{if(Is(a),a){const l=As(a,"yyyy-MM-dd"),c=new Date().getFullYear()-a.getFullYear();p("birthdate",l),p("age",c.toString())}},o=a=>{const l=a.target.name,c=a.target.type==="number"?parseFloat(a.target.value):a.target.value;p(l,c)},Hs=a=>{a.preventDefault(),p("medical_files",q),Bs(route("pdl-management.personal-information.update",i.id),{preserveScroll:!0,onSuccess:()=>{K([])}})},Js=()=>{g<R.length&&z(g+1)},Xs=()=>{g>1&&z(g-1)},$s=a=>{z(a)},ie=a=>{switch(a){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"maximum":return"destructive";default:return"default"}},te=a=>{switch(a){case"open":return"destructive";case"closed":return"secondary";case"pending":return"default";default:return"default"}},qs=()=>{var a,l,c,n,y,ls,cs,ns,ds,os,ms,hs,xs,us,ps,gs,js,fs,vs,ys,Ns,_s,bs,Cs,ws,ks,Ps;switch(g){case 1:return e.jsxs(M,{children:[e.jsx(T,{children:e.jsx(A,{children:"Personal Information"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"fname",name:"fname",value:s.fname,onChange:o,placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"lname",name:"lname",value:s.lname,onChange:o,placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"alias",children:"Alias"}),e.jsx(h,{id:"alias",name:"alias",value:s.alias,onChange:o,placeholder:"Enter alias (if any)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"date",value:ee?As(ee,"yyyy-MM-dd"):s.birthdate,onChange:r=>zs(r.target.value?new Date(r.target.value):void 0)}),s.age&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age: ",s.age," years"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(U,{value:s.gender,onValueChange:r=>p("gender",r),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Select gender"})}),e.jsxs(W,{children:[e.jsx(u,{value:"Male",children:"Male"}),e.jsx(u,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(h,{id:"ethnic_group",name:"ethnic_group",value:s.ethnic_group,onChange:o,placeholder:"Enter ethnic group"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Civil Status"}),e.jsxs(U,{value:s.civil_status,onValueChange:r=>p("civil_status",r),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Select civil status"})}),e.jsxs(W,{children:[e.jsx(u,{value:"Single",children:"Single"}),e.jsx(u,{value:"Married",children:"Married"}),e.jsx(u,{value:"Widowed",children:"Widowed"}),e.jsx(u,{value:"Divorced",children:"Divorced"})]})]})]})]}),e.jsx(Ts,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"brgy",children:"Barangay"}),e.jsx(h,{id:"brgy",name:"brgy",value:s.brgy,onChange:o,placeholder:"Enter barangay"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"city",children:"City"}),e.jsx(h,{id:"city",name:"city",value:s.city,onChange:o,placeholder:"Enter city"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"province",children:"Province"}),e.jsx(h,{id:"province",name:"province",value:s.province,onChange:o,placeholder:"Enter province"})]})]})]})]})]});case 2:return e.jsxs(M,{children:[e.jsx(T,{children:e.jsx(A,{children:"Court Order Information"})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"court_order_number",children:["Court Order Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"court_order_number",name:"court_order_number",value:s.court_order_number,onChange:o,placeholder:"Enter court order number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"order_type",children:["Order Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"order_type",name:"order_type",value:s.order_type,onChange:o,placeholder:"Enter order type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{children:["Order Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"date",value:s.order_date,onChange:r=>p("order_date",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{children:["Received Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"date",value:s.received_date,onChange:r=>p("received_date",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"document_type",children:["Upload Document ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"file",id:"document_type",name:"document_type",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:r=>{var j;const m=(j=r.target.files)==null?void 0:j[0];m&&(p("document_type",m),Ls(m))},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"}),s.original_filename&&e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.original_filename}),e.jsx("p",{className:"text-xs text-gray-500",children:"Current file"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Gs(s.document_path||"",s.original_filename||""),className:"text-blue-500 hover:text-blue-700",title:"Preview current file",children:e.jsx(O,{className:"h-4 w-4"})})})]}),w&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(t,{children:"New Document Preview"}),e.jsxs("div",{className:"relative",children:[w==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:(a=s.document_type)==null?void 0:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-400",children:re(((l=s.document_type)==null?void 0:l.size)||0)})]})}):w.startsWith("data:image/")?e.jsx("img",{src:w,alt:"Document preview",className:"max-h-64 w-full rounded-lg border object-contain"}):w.startsWith("data:application/pdf")?e.jsx("iframe",{src:w,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:w})}),e.jsx(x,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>D(null),children:e.jsx(B,{className:"h-4 w-4"})})]})]}),f&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(t,{children:"Current Document Preview"}),e.jsxs("div",{className:"relative",children:[f==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:s.original_filename}),e.jsx("p",{className:"text-xs text-gray-500",children:"Document file - Preview not available"})]})}):f.startsWith("/storage/")&&(f.includes(".jpg")||f.includes(".jpeg")||f.includes(".png"))?e.jsx("img",{src:f,alt:"Current document preview",className:"max-h-64 w-full rounded-lg border object-contain"}):f.startsWith("/storage/")&&f.includes(".pdf")?e.jsx("iframe",{src:f,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:f})}),e.jsx(x,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>P(null),children:e.jsx(B,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"court_branch",children:["Court Branch ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"court_branch",name:"court_branch",value:s.court_branch,onChange:o,placeholder:"Enter court branch"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"cod_remarks",children:"Remarks"}),e.jsx(C,{id:"cod_remarks",name:"cod_remarks",value:s.cod_remarks,onChange:o,rows:3,placeholder:"Enter any additional remarks..."})]})]})]});case 3:return e.jsxs(M,{children:[e.jsx(T,{children:e.jsxs(A,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information",((c=s.cases[d])==null?void 0:c.case_status)&&e.jsx(I,{variant:te(((n=s.cases[d])==null?void 0:n.case_status)||""),children:(((y=s.cases[d])==null?void 0:y.case_status)||"").charAt(0).toUpperCase()+(((ls=s.cases[d])==null?void 0:ls.case_status)||"").slice(1)}),((cs=s.cases[d])==null?void 0:cs.security_classification)&&e.jsxs(I,{variant:ie(((ns=s.cases[d])==null?void 0:ns.security_classification)||""),children:[(((ds=s.cases[d])==null?void 0:ds.security_classification)||"").charAt(0).toUpperCase()+(((os=s.cases[d])==null?void 0:os.security_classification)||"").slice(1)," ","Security"]})]}),e.jsx(x,{variant:"outline",size:"sm",type:"button",onClick:Es,children:"Add New Case"})]})}),e.jsxs(E,{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:s.cases.map((r,m)=>e.jsxs(x,{variant:d===m?"default":"outline",size:"sm",type:"button",onClick:()=>H(m),className:"relative",children:["Case ",m+1,s.cases.length>1&&e.jsx("button",{onClick:j=>{j.stopPropagation(),Rs(m)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:"×"})]},m))}),s.cases&&Array.isArray(s.cases)&&s.cases.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"case_number",children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"case_number",value:((ms=s.cases[d])==null?void 0:ms.case_number)||"",onChange:r=>_(d,"case_number",r.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"crime_committed",children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ea,{open:se,onOpenChange:ae,children:[e.jsx(sa,{asChild:!0,children:e.jsxs(x,{variant:"outline",role:"combobox","aria-expanded":se,className:"w-full justify-between",children:[((hs=s.cases[d])==null?void 0:hs.crime_committed)||"Select or type crime committed...",e.jsx(ra,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(aa,{className:"w-full p-0",align:"start",children:e.jsxs(ia,{children:[e.jsx(ta,{placeholder:"Search crimes or type custom...",value:((xs=s.cases[d])==null?void 0:xs.crime_committed)||"",onValueChange:r=>_(d,"crime_committed",r)}),e.jsxs(la,{children:[e.jsx(ca,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No crime found. Press Enter to add "',((us=s.cases[d])==null?void 0:us.crime_committed)||"",'" as custom crime.']})}),pa.map(r=>e.jsx(na,{heading:r.category,children:r.cases.map(m=>{var j;return e.jsxs(da,{value:m,onSelect:L=>{_(d,"crime_committed",L),ae(!1)},children:[e.jsx(xa,{className:`mr-2 h-4 w-4 ${((j=s.cases[d])==null?void 0:j.crime_committed)===m?"opacity-100":"opacity-0"}`}),m]},m)})},r.category))]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"date_committed",children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"date",value:((ps=s.cases[d])==null?void 0:ps.date_committed)||"",onChange:r=>_(d,"date_committed",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"time_committed",children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"time",value:((gs=s.cases[d])==null?void 0:gs.time_committed)||"",onChange:r=>_(d,"time_committed",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"case_status",children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(U,{value:((js=s.cases[d])==null?void 0:js.case_status)||"",onValueChange:r=>_(d,"case_status",r),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Select status"})}),e.jsxs(W,{children:[e.jsx(u,{value:"on trial",children:"On Trial"}),e.jsx(u,{value:"pending",children:"Pending"}),e.jsx(u,{value:"convicted",children:"Convicted"}),e.jsx(u,{value:"deceased",children:"Deceased"}),e.jsx(u,{value:"case closed",children:"Case Closed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"security_classification",children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(U,{value:((fs=s.cases[d])==null?void 0:fs.security_classification)||"",onValueChange:r=>_(d,"security_classification",r),children:[e.jsx(G,{children:e.jsx(V,{placeholder:"Select classification"})}),e.jsxs(W,{children:[e.jsx(u,{value:"low",children:"Low"}),e.jsx(u,{value:"medium",children:"Medium"}),e.jsx(u,{value:"high",children:"High"}),e.jsx(u,{value:"maximum",children:"Maximum"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Drug Related"}),e.jsxs(ha,{value:(vs=s.cases[d])!=null&&vs.drug_related?"yes":"no",onValueChange:r=>_(d,"drug_related",r==="yes"),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ms,{value:"yes",id:"drug_yes"}),e.jsx(t,{htmlFor:"drug_yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ms,{value:"no",id:"drug_no"}),e.jsx(t,{htmlFor:"drug_no",children:"No"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Indicate if this case is related to drug offenses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"case_remarks",children:"Case Remarks"}),e.jsx(C,{id:"case_remarks",value:((ys=s.cases[d])==null?void 0:ys.case_remarks)||"",onChange:r=>_(d,"case_remarks",r.target.value),rows:3,placeholder:"Enter case-related remarks..."})]})]})]})]});case 4:return e.jsxs(M,{children:[e.jsx(T,{children:e.jsx(A,{children:"Medical Records"})}),e.jsx(E,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"date",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"date",id:"date",value:s.date,onChange:r=>p("date",r.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"complaint",children:["Complaint ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(C,{id:"complaint",name:"complaint",value:s.complaint,onChange:o,rows:3,placeholder:"Describe the medical complaint or symptoms..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"findings",children:["Medical Findings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(C,{id:"findings",name:"findings",value:s.findings,onChange:o,rows:3,placeholder:"Enter medical findings and observations..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"prognosis",children:["Prognosis ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(C,{id:"prognosis",name:"prognosis",value:s.prognosis,onChange:o,rows:3,placeholder:"Enter medical prognosis (e.g., Good prognosis with treatment, Poor prognosis due to complications, etc.)"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Specify prognosis details in parentheses for clarity"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Medical Documents"}),e.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-6 text-center transition-colors hover:border-gray-400",children:[e.jsx("input",{type:"file",id:"medical_files",name:"medical_files",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:Os,className:"hidden"}),e.jsxs("label",{htmlFor:"medical_files",className:"cursor-pointer",children:[e.jsx(ma,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload medical documents and images"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Supports: Images (JPG, PNG, GIF), PDF, DOC, DOCX, TXT"})]})]})]})]}),q.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Uploaded Files"}),e.jsx("div",{className:"space-y-2",children:q.map((r,m)=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[Ws(r),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:r.name}),e.jsx("p",{className:"text-xs text-gray-500",children:re(r.size)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Us(r),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(O,{className:"h-4 w-4"})}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Vs(m),children:e.jsx(B,{className:"h-4 w-4"})})]})]},m))})]}),k&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(t,{children:"New File Preview"}),e.jsxs("div",{className:"relative",children:[k==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"})]})}):k.startsWith("data:image/")?e.jsx("img",{src:k,alt:"File preview",className:"max-h-64 w-full rounded-lg border object-contain"}):k.startsWith("data:application/pdf")?e.jsx("iframe",{src:k,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:k})}),e.jsx(x,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>S(null),children:e.jsx(B,{className:"h-4 w-4"})})]})]}),((_s=(Ns=i.medical_records)==null?void 0:Ns[0])==null?void 0:_s.single_file)&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(t,{children:"Current Medical Record File"}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.medical_records[0].single_file.original_filename}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(bs=i.medical_records[0].single_file.extension)==null?void 0:bs.toUpperCase()," • Medical record"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y(i.medical_records[0].single_file.file_path,i.medical_records[0].single_file.original_filename),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(O,{className:"h-4 w-4"})})})]})]}),(ws=(Cs=i.medical_records)==null?void 0:Cs[0])!=null&&ws.files&&i.medical_records[0].files.length>0||(Ps=(ks=i.medical_records)==null?void 0:ks[0])!=null&&Ps.original_filename&&i.medical_records[0].original_filename?e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(t,{children:"Current Medical Documents"}),e.jsx("div",{className:"space-y-2",children:i.medical_records[0].files&&i.medical_records[0].files.length>0?i.medical_records[0].files.map((r,m)=>{var j;return e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.original_filename}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(j=r.extension)==null?void 0:j.toUpperCase()," • Medical document"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y(r.file_path,r.original_filename),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(O,{className:"h-4 w-4"})})})]},m)}):i.medical_records[0].original_filename.split(",").map((r,m)=>{var L;const j=(L=i.medical_records[0].file_path)==null?void 0:L.split(",")[m];return e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),e.jsx("p",{className:"text-xs text-gray-500",children:"Medical document"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y(j||"",r),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(O,{className:"h-4 w-4"})})})]},m)})})]}):null,v&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(t,{children:"Current Medical File Preview"}),e.jsxs("div",{className:"relative",children:[v==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(N,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"})]})}):v.startsWith("/storage/")&&(v.includes(".jpg")||v.includes(".jpeg")||v.includes(".png"))?e.jsx("img",{src:v,alt:"Current medical file preview",className:"max-h-64 w-full rounded-lg border object-contain"}):v.startsWith("/storage/")&&v.includes(".pdf")?e.jsx("iframe",{src:v,className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:v})}),e.jsx(x,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>F(null),children:e.jsx(B,{className:"h-4 w-4"})})]})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(t,{htmlFor:"medical_records_preview",children:"Medical Records Preview"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"laboratory",children:["Laboratory Results ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(C,{id:"laboratory",name:"laboratory",value:s.laboratory,onChange:o,rows:3,placeholder:"Enter laboratory test results..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"prescription",children:["Prescription ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(C,{id:"prescription",name:"prescription",value:s.prescription,onChange:o,rows:3,placeholder:"Enter prescribed medications and treatments..."})]})]})})]});case 5:return e.jsxs(M,{children:[e.jsx(T,{children:e.jsxs(A,{className:"flex items-center gap-2",children:["Physical Characteristics",s.height&&s.weight&&e.jsxs(I,{variant:"secondary",children:[s.height,"cm / ",s.weight,"kg"]})]})}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"height",children:["Height (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"number",id:"height",name:"height",min:"100",max:"250",value:s.height,onChange:o,placeholder:"170"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"weight",children:["Weight (kg) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{type:"number",id:"weight",name:"weight",min:"30",max:"300",value:s.weight,onChange:o,placeholder:"70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"build",children:["Build ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"build",name:"build",value:s.build,onChange:o,placeholder:"e.g., Slim, Medium, Heavy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"complexion",children:["Complexion ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"complexion",name:"complexion",value:s.complexion,onChange:o,placeholder:"e.g., Fair, Dark, Medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"hair_color",children:["Hair Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"hair_color",name:"hair_color",value:s.hair_color,onChange:o,placeholder:"e.g., Black, Brown, Gray"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"eye_color",children:["Eye Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"eye_color",name:"eye_color",value:s.eye_color,onChange:o,placeholder:"e.g., Brown, Black, Blue"})]})]}),e.jsx(Ts,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Identification Marks"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"identification_marks",children:["Identification Marks ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"identification_marks",name:"identification_marks",value:s.identification_marks,onChange:o,placeholder:"e.g., Scar, Tattoo, Birthmark"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"mark_location",children:["Mark Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"mark_location",name:"mark_location",value:s.mark_location,onChange:o,placeholder:"e.g., Left arm, Right cheek"})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(t,{htmlFor:"pc_remark",children:"Physical Characteristics Remarks"}),e.jsx(C,{id:"pc_remark",name:"pc_remark",value:s.pc_remark,onChange:o,rows:3,placeholder:"Enter any additional physical characteristic remarks..."})]})]})]})]})]});case 6:return e.jsxs(M,{children:[e.jsx(T,{children:e.jsx(A,{children:"Review & Update"})}),e.jsx(E,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.fname," ",s.lname]}),s.alias&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Alias:"})," ",s.alias]}),s.age&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Age:"})," ",s.age," years"]}),s.gender&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",s.gender]}),s.civil_status&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Civil Status:"})," ",s.civil_status]}),(s.brgy||s.city||s.province)&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",[s.brgy,s.city,s.province].filter(Boolean).join(", ")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Court Order"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.court_order_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Number:"})," ",s.court_order_number]}),s.order_type&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Type:"})," ",s.order_type]}),s.court_branch&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Court Branch:"})," ",s.court_branch]}),s.order_date&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Date:"})," ",s.order_date]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["Cases (",s.cases.length,")"]}),e.jsx("div",{className:"space-y-3",children:s.cases.map((r,m)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Case ",m+1]}),e.jsx(I,{variant:te(r.case_status),children:r.case_status}),e.jsx(I,{variant:ie(r.security_classification),children:r.security_classification})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[r.case_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Case Number:"})," ",r.case_number]}),r.crime_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Crime:"})," ",r.crime_committed]}),r.date_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",r.date_committed]})]})]},m))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Physical Characteristics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.height&&s.weight&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Measurements:"})," ",s.height,"cm, ",s.weight,"kg"]}),s.build&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Build:"})," ",s.build]}),s.complexion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Complexion:"})," ",s.complexion]}),s.hair_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Hair Color:"})," ",s.hair_color]}),s.eye_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Eye Color:"})," ",s.eye_color]}),s.identification_marks&&s.mark_location&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marks:"})," ",s.identification_marks," (",s.mark_location,")"]})]})]})]})})]});default:return null}},le=g/R.length*100;return e.jsxs(Zs,{breadcrumbs:ga,children:[e.jsx(Qs,{title:"Update PDL Information"}),e.jsxs("div",{className:"mx-auto w-full space-y-6 p-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Update PDL Information"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Step ",g," of ",R.length,": ",(ts=R[g-1])==null?void 0:ts.description]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(le),"% Complete"]})]}),e.jsx(oa,{value:le,className:"w-full"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(a=>e.jsxs(x,{variant:g===a.id?"default":g>a.id?"secondary":"outline",size:"sm",onClick:()=>$s(a.id),className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-background text-xs",children:a.id}),a.title]},a.id))}),e.jsxs("form",{onSubmit:Hs,className:"space-y-6",children:[(Object.keys(Q).length>0||$)&&e.jsx("div",{"data-alert-container":!0,className:"relative",children:e.jsxs(Fs,{variant:"destructive",children:[e.jsx("button",{type:"button","aria-label":"Close",onClick:a=>{const l=a.currentTarget.closest("[data-alert-container]")||void 0;l&&(l.style.display="none")},className:"absolute top-2 right-2 rounded p-1 text-lg leading-none hover:bg-muted",children:"×"}),e.jsx(Ds,{children:"Unable to process request"}),e.jsx(Ss,{children:$?e.jsx("div",{className:"text-sm",children:$}):e.jsx("ul",{className:"list-inside list-disc space-y-1",children:Object.values(Q).map((a,l)=>e.jsx("li",{className:"text-sm",children:a},l))})})]})}),Z&&e.jsx("div",{"data-alert-container":!0,className:"relative",style:{animation:"fadeIn 0.3s ease-in-out"},children:e.jsxs(Fs,{className:"border-green-200 bg-green-50 text-green-800",children:[e.jsx("button",{type:"button","aria-label":"Close",onClick:a=>{const l=a.currentTarget.closest("[data-alert-container]")||void 0;l&&(l.style.display="none")},className:"absolute top-2 right-2 rounded p-1 text-sm leading-none hover:bg-muted",children:"×"}),e.jsx(Ds,{children:"Success"}),e.jsx(Ss,{children:Z})]})}),qs(),e.jsxs("div",{className:"flex items-center justify-between border-t pt-6",children:[e.jsx("div",{className:"flex gap-2",children:g>1&&e.jsx(x,{type:"button",variant:"outline",onClick:Xs,children:"Previous"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>{window.location.href=route("pdl-management.personal-information")},disabled:X,children:"Cancel"}),g<R.length?e.jsx(x,{type:"button",onClick:Js,children:"Next"}):e.jsx(x,{type:"submit",disabled:X,className:"min-w-[120px]",children:X?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Updating..."]}):"Update PDL Record"})]})]})]})]})]})}export{Ga as default};
