import{r as d,m as P,j as e,L as k,$ as L}from"./app-DnCCZdQP.js";import{I as m}from"./input-error-DmXarmnF.js";import{A as x,a as p,b as A}from"./alert-BdGcwtQT.js";import{B as E}from"./button-Bzh5YXD2.js";import{C as I,I as b}from"./input-CMVIeUot.js";import{L as h}from"./label-hjpTsbbL.js";import{L as u}from"./lock-CK-prS81.js";import{E as g}from"./eye-off-CtTx5Nyg.js";import{E as f}from"./eye-DtGDJvfS.js";import{L as R}from"./loader-circle-yWWNaQHM.js";import"./index-Bwy5C-G7.js";import"./index-BUKMWMlH.js";function J({personnel_id:w,token:j,email:l,status:i}){const[r,N]=d.useState(!1),[o,v]=d.useState(!1),{data:t,setData:n,post:y,processing:c,errors:a}=P({token:j,personnel_id:w,password:"",password_confirmation:""}),_=s=>{s.preventDefault(),y(route("password.reset"))},C=t.password.length>=8&&t.password===t.password_confirmation;return e.jsxs(e.Fragment,{children:[e.jsxs(k,{title:"Reset Password",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"}),e.jsx("meta",{name:"description",content:"Reset your password."})]}),e.jsxs("div",{className:"flex min-h-screen flex-col items-center bg-gradient-to-br from-[#FDFDFC] via-[#FAFAFA] to-[#F5F5F4] p-6 text-[#1b1b18] lg:justify-center lg:p-8",children:[e.jsx("div",{className:"flex w-full items-center justify-center opacity-100 transition-opacity duration-750 lg:grow starting:opacity-0",children:e.jsx("main",{className:"flex w-full max-w-[335px] flex-col-reverse lg:max-w-2xl lg:flex-row",children:e.jsxs("div",{className:"flex-1 rounded-br-lg rounded-bl-lg bg-white/80 p-6 pb-12 text-[13px] leading-[20px] shadow-[inset_0px_0px_0px_1px_rgba(26,26,0,0.12),0_4px_12px_rgba(0,0,0,0.05)] backdrop-blur-sm transition-all duration-300 hover:shadow-[inset_0px_0px_0px_1px_rgba(26,26,0,0.16),0_8px_24px_rgba(0,0,0,0.08)] lg:rounded-tl-lg lg:rounded-br-none lg:p-20",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-6",children:[e.jsx("img",{src:"/PGO.jpg",alt:"Logo 1",className:"h-20 w-auto rounded-full p-1"}),e.jsx("img",{src:"/SCRDC.jpg",alt:"Logo 2",className:"h-20 w-auto rounded-full p-1"})]}),e.jsx("h1",{className:"mb-3 text-3xl font-semibold text-[#1b1b18] lg:text-4xl",children:"Reset Password"}),e.jsx("p",{className:"text-center text-base text-[#6b6b6b] lg:text-lg",children:"Create a new password for your account"}),l&&e.jsxs("p",{className:"text-sm text-[#6b6b6b] mt-2",children:["Account: ",l]})]}),i&&e.jsxs(x,{className:"mb-6 border-green-200 bg-green-50/80 backdrop-blur-sm",children:[e.jsx(I,{className:"h-4 w-4 text-green-600"}),e.jsx(p,{className:"font-medium text-green-800",children:i})]}),Object.keys(a).length>0&&e.jsxs(x,{variant:"destructive",className:"mb-4",children:[e.jsx(A,{children:"Unable to reset password"}),e.jsx(p,{children:Object.values(a).map((s,F)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:s})},F))})]}),e.jsx("form",{className:"flex flex-col gap-6",onSubmit:_,noValidate:!0,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(h,{htmlFor:"password",className:"text-sm font-medium text-[#1b1b18]",children:"New Password"}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute top-1/2 left-3 flex -translate-y-1/2 items-center text-[#6b6b6b] transition-colors group-focus-within:text-[#1b1b18]",children:e.jsx(u,{className:"h-4 w-4"})}),e.jsx(b,{id:"password",type:r?"text":"password",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"new-password",value:t.password,onChange:s=>n("password",s.target.value),placeholder:"Enter new password (min. 8 characters)",className:"h-12 pl-10 pr-10 text-base transition-all duration-200 border-gray-200 hover:border-gray-300 focus-visible:ring-blue-200"}),e.jsx("button",{type:"button",className:"absolute top-1/2 right-3 flex -translate-y-1/2 items-center text-[#6b6b6b] hover:text-[#1b1b18]",onClick:()=>N(!r),children:r?e.jsx(g,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx(m,{message:a.password})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(h,{htmlFor:"password_confirmation",className:"text-sm font-medium text-[#1b1b18]",children:"Confirm New Password"}),e.jsxs("div",{className:"group relative",children:[e.jsx("div",{className:"absolute top-1/2 left-3 flex -translate-y-1/2 items-center text-[#6b6b6b] transition-colors group-focus-within:text-[#1b1b18]",children:e.jsx(u,{className:"h-4 w-4"})}),e.jsx(b,{id:"password_confirmation",type:o?"text":"password",required:!0,tabIndex:2,autoComplete:"new-password",value:t.password_confirmation,onChange:s=>n("password_confirmation",s.target.value),placeholder:"Confirm your new password",className:"h-12 pl-10 pr-10 text-base transition-all duration-200 border-gray-200 hover:border-gray-300 focus-visible:ring-blue-200"}),e.jsx("button",{type:"button",className:"absolute top-1/2 right-3 flex -translate-y-1/2 items-center text-[#6b6b6b] hover:text-[#1b1b18]",onClick:()=>v(!o),children:o?e.jsx(g,{className:"h-4 w-4"}):e.jsx(f,{className:"h-4 w-4"})})]}),e.jsx(m,{message:a.password_confirmation})]}),e.jsx(E,{type:"submit",className:"mt-4 h-12 w-full bg-[#1b1b18] text-base font-medium text-white transition-all duration-200 hover:bg-[#2d2d2a] disabled:opacity-50",tabIndex:3,disabled:c||!C,children:c?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting Password..."]}):"Reset Password"}),e.jsx("div",{className:"text-center",children:e.jsx(L,{href:"/login",className:"text-sm font-medium text-[#6b6b6b] transition-colors hover:text-[#1b1b18] hover:underline",tabIndex:4,children:"‚Üê Back to login"})})]})})]})})}),e.jsx("div",{className:"hidden h-14.5 lg:block"})]})]})}export{J as default};
