import{r as u,j as e,S as c,K as x,L as j}from"./app-Cw60ViYM.js";import{D as g}from"./data-table-rWmPc-3y.js";import{C as y,a as f,b as D,c as _}from"./card-fzSJF6jC.js";import{I as C}from"./input-Cov4X3e_.js";import{L as b}from"./label-DXzrxJOZ.js";import{B as t}from"./button-CmvSvEjs.js";import{D as v,a as N,E as w,b as O,c as M,d}from"./dropdown-menu-Dl_YXC-s.js";import{B as k}from"./badge-BacZE9yX.js";import{D as S,i as T,a as L,b as $,c as K,d as A,g as I,A as E}from"./app-layout-DcwmIHce.js";import{T as B}from"./trash-2-Dw4RpZ2s.js";import{f as m}from"./format-B3rlCQGj.js";import"./table-2RhIxSd3.js";import"./index-Bw_Z07or.js";import"./index-BPS7Tynv.js";import"./index-3H_A0TGf.js";import"./index-DDJ1Usrt.js";import"./index-NaDUNWMp.js";import"./users-HzoBiL24.js";import"./user-DV2uFnOi.js";import"./scale-C_Y39GyJ.js";import"./eye-B-iqHte5.js";function P({order:r}){const[a,s]=u.useState(!1),n=()=>{c.delete(route("court-orders.destroy",r.court_order_id),{onSuccess:()=>{s(!1)}})};return e.jsxs(S,{open:a,onOpenChange:s,children:[e.jsx(T,{asChild:!0,children:e.jsxs(t,{variant:"ghost",className:"w-full justify-start text-red-500 hover:text-red-700",children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Delete"]})}),e.jsxs(L,{className:"sm:max-w-[425px]",children:[e.jsxs($,{children:[e.jsx(K,{children:"Delete Court Order"}),e.jsxs(A,{children:["Are you sure you want to delete this court order?",r.pdl&&e.jsxs("span",{className:"block mt-2 font-medium",children:["PDL: ",r.pdl.fname," ",r.pdl.lname]}),r.court_order_number&&e.jsxs("span",{className:"block mt-1 text-sm text-gray-600",children:["Order Number: ",r.court_order_number]}),r.order_type&&e.jsxs("span",{className:"block mt-1 text-sm text-gray-600",children:["Order Type: ",r.order_type]}),e.jsx("span",{className:"block mt-2 text-red-600",children:"This action cannot be undone."})]})]}),e.jsxs(I,{children:[e.jsx(t,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(t,{variant:"destructive",onClick:n,children:"Delete"})]})]})]})}const R=[{accessorKey:"order_type",header:"Order Type",cell:({row:r})=>e.jsx(k,{variant:"secondary",className:"capitalize",children:r.original.order_type.replace(/_/g," ").charAt(0).toUpperCase()+r.original.order_type.replace(/_/g," ").slice(1)})},{accessorKey:"order_date",header:"Order Date",cell:({row:r})=>m(new Date(r.original.order_date),"MMM dd, yyyy")},{accessorKey:"received_date",header:"Received Date",cell:({row:r})=>m(new Date(r.original.received_date),"MMM dd, yyyy")},{accessorKey:"document_type",header:"Document Type",cell:({row:r})=>{const a=s=>{window.open(`/storage/${s}`,"_blank")};return e.jsx(t,{variant:"outline",onClick:()=>r.original.document_type&&a(r.original.document_path),children:"Preview"})}},{accessorKey:"court_branch",header:"Court Branch",cell:({row:r})=>{const a=r.original.court;return a?`${a.branch_code} - ${a.branch} - ${a.station} - ${a.court_type} - ${a.location}`:`ID: ${r.original.court_id}`}},{id:"pdl",header:"PDL",cell:({row:r})=>{const a=r.original.pdl;return a?`${a.fname} ${a.lname}`:`ID: ${r.original.pdl_id}`}},{accessorKey:"remarks",header:"Remarks",cell:({row:r})=>r.original.remarks||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{id:"actions",header:"Actions",cell:({row:r})=>{const a=r.original;return e.jsxs(v,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(t,{variant:"ghost",size:"icon",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(w,{className:"h-4 w-4"})]})}),e.jsxs(O,{align:"end",children:[e.jsx(M,{children:"Actions"}),e.jsx(d,{asChild:!0,children:e.jsx(t,{variant:"ghost",className:"w-full justify-start",onClick:()=>c.visit(route("court-orders.edit",a.court_order_id)),children:"Edit"})}),e.jsx(d,{asChild:!0,children:e.jsx(P,{order:a})})]})]})}}],z=[{title:"Court Order Management",href:"/court-order"}];function de(){const{props:r}=x(),{courtOrders:a,pdls:s,filters:n,auth:F}=r,[l,h]=u.useState((n==null?void 0:n.search)||""),i=()=>{c.get(route("pdl-management.court-order"),{search:l},{preserveState:!0,replace:!0})},p=o=>{o.key==="Enter"&&i()};return e.jsxs(E,{breadcrumbs:z,children:[e.jsx(j,{title:"Court Order Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Court Order Management"}),e.jsxs(y,{children:[e.jsx(f,{children:e.jsx(D,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{children:"Court Order List"})})})}),e.jsxs(_,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(b,{htmlFor:"search",className:"text-sm font-medium",children:"Search Orders"}),e.jsx(C,{id:"search",placeholder:"Search by order number, type, PDL name, etc.",className:"w-64 md:w-96",value:l,onChange:o=>h(o.target.value),onKeyDown:p}),e.jsx(t,{variant:"outline",onClick:i,children:"Search"})]}),e.jsx(g,{data:a,columns:R})]})]})]})]})}export{de as default};
