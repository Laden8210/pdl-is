import{m as P,j as e,L as w}from"./app-DnCCZdQP.js";import{B as x}from"./button-Bzh5YXD2.js";import{C as h,a as p,b as f,d as N,c as j}from"./card-C9X8j58u.js";import{I as t}from"./input-CMVIeUot.js";import{L as l}from"./label-hjpTsbbL.js";import{A,X as E}from"./app-layout-DFlDjcO4.js";import{F as g,B as v}from"./users-BLuOJmIv.js";import{P as F}from"./plus-xpe-MNMy.js";import{D as R}from"./download-CJ-9aM7j.js";import{U as S}from"./user-DPLirZ3g.js";import"./index-Bwy5C-G7.js";import"./index-BUKMWMlH.js";import"./scale-kSXqTHaD.js";import"./eye-DtGDJvfS.js";import"./circle-alert-tHfdt3Eq.js";function V({certificateData:a,filters:c}){const{data:r,setData:o,post:y,processing:u}=P({persons:(c==null?void 0:c.persons)||[{fname:"",mname:"",lname:"",suffix:""}],requested_by:(c==null?void 0:c.requested_by)||"",requesting_agency:(c==null?void 0:c.requesting_agency)||"",export_pdf:!1,officer_name:"",officer_position:""}),_=()=>{o("persons",[...r.persons,{fname:"",mname:"",lname:"",suffix:""}])},b=s=>{if(r.persons.length>1){const n=r.persons.filter((i,d)=>d!==s);o("persons",n)}},m=(s,n,i)=>{const d=[...r.persons];d[s]={...d[s],[n]:i},o("persons",d)},C=(s=!1)=>{o("export_pdf",s),y(route("reports.no-records-certificate.generate"))},q=()=>{const s=new URLSearchParams;r.persons.forEach((n,i)=>{s.append(`persons[${i}][fname]`,n.fname||""),s.append(`persons[${i}][mname]`,n.mname||""),s.append(`persons[${i}][lname]`,n.lname||""),s.append(`persons[${i}][suffix]`,n.suffix||"")}),s.append("requested_by",r.requested_by),s.append("requesting_agency",r.requesting_agency),s.append("officer_name",r.officer_name),s.append("officer_position",r.officer_position),console.log(s.toString()),console.log(route("reports.no-records-certificate.export")+"?"+s.toString()),window.open(route("reports.no-records-certificate.export")+"?"+s.toString(),"_blank")};return e.jsxs(A,{children:[e.jsx(w,{title:"Certificate of No Records - South Cotabato Rehabilitation and Detention Center"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Certificate of No Records"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate official certificate stating no records exist for specified persons"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Official Certificate"})]})]}),e.jsxs(h,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Generate Certificate of No Records"}),e.jsx(N,{children:"Enter the names of persons and requesting information"})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{className:"text-base font-semibold",children:"Officer Name"}),e.jsx(t,{id:"officer_name",placeholder:"e.g., PEMS Edwin P. Arroyo",value:r.officer_name,onChange:s=>o("officer_name",s.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{className:"text-base font-semibold",children:"Officer Position"}),e.jsx(t,{id:"officer_position",placeholder:"e.g., Provincial Warden",value:r.officer_position,onChange:s=>o("officer_position",s.target.value)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{className:"text-base font-semibold",children:"Person Names"}),r.persons.map((s,n)=>e.jsxs("div",{className:"space-y-3 rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(l,{className:"text-sm font-medium",children:["Person ",n+1]}),r.persons.length>1&&e.jsx(x,{type:"button",variant:"outline",size:"sm",onClick:()=>b(n),children:e.jsx(E,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:`fname-${n}`,className:"text-xs",children:"First Name"}),e.jsx(t,{id:`fname-${n}`,placeholder:"First Name",value:s.fname,onChange:i=>m(n,"fname",i.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:`mname-${n}`,className:"text-xs",children:"Middle Name"}),e.jsx(t,{id:`mname-${n}`,placeholder:"Middle Name",value:s.mname,onChange:i=>m(n,"mname",i.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:`lname-${n}`,className:"text-xs",children:"Last Name"}),e.jsx(t,{id:`lname-${n}`,placeholder:"Last Name",value:s.lname,onChange:i=>m(n,"lname",i.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(l,{htmlFor:`suffix-${n}`,className:"text-xs",children:"Suffix"}),e.jsx(t,{id:`suffix-${n}`,placeholder:"Suffix (e.g., Jr., Sr., III)",value:s.suffix,onChange:i=>m(n,"suffix",i.target.value)})]})]})]},n)),e.jsxs(x,{type:"button",variant:"outline",onClick:_,className:"w-full",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Add Another Person"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"requested_by",children:"Requested By"}),e.jsx(t,{id:"requested_by",placeholder:"e.g., PEMS Edwin P. Arroyo",value:r.requested_by,onChange:s=>o("requested_by",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"requesting_agency",children:"Requesting Agency"}),e.jsx(t,{id:"requesting_agency",placeholder:"e.g., Philippine National Police ACG-RACV12",value:r.requesting_agency,onChange:s=>o("requesting_agency",s.target.value)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(x,{onClick:()=>C(!1),disabled:u||!r.persons.some(s=>s.fname.trim()||s.lname.trim())||!r.requested_by||!r.requesting_agency,className:"flex-1",children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),u?"Generating...":"Generate Certificate"]}),e.jsxs(x,{onClick:()=>q(),disabled:u||!r.persons.some(s=>s.fname.trim()||s.lname.trim())||!r.requested_by||!r.requesting_agency,variant:"outline",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]})})]}),a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{children:[e.jsxs(p,{children:[e.jsx(f,{className:"text-center",children:a.title}),e.jsxs(N,{className:"text-center",children:[a.facility_name," - ",a.location]})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:a.facility_name}),e.jsx("div",{className:"font-semibold",children:a.office}),e.jsx("div",{className:"font-semibold",children:a.unit}),e.jsx("div",{children:a.location}),e.jsxs("div",{className:"text-sm",children:["Tel #: ",a.contact.tel,"; Email Address: ",a.contact.email]})]}),e.jsx("hr",{className:"border-gray-300"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center text-lg font-bold underline",children:a.title}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"font-bold underline",children:"TO WHOM IT MAY CONCERN:"}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:[e.jsx("strong",{children:"THIS IS TO CERTIFY"})," that this office has no records, whatsoever affecting the following persons:"]})}),e.jsx("div",{className:"ml-4 text-sm",children:a.persons.map((s,n)=>e.jsxs("div",{className:"mb-1",children:[n+1,". ",s.fname," ",s.mname," ",s.lname," ",s.suffix]},n))}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:["This certification is issued upon the request of ",a.requested_by,",",a.requesting_agency," for whatever legal purpose it may serve him best."]})}),e.jsx("div",{className:"text-sm",children:e.jsxs("p",{children:["Issued this ",a.issue_date,", ",a.issue_location,"."]})})]})]}),e.jsxs("div",{className:"mt-8 text-right",children:[e.jsx("div",{className:"font-bold",children:r.officer_name??a.signed_by.name}),e.jsx("div",{children:r.officer_position??a.signed_by.position})]})]})]}),e.jsxs(h,{children:[e.jsx(p,{children:e.jsx(f,{children:"Certificate Details"})}),e.jsx(j,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Persons Listed:"}),e.jsx("span",{children:a.persons.length})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Requested By:"}),e.jsx("span",{children:a.requested_by})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Agency:"}),e.jsx("span",{children:a.requesting_agency})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Issue Date:"}),e.jsx("span",{children:a.issue_date})]})]})]})})]})]}),!a&&e.jsxs(h,{children:[e.jsx(p,{children:e.jsx(f,{children:"Instructions"})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Enter the full names of persons for whom no records exist"}),e.jsx("p",{children:'• Add multiple persons using the "Add Another Person" button'}),e.jsx("p",{children:"• Provide the name of the person requesting the certificate"}),e.jsx("p",{children:"• Specify the requesting agency or organization"}),e.jsx("p",{children:"• Export the certificate as PDF for official documentation"}),e.jsx("p",{children:"• Certificate is signed by the Provincial Warden"})]})})]})]})]})}export{V as default};
