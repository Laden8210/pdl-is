import{r as C,K as ms,m as hs,j as e,L as xs}from"./app-B1W87aFY.js";import{A as us,X as ps,P as gs,h as js,i as ys}from"./app-layout-DdUSP-Yf.js";import{A as ze,b as We,a as Je}from"./alert-Cq4NqhC6.js";import{B as k}from"./badge-vd7dZbJW.js";import{B as g}from"./button-C2n2sDo3.js";import{C as v,a as f,b as _,c as N}from"./card-N_pe7CKG.js";import{C as vs,a as fs,b as _s,c as Ns,d as bs,e as Cs,f as ks}from"./command-DA8IdDLj.js";import{I as d}from"./input-DjD-ytGM.js";import{L as i}from"./label-D3WII8fG.js";import{P as Fs,U as ws,I as Ss}from"./progress-D25LuiBi.js";import{R as Ps,a as Xe}from"./radio-group-CTlJfQig.js";import{S as F,a as w,b as S,c as P,d as x}from"./select-Dcl7VbGs.js";import{S as Ke}from"./separator-DMajkwvX.js";import{T as j}from"./textarea-CM11GhOU.js";import{C as Ds}from"./index-eVeHiQCr.js";import{F as Ye}from"./users-CrYGPvSl.js";import{f as qe}from"./format-B3rlCQGj.js";import"./index-BOKRGjkm.js";import"./user-zA2YhgIH.js";import"./scale-BUgoJhfW.js";import"./eye-gHXAgZ9A.js";const Ts=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}],Ms=[{title:"Update PDL Management",href:"/pdl-management"}],b=[{id:1,title:"Personal Information",description:"Basic personal details and address"},{id:2,title:"Court Order Details",description:"Court order and legal documentation"},{id:3,title:"Case Information",description:"Criminal case details and status"},{id:4,title:"Medical Records",description:"Health and medical information"},{id:5,title:"Physical Characteristics",description:"Physical description and identification marks"},{id:6,title:"Review & Submit",description:"Review all information before submission"}];function ea(){var W,J,X,K,Y,q,$,Q,Z,ee,se,ae,re,ie,te,ce,ne,le,de,oe,me,he,xe,ue,pe,ge,je,ye,ve,fe,_e,Ne,be,Ce,ke,Fe,we,Se,Pe,De,Te,Me,Ee,Be,Ie,Ae,Re,Oe,Ve,Le,Ue,Ge,He;const[u,D]=C.useState(1),[c,T]=C.useState(0),{props:M}=ms(),{pdl:t}=M,$e=()=>{h("cases",[...s.cases,{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]),T(s.cases.length)},Qe=r=>{if(s.cases.length<=1)return;const n=s.cases.filter((m,a)=>a!==r);h("cases",n),T(Math.min(c,n.length-1))},p=(r,n,m)=>{const a=[...s.cases];a[r]={...a[r],[n]:m},h("cases",a)},{data:s,setData:h,put:Ze,processing:E,errors:R}=hs({id:t.id,fname:t.fname||"",lname:t.lname||"",alias:t.alias||"",birthdate:t.birthdate||"",age:t.age?t.age.toString():"",gender:t.gender||"",ethnic_group:t.ethnic_group||"",civil_status:t.civil_status||"",brgy:t.brgy||"",city:t.city||"",province:t.province||"",court_order_id:((J=(W=t.court_orders)==null?void 0:W[0])==null?void 0:J.court_order_id)||0,court_order_number:((K=(X=t.court_orders)==null?void 0:X[0])==null?void 0:K.court_order_number)||"",order_type:((q=(Y=t.court_orders)==null?void 0:Y[0])==null?void 0:q.order_type)||"",order_date:((Q=($=t.court_orders)==null?void 0:$[0])==null?void 0:Q.order_date)||"",received_date:((ee=(Z=t.court_orders)==null?void 0:Z[0])==null?void 0:ee.received_date)||"",document_type:null,document_path:((ae=(se=t.court_orders)==null?void 0:se[0])==null?void 0:ae.document_path)||"",original_filename:((ie=(re=t.court_orders)==null?void 0:re[0])==null?void 0:ie.original_filename)||"",court_branch:((ce=(te=t.court_orders)==null?void 0:te[0])==null?void 0:ce.court_branch)||"",cod_remarks:((le=(ne=t.court_orders)==null?void 0:ne[0])==null?void 0:le.remarks)||"",medical_record_id:((oe=(de=t.medical_records)==null?void 0:de[0])==null?void 0:oe.medical_record_id)||0,complaint:((he=(me=t.medical_records)==null?void 0:me[0])==null?void 0:he.complaint)||"",date:((ue=(xe=t.medical_records)==null?void 0:xe[0])==null?void 0:ue.date)||new Date().toISOString().split("T")[0],prognosis:((ge=(pe=t.medical_records)==null?void 0:pe[0])==null?void 0:ge.prognosis)||"",laboratory:((ye=(je=t.medical_records)==null?void 0:je[0])==null?void 0:ye.laboratory)||"",prescription:((fe=(ve=t.medical_records)==null?void 0:ve[0])==null?void 0:fe.prescription)||"",findings:((Ne=(_e=t.medical_records)==null?void 0:_e[0])==null?void 0:Ne.findings)||"",physical_characteristic_id:((Ce=(be=t.physical_characteristics)==null?void 0:be[0])==null?void 0:Ce.characteristic_id)||0,height:((Fe=(ke=t.physical_characteristics)==null?void 0:ke[0])==null?void 0:Fe.height)??170,weight:((Se=(we=t.physical_characteristics)==null?void 0:we[0])==null?void 0:Se.weight)??70,build:((De=(Pe=t.physical_characteristics)==null?void 0:Pe[0])==null?void 0:De.build)||"",complexion:((Me=(Te=t.physical_characteristics)==null?void 0:Te[0])==null?void 0:Me.complexion)||"",hair_color:((Be=(Ee=t.physical_characteristics)==null?void 0:Ee[0])==null?void 0:Be.hair_color)||"",eye_color:((Ae=(Ie=t.physical_characteristics)==null?void 0:Ie[0])==null?void 0:Ae.eye_color)||"",identification_marks:((Oe=(Re=t.physical_characteristics)==null?void 0:Re[0])==null?void 0:Oe.identification_marks)||"",mark_location:((Le=(Ve=t.physical_characteristics)==null?void 0:Ve[0])==null?void 0:Le.mark_location)||"",pc_remark:((Ge=(Ue=t.physical_characteristics)==null?void 0:Ue[0])==null?void 0:Ge.remark)||"",medical_files:[],cases:Array.isArray(t.cases)&&t.cases.length>0?t.cases.map(r=>({case_id:r.case_id,case_number:r.case_number||"",crime_committed:r.crime_committed||"",date_committed:r.date_committed||"",time_committed:r.time_committed||"",case_status:r.case_status||"open",case_remarks:r.case_remarks||"",security_classification:r.security_classification||"medium",drug_related:r.drug_related||!1})):[{case_id:0,case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]}),O=M.success,B=M.error,[V,es]=C.useState(s.birthdate?new Date(s.birthdate):void 0),[L,U]=C.useState(!1),[I,A]=C.useState([]),ss=r=>{const n=Array.from(r.target.files||[]);A(m=>[...m,...n])},as=r=>{A(n=>n.filter((m,a)=>a!==r))},rs=r=>{var m;switch((m=r.name.split(".").pop())==null?void 0:m.toLowerCase()){case"pdf":return e.jsx(Ye,{className:"h-5 w-5 text-red-500"});case"jpg":case"jpeg":case"png":case"gif":return e.jsx(Ss,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(Ye,{className:"h-5 w-5 text-gray-500"})}},is=r=>{if(r===0)return"0 Bytes";const n=1024,m=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(r)/Math.log(n));return parseFloat((r/Math.pow(n,a)).toFixed(2))+" "+m[a]},ts=r=>{if(es(r),r){const n=qe(r,"yyyy-MM-dd"),m=new Date().getFullYear()-r.getFullYear();h("birthdate",n),h("age",m.toString())}},l=r=>{const n=r.target.name,m=r.target.type==="number"?parseFloat(r.target.value):r.target.value;h(n,m)},cs=r=>{r.preventDefault(),h("medical_files",I),Ze(route("pdl-management.personal-information.update",t.id),{preserveScroll:!0,onSuccess:()=>{A([])}})},ns=()=>{u<b.length&&D(u+1)},ls=()=>{u>1&&D(u-1)},ds=r=>{D(r)},G=r=>{switch(r){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"maximum":return"destructive";default:return"default"}},H=r=>{switch(r){case"open":return"destructive";case"closed":return"secondary";case"pending":return"default";default:return"default"}},os=()=>{var r,n,m;switch(u){case 1:return e.jsxs(v,{children:[e.jsx(f,{children:e.jsx(_,{children:"Personal Information"})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"fname",name:"fname",value:s.fname,onChange:l,placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"lname",name:"lname",value:s.lname,onChange:l,placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"alias",children:"Alias"}),e.jsx(d,{id:"alias",name:"alias",value:s.alias,onChange:l,placeholder:"Enter alias (if any)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"date",value:V?qe(V,"yyyy-MM-dd"):s.birthdate,onChange:a=>ts(a.target.value?new Date(a.target.value):void 0)}),s.age&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age: ",s.age," years"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:s.gender,onValueChange:a=>h("gender",a),children:[e.jsx(w,{children:e.jsx(S,{placeholder:"Select gender"})}),e.jsxs(P,{children:[e.jsx(x,{value:"Male",children:"Male"}),e.jsx(x,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(d,{id:"ethnic_group",name:"ethnic_group",value:s.ethnic_group,onChange:l,placeholder:"Enter ethnic group"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Civil Status"}),e.jsxs(F,{value:s.civil_status,onValueChange:a=>h("civil_status",a),children:[e.jsx(w,{children:e.jsx(S,{placeholder:"Select civil status"})}),e.jsxs(P,{children:[e.jsx(x,{value:"Single",children:"Single"}),e.jsx(x,{value:"Married",children:"Married"}),e.jsx(x,{value:"Widowed",children:"Widowed"}),e.jsx(x,{value:"Divorced",children:"Divorced"})]})]})]})]}),e.jsx(Ke,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"brgy",children:"Barangay"}),e.jsx(d,{id:"brgy",name:"brgy",value:s.brgy,onChange:l,placeholder:"Enter barangay"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(d,{id:"city",name:"city",value:s.city,onChange:l,placeholder:"Enter city"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"province",children:"Province"}),e.jsx(d,{id:"province",name:"province",value:s.province,onChange:l,placeholder:"Enter province"})]})]})]})]})]});case 2:return e.jsxs(v,{children:[e.jsx(f,{children:e.jsx(_,{children:"Court Order Information"})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"court_order_number",children:["Court Order Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"court_order_number",name:"court_order_number",value:s.court_order_number,onChange:l,placeholder:"Enter court order number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"order_type",children:["Order Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"order_type",name:"order_type",value:s.order_type,onChange:l,placeholder:"Enter order type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Order Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"date",value:s.order_date,onChange:a=>h("order_date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Received Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"date",value:s.received_date,onChange:a=>h("received_date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"document_type",children:["Upload Document ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"file",id:"document_type",name:"document_type",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:a=>{var y;const o=(y=a.target.files)==null?void 0:y[0];o&&h("document_type",o)},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"}),s.original_filename&&e.jsxs("div",{className:"text-sm text-blue-600",children:["Current file: ",s.original_filename]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"court_branch",children:["Court Branch ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"court_branch",name:"court_branch",value:s.court_branch,onChange:l,placeholder:"Enter court branch"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"cod_remarks",children:"Remarks"}),e.jsx(j,{id:"cod_remarks",name:"cod_remarks",value:s.cod_remarks,onChange:l,rows:3,placeholder:"Enter any additional remarks..."})]})]})]});case 3:return e.jsxs(v,{children:[e.jsx(f,{children:e.jsxs(_,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information",((r=s.cases[c])==null?void 0:r.case_status)&&e.jsx(k,{variant:H(s.cases[c].case_status),children:s.cases[c].case_status.charAt(0).toUpperCase()+s.cases[c].case_status.slice(1)}),((n=s.cases[c])==null?void 0:n.security_classification)&&e.jsxs(k,{variant:G(s.cases[c].security_classification),children:[s.cases[c].security_classification.charAt(0).toUpperCase()+s.cases[c].security_classification.slice(1)," ","Security"]})]}),e.jsx(g,{variant:"outline",size:"sm",type:"button",onClick:$e,children:"Add New Case"})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:s.cases.map((a,o)=>e.jsxs(g,{variant:c===o?"default":"outline",size:"sm",type:"button",onClick:()=>T(o),className:"relative",children:["Case ",o+1,s.cases.length>1&&e.jsx("button",{onClick:y=>{y.stopPropagation(),Qe(o)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:"×"})]},o))}),s.cases.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"case_number",children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"case_number",value:s.cases[c].case_number,onChange:a=>p(c,"case_number",a.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"crime_committed",children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(gs,{open:L,onOpenChange:U,children:[e.jsx(js,{asChild:!0,children:e.jsxs(g,{variant:"outline",role:"combobox","aria-expanded":L,className:"w-full justify-between",children:[s.cases[c].crime_committed||"Select or type crime committed...",e.jsx(vs,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(ys,{className:"w-full p-0",align:"start",children:e.jsxs(fs,{children:[e.jsx(_s,{placeholder:"Search crimes or type custom...",value:s.cases[c].crime_committed,onValueChange:a=>p(c,"crime_committed",a)}),e.jsxs(Ns,{children:[e.jsx(bs,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No crime found. Press Enter to add "',s.cases[c].crime_committed,'" as custom crime.']})}),Ts.map(a=>e.jsx(Cs,{heading:a.category,children:a.cases.map(o=>e.jsxs(ks,{value:o,onSelect:y=>{p(c,"crime_committed",y),U(!1)},children:[e.jsx(Ds,{className:`mr-2 h-4 w-4 ${s.cases[c].crime_committed===o?"opacity-100":"opacity-0"}`}),o]},o))},a.category))]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"date_committed",children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"date",value:s.cases[c].date_committed,onChange:a=>p(c,"date_committed",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"time_committed",children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"time",value:s.cases[c].time_committed,onChange:a=>p(c,"time_committed",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"case_status",children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:s.cases[c].case_status,onValueChange:a=>p(c,"case_status",a),children:[e.jsx(w,{children:e.jsx(S,{placeholder:"Select status"})}),e.jsxs(P,{children:[e.jsx(x,{value:"open",children:"Open"}),e.jsx(x,{value:"closed",children:"Closed"}),e.jsx(x,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"security_classification",children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:s.cases[c].security_classification,onValueChange:a=>p(c,"security_classification",a),children:[e.jsx(w,{children:e.jsx(S,{placeholder:"Select classification"})}),e.jsxs(P,{children:[e.jsx(x,{value:"low",children:"Low"}),e.jsx(x,{value:"medium",children:"Medium"}),e.jsx(x,{value:"high",children:"High"}),e.jsx(x,{value:"maximum",children:"Maximum"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Drug Related"}),e.jsxs(Ps,{value:s.cases[c].drug_related?"yes":"no",onValueChange:a=>p(c,"drug_related",a==="yes"),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{value:"yes",id:"drug_yes"}),e.jsx(i,{htmlFor:"drug_yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{value:"no",id:"drug_no"}),e.jsx(i,{htmlFor:"drug_no",children:"No"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Indicate if this case is related to drug offenses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"case_remarks",children:"Case Remarks"}),e.jsx(j,{id:"case_remarks",value:((m=s.cases[c])==null?void 0:m.case_remarks)||"",onChange:a=>p(c,"case_remarks",a.target.value),rows:3,placeholder:"Enter case-related remarks..."})]})]})]})]});case 4:return e.jsxs(v,{children:[e.jsx(f,{children:e.jsx(_,{children:"Medical Records"})}),e.jsx(N,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"date",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"date",id:"date",value:s.date,onChange:a=>h("date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"complaint",children:["Complaint ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{id:"complaint",name:"complaint",value:s.complaint,onChange:l,rows:3,placeholder:"Describe the medical complaint or symptoms..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"findings",children:["Medical Findings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{id:"findings",name:"findings",value:s.findings,onChange:l,rows:3,placeholder:"Enter medical findings and observations..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"prognosis",children:["Prognosis ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{id:"prognosis",name:"prognosis",value:s.prognosis,onChange:l,rows:3,placeholder:"Enter medical prognosis (e.g., Good prognosis with treatment, Poor prognosis due to complications, etc.)"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Specify prognosis details in parentheses for clarity"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Medical Documents"}),e.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-6 text-center transition-colors hover:border-gray-400",children:[e.jsx("input",{type:"file",id:"medical_files",name:"medical_files",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:ss,className:"hidden"}),e.jsxs("label",{htmlFor:"medical_files",className:"cursor-pointer",children:[e.jsx(ws,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload medical documents and images"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Supports: Images (JPG, PNG, GIF), PDF, DOC, DOCX, TXT"})]})]})]})]}),I.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Uploaded Files"}),e.jsx("div",{className:"space-y-2",children:I.map((a,o)=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[rs(a),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:is(a.size)})]})]}),e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>as(o),children:e.jsx(ps,{className:"h-4 w-4"})})]},o))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"laboratory",children:["Laboratory Results ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{id:"laboratory",name:"laboratory",value:s.laboratory,onChange:l,rows:3,placeholder:"Enter laboratory test results..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"prescription",children:["Prescription ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(j,{id:"prescription",name:"prescription",value:s.prescription,onChange:l,rows:3,placeholder:"Enter prescribed medications and treatments..."})]})]})})]});case 5:return e.jsxs(v,{children:[e.jsx(f,{children:e.jsxs(_,{className:"flex items-center gap-2",children:["Physical Characteristics",s.height&&s.weight&&e.jsxs(k,{variant:"secondary",children:[s.height,"cm / ",s.weight,"kg"]})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"height",children:["Height (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"number",id:"height",name:"height",min:"100",max:"250",value:s.height,onChange:l,placeholder:"170"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"weight",children:["Weight (kg) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{type:"number",id:"weight",name:"weight",min:"30",max:"300",value:s.weight,onChange:l,placeholder:"70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"build",children:["Build ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"build",name:"build",value:s.build,onChange:l,placeholder:"e.g., Slim, Medium, Heavy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"complexion",children:["Complexion ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"complexion",name:"complexion",value:s.complexion,onChange:l,placeholder:"e.g., Fair, Dark, Medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"hair_color",children:["Hair Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"hair_color",name:"hair_color",value:s.hair_color,onChange:l,placeholder:"e.g., Black, Brown, Gray"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"eye_color",children:["Eye Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"eye_color",name:"eye_color",value:s.eye_color,onChange:l,placeholder:"e.g., Brown, Black, Blue"})]})]}),e.jsx(Ke,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Identification Marks"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"identification_marks",children:["Identification Marks ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"identification_marks",name:"identification_marks",value:s.identification_marks,onChange:l,placeholder:"e.g., Scar, Tattoo, Birthmark"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"mark_location",children:["Mark Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(d,{id:"mark_location",name:"mark_location",value:s.mark_location,onChange:l,placeholder:"e.g., Left arm, Right cheek"})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(i,{htmlFor:"pc_remark",children:"Physical Characteristics Remarks"}),e.jsx(j,{id:"pc_remark",name:"pc_remark",value:s.pc_remark,onChange:l,rows:3,placeholder:"Enter any additional physical characteristic remarks..."})]})]})]})]})]});case 6:return e.jsxs(v,{children:[e.jsx(f,{children:e.jsx(_,{children:"Review & Update"})}),e.jsx(N,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",s.fname," ",s.lname]}),s.alias&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Alias:"})," ",s.alias]}),s.age&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Age:"})," ",s.age," years"]}),s.gender&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",s.gender]}),s.civil_status&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Civil Status:"})," ",s.civil_status]}),(s.brgy||s.city||s.province)&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",[s.brgy,s.city,s.province].filter(Boolean).join(", ")]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Court Order"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.court_order_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Number:"})," ",s.court_order_number]}),s.order_type&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Type:"})," ",s.order_type]}),s.court_branch&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Court Branch:"})," ",s.court_branch]}),s.order_date&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Date:"})," ",s.order_date]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["Cases (",s.cases.length,")"]}),e.jsx("div",{className:"space-y-3",children:s.cases.map((a,o)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Case ",o+1]}),e.jsx(k,{variant:H(a.case_status),children:a.case_status}),e.jsx(k,{variant:G(a.security_classification),children:a.security_classification})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[a.case_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Case Number:"})," ",a.case_number]}),a.crime_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Crime:"})," ",a.crime_committed]}),a.date_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",a.date_committed]})]})]},o))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Physical Characteristics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.height&&s.weight&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Measurements:"})," ",s.height,"cm, ",s.weight,"kg"]}),s.build&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Build:"})," ",s.build]}),s.complexion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Complexion:"})," ",s.complexion]}),s.hair_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Hair Color:"})," ",s.hair_color]}),s.eye_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Eye Color:"})," ",s.eye_color]}),s.identification_marks&&s.mark_location&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marks:"})," ",s.identification_marks," (",s.mark_location,")"]})]})]})]})})]});default:return null}},z=u/b.length*100;return e.jsxs(us,{breadcrumbs:Ms,children:[e.jsx(xs,{title:"Update PDL Information"}),e.jsxs("div",{className:"mx-auto w-full space-y-6 p-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Update PDL Information"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Step ",u," of ",b.length,": ",(He=b[u-1])==null?void 0:He.description]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(z),"% Complete"]})]}),e.jsx(Fs,{value:z,className:"w-full"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(r=>e.jsxs(g,{variant:u===r.id?"default":u>r.id?"secondary":"outline",size:"sm",onClick:()=>ds(r.id),className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-background text-xs",children:r.id}),r.title]},r.id))}),e.jsxs("form",{onSubmit:cs,className:"space-y-6",children:[(Object.keys(R).length>0||B)&&e.jsx("div",{"data-alert-container":!0,className:"relative",children:e.jsxs(ze,{variant:"destructive",children:[e.jsx("button",{type:"button","aria-label":"Close",onClick:r=>{const n=r.currentTarget.closest("[data-alert-container]")||void 0;n&&(n.style.display="none")},className:"absolute top-2 right-2 rounded p-1 text-lg leading-none hover:bg-muted",children:"×"}),e.jsx(We,{children:"Unable to process request"}),e.jsx(Je,{children:B?e.jsx("div",{className:"text-sm",children:B}):e.jsx("ul",{className:"list-inside list-disc space-y-1",children:Object.values(R).map((r,n)=>e.jsx("li",{className:"text-sm",children:r},n))})})]})}),O&&e.jsx("div",{"data-alert-container":!0,className:"relative",style:{animation:"fadeIn 0.3s ease-in-out"},children:e.jsxs(ze,{className:"border-green-200 bg-green-50 text-green-800",children:[e.jsx("button",{type:"button","aria-label":"Close",onClick:r=>{const n=r.currentTarget.closest("[data-alert-container]")||void 0;n&&(n.style.display="none")},className:"absolute top-2 right-2 rounded p-1 text-sm leading-none hover:bg-muted",children:"×"}),e.jsx(We,{children:"Success"}),e.jsx(Je,{children:O})]})}),os(),e.jsxs("div",{className:"flex items-center justify-between border-t pt-6",children:[e.jsx("div",{className:"flex gap-2",children:u>1&&e.jsx(g,{type:"button",variant:"outline",onClick:ls,children:"Previous"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>{window.location.href=route("pdl-management.personal-information")},disabled:E,children:"Cancel"}),u<b.length?e.jsx(g,{type:"button",onClick:ns,children:"Next"}):e.jsx(g,{type:"submit",disabled:E,className:"min-w-[120px]",children:E?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Updating..."]}):"Update PDL Record"})]})]})]})]})]})}export{ea as default};
