import{r as h,j as e,S as l,K as x,L as j}from"./app-BQYDGhKA.js";import{D as g}from"./data-table-CmeHQrRl.js";import{C as y,a as f,b as D,c as C}from"./card-BfSrKnm2.js";import{I as _}from"./input-CFU-h6vX.js";import{L as b}from"./label-CYLk_rhU.js";import{B as s}from"./button-D_W48nTC.js";import{D as v,a as N,E as w,b as O,c as M,d}from"./dropdown-menu-DYdy-V_Q.js";import{B as k}from"./badge-CarYkfIx.js";import{D as S,g as T,a as L,b as K,c as A,d as E,e as I,A as B}from"./app-layout-D6DCXkBW.js";import{T as P}from"./trash-2-B_vCDMVx.js";import{f as m}from"./format-B3rlCQGj.js";import"./table-o2hOwNbA.js";import"./index-HGuZE5B5.js";import"./index-DzLH6j5A.js";import"./index-CCzmK6f-.js";import"./index-VsGWtiQ9.js";import"./users-Bnbyigwa.js";import"./user-Bz9RZesG.js";import"./scale-DNcew4nx.js";import"./eye-Eiv3Ol47.js";function $({order:r}){const[a,t]=h.useState(!1),n=()=>{l.delete(route("court-orders.destroy",r.court_order_id),{onSuccess:()=>{t(!1)}})};return e.jsxs(S,{open:a,onOpenChange:t,children:[e.jsx(T,{asChild:!0,children:e.jsxs(s,{variant:"ghost",className:"w-full justify-start text-red-500 hover:text-red-700",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Delete"]})}),e.jsxs(L,{className:"sm:max-w-[425px]",children:[e.jsxs(K,{children:[e.jsx(A,{children:"Delete Court Order"}),e.jsxs(E,{children:["Are you sure you want to delete this court order?",r.pdl&&e.jsxs("span",{className:"block mt-2 font-medium",children:["PDL: ",r.pdl.fname," ",r.pdl.lname]}),r.court_order_number&&e.jsxs("span",{className:"block mt-1 text-sm text-gray-600",children:["Order Number: ",r.court_order_number]}),r.order_type&&e.jsxs("span",{className:"block mt-1 text-sm text-gray-600",children:["Order Type: ",r.order_type]}),e.jsx("span",{className:"block mt-2 text-red-600",children:"This action cannot be undone."})]})]}),e.jsxs(I,{children:[e.jsx(s,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(s,{variant:"destructive",onClick:n,children:"Delete"})]})]})]})}const R=[{accessorKey:"order_type",header:"Order Type",cell:({row:r})=>e.jsx(k,{variant:"secondary",className:"capitalize",children:r.original.order_type.replace(/_/g," ").charAt(0).toUpperCase()+r.original.order_type.replace(/_/g," ").slice(1)})},{accessorKey:"order_date",header:"Order Date",cell:({row:r})=>m(new Date(r.original.order_date),"MMM dd, yyyy")},{accessorKey:"received_date",header:"Received Date",cell:({row:r})=>m(new Date(r.original.received_date),"MMM dd, yyyy")},{accessorKey:"document_type",header:"Document Type",cell:({row:r})=>{const a=t=>{window.open(`/storage/${t}`,"_blank")};return e.jsx(s,{variant:"outline",onClick:()=>r.original.document_type&&a(r.original.document_path),children:"Preview"})}},{accessorKey:"court_branch",header:"Court Branch"},{id:"pdl",header:"PDL",cell:({row:r})=>{const a=r.original.pdl;return a?`${a.fname} ${a.lname}`:`ID: ${r.original.pdl_id}`}},{accessorKey:"remarks",header:"Remarks",cell:({row:r})=>r.original.remarks||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{id:"actions",header:"Actions",cell:({row:r})=>{const a=r.original;return e.jsxs(v,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(s,{variant:"ghost",size:"icon",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(w,{className:"h-4 w-4"})]})}),e.jsxs(O,{align:"end",children:[e.jsx(M,{children:"Actions"}),e.jsx(d,{asChild:!0,children:e.jsx(s,{variant:"ghost",className:"w-full justify-start",onClick:()=>l.visit(route("court-orders.edit",a.court_order_id)),children:"Edit"})}),e.jsx(d,{asChild:!0,children:e.jsx($,{order:a})})]})]})}}],z=[{title:"Court Order Management",href:"/court-order"}];function ie(){const{props:r}=x(),{courtOrders:a,pdls:t,filters:n,auth:F}=r,[c,u]=h.useState((n==null?void 0:n.search)||""),i=()=>{l.get(route("pdl-management.court-order"),{search:c},{preserveState:!0,replace:!0})},p=o=>{o.key==="Enter"&&i()};return e.jsxs(B,{breadcrumbs:z,children:[e.jsx(j,{title:"Court Order Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Court Order Management"}),e.jsxs(y,{children:[e.jsx(f,{children:e.jsx(D,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{children:"Court Order List"})})})}),e.jsxs(C,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(b,{htmlFor:"search",className:"text-sm font-medium",children:"Search Orders"}),e.jsx(_,{id:"search",placeholder:"Search by order number, type, PDL name, etc.",className:"w-64 md:w-96",value:c,onChange:o=>u(o.target.value),onKeyDown:p}),e.jsx(s,{variant:"outline",onClick:i,children:"Search"})]}),e.jsx(g,{data:a,columns:R})]})]})]})]})}export{ie as default};
