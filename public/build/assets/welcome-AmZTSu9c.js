import{r as n,j as e,K as O,m as B,L as T,$ as z}from"./app-DPTt91av.js";import{I as _}from"./input-error-BtWUw9sU.js";import{A as P,b as I}from"./alert-Q6kSK62o.js";import{U as H,I as S,B as M}from"./index-DJxly5yP.js";import{u as q,P as R,L as N}from"./label-CImv6V1y.js";import{u as K,c as U,a as F,e as W}from"./index-DmqNbwow.js";import{u as V,C as X}from"./index-DD6NDiHT.js";import{P as G}from"./index-BBbilLj6.js";import{c as J,b as Q}from"./utils-D7JdpEim.js";import{C as Y}from"./circle-check-big-DTKJU28k.js";import{C as Z}from"./circle-alert-BzsxYpEf.js";import{E as ee}from"./eye-off-ByCJvdVP.js";import{E as te}from"./eye-BS4ogRmc.js";import{L as se}from"./loader-circle-B--GjSFb.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ae=J("Lock",re);var E="Checkbox",[oe,Ee]=U(E),[ne,ie]=oe(E),L=n.forwardRef((r,d)=>{const{__scopeCheckbox:a,name:l,checked:p,defaultChecked:o,required:m,disabled:c,value:i="on",onCheckedChange:h,form:u,...v}=r,[t,f]=n.useState(null),w=q(d,s=>f(s)),j=n.useRef(!1),k=t?u||!!t.closest("form"):!0,[b=!1,y]=K({prop:p,defaultProp:o,onChange:h}),C=n.useRef(b);return n.useEffect(()=>{const s=t==null?void 0:t.form;if(s){const g=()=>y(C.current);return s.addEventListener("reset",g),()=>s.removeEventListener("reset",g)}},[t,y]),e.jsxs(ne,{scope:a,state:b,disabled:c,children:[e.jsx(R.button,{type:"button",role:"checkbox","aria-checked":x(b)?"mixed":b,"aria-required":m,"data-state":$(b),"data-disabled":c?"":void 0,disabled:c,value:i,...v,ref:w,onKeyDown:F(r.onKeyDown,s=>{s.key==="Enter"&&s.preventDefault()}),onClick:F(r.onClick,s=>{y(g=>x(g)?!0:!g),k&&(j.current=s.isPropagationStopped(),j.current||s.stopPropagation())})}),k&&e.jsx(ce,{control:t,bubbles:!j.current,name:l,value:i,checked:b,required:m,disabled:c,form:u,style:{transform:"translateX(-100%)"},defaultChecked:x(o)?!1:o})]})});L.displayName=E;var D="CheckboxIndicator",A=n.forwardRef((r,d)=>{const{__scopeCheckbox:a,forceMount:l,...p}=r,o=ie(D,a);return e.jsx(G,{present:l||x(o.state)||o.state===!0,children:e.jsx(R.span,{"data-state":$(o.state),"data-disabled":o.disabled?"":void 0,...p,ref:d,style:{pointerEvents:"none",...r.style}})})});A.displayName=D;var ce=r=>{const{control:d,checked:a,bubbles:l=!0,defaultChecked:p,...o}=r,m=n.useRef(null),c=V(a),i=W(d);n.useEffect(()=>{const u=m.current,v=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(v,"checked").set;if(c!==a&&f){const w=new Event("click",{bubbles:l});u.indeterminate=x(a),f.call(u,x(a)?!1:a),u.dispatchEvent(w)}},[c,a,l]);const h=n.useRef(x(a)?!1:a);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:p??h.current,...o,tabIndex:-1,ref:m,style:{...r.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x(r){return r==="indeterminate"}function $(r){return x(r)?"indeterminate":r?"checked":"unchecked"}var le=L,de=A;function me({className:r,...d}){return e.jsx(le,{"data-slot":"checkbox",className:Q("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...d,children:e.jsx(de,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(X,{className:"size-3.5"})})})}function _e({status:r}){const{auth:d}=O().props,[a,l]=n.useState(!1),[p,o]=n.useState(0),[m,c]=n.useState(!1),{data:i,setData:h,post:u,processing:v,errors:t,reset:f,clearErrors:w}=B({username:"",password:"",remember:!1}),j=s=>{s.preventDefault(),o(g=>g+1),u(route("login"),{onFinish:()=>f("password"),onError:()=>{f("password"),l(!1)},onSuccess:()=>{o(0)}})},k=s=>{h("username",s.target.value),c(!0),t.username&&w("username")},b=s=>{h("password",s.target.value),c(!0),t.password&&w("password")};n.useEffect(()=>{const s=setTimeout(()=>c(!1),1e3);return()=>clearTimeout(s)},[i.username,i.password]);const y=i.username.trim().length>0&&i.password.length>0,C=Object.keys(t).length>0;return e.jsxs(e.Fragment,{children:[e.jsxs(T,{title:"Welcome",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"}),e.jsx("meta",{name:"description",content:"Welcome to Person deprived of liberty. Please log in to access your account."})]}),e.jsxs("div",{className:"flex min-h-screen flex-col items-center bg-gradient-to-br from-[#FDFDFC] via-[#FAFAFA] to-[#F5F5F4] p-6 text-[#1b1b18] lg:justify-center lg:p-8",children:[e.jsx("div",{className:"flex w-full items-center justify-center opacity-100 transition-opacity duration-750 lg:grow starting:opacity-0",children:e.jsx("main",{className:"flex w-full max-w-[335px] flex-col-reverse lg:max-w-2xl lg:flex-row",children:e.jsxs("div",{className:"flex-1 rounded-br-lg rounded-bl-lg bg-white/80 p-6 pb-12 text-[13px] leading-[20px] shadow-[inset_0px_0px_0px_1px_rgba(26,26,0,0.12),0_4px_12px_rgba(0,0,0,0.05)] backdrop-blur-sm transition-all duration-300 hover:shadow-[inset_0px_0px_0px_1px_rgba(26,26,0,0.16),0_8px_24px_rgba(0,0,0,0.08)] lg:rounded-tl-lg lg:rounded-br-none lg:p-20",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-6",children:[e.jsx("img",{src:"/PGO.jpg",alt:"Logo 1",className:"h-20 w-auto rounded-full p-1"}),e.jsx("img",{src:"/scrdc.jpg",alt:"Logo 2",className:"h-20 w-auto rounded-full p-1"})]}),e.jsx("h1",{className:"mb-3 text-3xl font-semibold text-[#1b1b18] lg:text-4xl",children:"Welcome"}),e.jsx("p",{className:"text-center text-base text-[#6b6b6b] lg:text-lg",children:"Sign in to South Cotabato Rehabilitation and Detention Center."})]}),r&&e.jsxs(P,{className:"mb-6 border-green-200 bg-green-50/80 backdrop-blur-sm",children:[e.jsx(Y,{className:"h-4 w-4 text-green-600"}),e.jsx(I,{className:"font-medium text-green-800",children:r})]}),p>=2&&C&&e.jsxs(P,{className:"mb-6 border-amber-200 bg-amber-50/80 backdrop-blur-sm",children:[e.jsx(Z,{className:"h-4 w-4 text-amber-600"}),e.jsxs(I,{className:"text-amber-800",children:[e.jsx("strong",{children:"Having trouble?"})," Double-check your credentials or try resetting your password."]})]}),e.jsx("form",{className:"flex flex-col gap-6",onSubmit:j,noValidate:!0,children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(N,{htmlFor:"username",className:"text-sm font-medium text-[#1b1b18]",children:"Username"}),e.jsxs("div",{className:"group relative",children:[e.jsx(H,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-[#6b6b6b] transition-colors group-focus-within:text-[#1b1b18]"}),e.jsx(S,{id:"username",type:"text",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"username",value:i.username,onChange:k,placeholder:"Enter your username",className:`h-12 pl-10 text-base transition-all duration-200 ${t.username?"border-red-300 bg-red-50/50 focus-visible:ring-red-200":"border-gray-200 hover:border-gray-300 focus-visible:ring-blue-200"} ${m&&!t.username?"border-blue-300":""}`,"aria-invalid":t.username?"true":"false","aria-describedby":t.username?"username-error":void 0})]}),e.jsx(_,{id:"username-error",message:t.username})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(N,{htmlFor:"password",className:"text-sm font-medium text-[#1b1b18]",children:"Password"}),e.jsxs("div",{className:"group relative",children:[e.jsx(ae,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-[#6b6b6b] transition-colors group-focus-within:text-[#1b1b18]"}),e.jsx(S,{id:"password",type:a?"text":"password",required:!0,tabIndex:2,autoComplete:"current-password",value:i.password,onChange:b,placeholder:"Enter your password",className:`h-12 pr-12 pl-10 text-base transition-all duration-200 ${t.password?"border-red-300 bg-red-50/50 focus-visible:ring-red-200":"border-gray-200 hover:border-gray-300 focus-visible:ring-blue-200"} ${m&&!t.password?"border-blue-300":""}`,"aria-invalid":t.password?"true":"false","aria-describedby":t.password?"password-error":void 0}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute top-1/2 right-3 -translate-y-1/2 text-[#6b6b6b] transition-colors hover:text-[#1b1b18] focus:text-[#1b1b18] focus:outline-none",tabIndex:-1,"aria-label":a?"Hide password":"Show password",children:a?e.jsx(ee,{className:"h-4 w-4"}):e.jsx(te,{className:"h-4 w-4"})})]}),e.jsx(_,{id:"password-error",message:t.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(me,{id:"remember",name:"remember",checked:i.remember,onCheckedChange:s=>h("remember",!!s),tabIndex:3,className:"data-[state=checked]:border-[#1b1b18] data-[state=checked]:bg-[#1b1b18]"}),e.jsx(N,{htmlFor:"remember",className:"cursor-pointer text-sm font-normal text-[#1b1b18]",children:"Remember me for 30 days"})]}),e.jsx(z,{href:"/forgot-password",className:"text-sm font-medium text-[#6b6b6b] transition-colors hover:text-[#1b1b18] hover:underline",tabIndex:5,children:"Forgot password?"})]}),e.jsx(M,{type:"submit",className:"mt-6 h-12 w-full bg-[#1b1b18] text-base font-medium text-white transition-all duration-200 hover:bg-[#2d2d2a] disabled:opacity-50",tabIndex:4,disabled:v||!y,children:v?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing you in..."]}):"Sign in to your account"})]})})]})})}),e.jsx("div",{className:"hidden h-14.5 lg:block"})]})]})}export{_e as default};
