import{r as B,m as J,K as Q,j as e,L as X}from"./app-BvO3OH2q.js";import{A as Z}from"./app-layout-BRxvs1n_.js";import{A as $,a as u,b as j,c as g}from"./accordion-OEv9lFhh.js";import{A as L,a as P,b as T}from"./alert-DmeK3rpn.js";import{B as m}from"./badge--S-Gpnac.js";import{B as _}from"./button-DfXw9gWu.js";import{C as v,c as y}from"./card-BJQqUw3Y.js";import{I as c}from"./index-DVgMvxgg.js";import{L as r}from"./label-BvegWPpF.js";import{S as f,a as C,b,c as k,d as n}from"./select-FRi5uzIA.js";import{S as q}from"./separator-BAjBu9DP.js";import{T as h}from"./textarea-D-MWefVM.js";import{f as O}from"./format-CBpsKyOP.js";import"./user-CdUp1JsS.js";import"./index-BeDiWabC.js";const ee=[{title:"Create PDL Management",href:"/pdl-management"}];function je(){var A,I,R;const[l,N]=B.useState(0),V=()=>{d("cases",[...s.cases,{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium"}]),N(s.cases.length)},H=a=>{if(s.cases.length<=1)return;const t=s.cases.filter((o,p)=>p!==a);d("cases",t),N(Math.min(l,t.length-1))},x=(a,t,o)=>{const p=[...s.cases];p[a]={...p[a],[t]:o},d("cases",p)},{data:s,setData:d,post:G,processing:F,errors:S,reset:E}=J({fname:"",lname:"",alias:"",birthdate:"",age:"",gender:"",ethnic_group:"",civil_status:"",brgy:"",city:"",province:"",court_order_number:"",order_type:"",order_date:"",received_date:"",document_type:"",court_branch:"",cod_remarks:"",complaint:"",date:new Date().toISOString().split("T")[0],prognosis:"",laboratory:"",prescription:"",findings:"",height:170,weight:70,build:"",complexion:"",hair_color:"",eye_color:"",identification_marks:"",mark_location:"",pc_remark:"",cases:[{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium"}]}),{props:U}=Q(),D=U.success,[M,w]=B.useState(void 0),W=a=>{if(w(a),a){const t=O(a,"yyyy-MM-dd"),o=new Date().getFullYear()-a.getFullYear();d("birthdate",t),d("age",o.toString())}},i=a=>{const t=a.target.name,o=a.target.type==="number"?parseFloat(a.target.value):a.target.value;d(t,o)},z=a=>{a.preventDefault(),G(route("pdl-management.personal-information.create"),{preserveScroll:!0,onSuccess:()=>{E(),w(void 0),N(0)}})},Y=a=>{switch(a){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"maximum":return"destructive";default:return"default"}},K=a=>{switch(a){case"open":return"destructive";case"closed":return"secondary";case"pending":return"default";default:return"default"}};return e.jsxs(Z,{breadcrumbs:ee,children:[e.jsx(X,{title:"Create PDL Information"}),e.jsxs("div",{className:"mx-auto w-full space-y-6 p-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create PDL Information"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Fill in the required information to create a new PDL record."})]})}),e.jsxs("form",{onSubmit:z,className:"space-y-6",children:[Object.keys(S).length>0&&e.jsxs(L,{variant:"destructive",children:[e.jsx(P,{children:"Unable to process request"}),e.jsx(T,{children:e.jsx("ul",{className:"list-inside list-disc space-y-1",children:Object.values(S).map((a,t)=>e.jsx("li",{className:"text-sm",children:a},t))})})]}),D&&e.jsxs(L,{children:[e.jsx(P,{children:"Success"}),e.jsx(T,{children:D})]}),e.jsxs($,{type:"multiple",defaultValue:["personal","court","case","medical","physical"],className:"w-full space-y-4",children:[e.jsxs(u,{value:"personal",children:[e.jsx(j,{className:"text-lg font-semibold hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Personal Information",e.jsx(m,{variant:"outline",children:"Required"})]})}),e.jsx(g,{children:e.jsx(v,{children:e.jsxs(y,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"fname",name:"fname",value:s.fname,onChange:i,placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"lname",name:"lname",value:s.lname,onChange:i,placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"alias",children:"Alias"}),e.jsx(c,{id:"alias",name:"alias",value:s.alias,onChange:i,placeholder:"Enter alias (if any)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"date",value:M?O(M,"yyyy-MM-dd"):"",onChange:a=>W(a.target.value?new Date(a.target.value):void 0)}),s.age&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age: ",s.age," years"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(f,{value:s.gender,onValueChange:a=>d("gender",a),children:[e.jsx(C,{children:e.jsx(b,{placeholder:"Select gender"})}),e.jsxs(k,{children:[e.jsx(n,{value:"Male",children:"Male"}),e.jsx(n,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(c,{id:"ethnic_group",name:"ethnic_group",value:s.ethnic_group,onChange:i,placeholder:"Enter ethnic group"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{children:"Civil Status"}),e.jsxs(f,{value:s.civil_status,onValueChange:a=>d("civil_status",a),children:[e.jsx(C,{children:e.jsx(b,{placeholder:"Select civil status"})}),e.jsxs(k,{children:[e.jsx(n,{value:"Single",children:"Single"}),e.jsx(n,{value:"Married",children:"Married"}),e.jsx(n,{value:"Widowed",children:"Widowed"}),e.jsx(n,{value:"Divorced",children:"Divorced"})]})]})]})]}),e.jsx(q,{className:"my-6"}),e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"brgy",children:"Barangay"}),e.jsx(c,{id:"brgy",name:"brgy",value:s.brgy,onChange:i,placeholder:"Enter barangay"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"city",children:"City"}),e.jsx(c,{id:"city",name:"city",value:s.city,onChange:i,placeholder:"Enter city"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"province",children:"Province"}),e.jsx(c,{id:"province",name:"province",value:s.province,onChange:i,placeholder:"Enter province"})]})]})]})})})]}),e.jsxs(u,{value:"court",children:[e.jsx(j,{className:"text-lg font-semibold hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Court Order Information",e.jsx(m,{variant:"outline",children:"Required"})]})}),e.jsx(g,{children:e.jsx(v,{children:e.jsxs(y,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"court_order_number",children:["Court Order Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"court_order_number",name:"court_order_number",value:s.court_order_number,onChange:i,placeholder:"Enter court order number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"order_type",children:["Order Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"order_type",name:"order_type",value:s.order_type,onChange:i,placeholder:"Enter order type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{children:["Order Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"date",value:s.order_date,onChange:a=>d("order_date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{children:["Received Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"date",value:s.received_date,onChange:a=>d("received_date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"document_type",children:["Document Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"document_type",name:"document_type",placeholder:"e.g., PDF, IMS",value:s.document_type,onChange:i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"court_branch",children:["Court Branch ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"court_branch",name:"court_branch",value:s.court_branch,onChange:i,placeholder:"Enter court branch"})]})]}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsx(r,{htmlFor:"remarks",children:"Remarks"}),e.jsx(h,{id:"cod_remarks",name:"cod_remarks",value:s.cod_remarks,onChange:i,rows:3,placeholder:"Enter any additional remarks..."})]})]})})})]}),e.jsxs(u,{value:"case",children:[e.jsx(j,{className:"text-lg font-semibold hover:no-underline",children:e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information",e.jsx(m,{variant:"outline",children:"Required"}),((A=s.cases[l])==null?void 0:A.case_status)&&e.jsx(m,{variant:K(s.cases[l].case_status),children:s.cases[l].case_status.charAt(0).toUpperCase()+s.cases[l].case_status.slice(1)}),((I=s.cases[l])==null?void 0:I.security_classification)&&e.jsxs(m,{variant:Y(s.cases[l].security_classification),children:[s.cases[l].security_classification.charAt(0).toUpperCase()+s.cases[l].security_classification.slice(1)," ","Security"]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(_,{variant:"outline",size:"sm",type:"button",onClick:a=>{a.stopPropagation(),V()},children:"Add New Case"})})]})}),e.jsx(g,{children:e.jsx(v,{children:e.jsxs(y,{className:"pt-6",children:[e.jsx("div",{className:"mb-4 flex gap-2 overflow-x-auto py-2 pb-2",children:s.cases.map((a,t)=>e.jsxs(_,{variant:l===t?"default":"outline",size:"sm",type:"button",onClick:()=>N(t),className:"relative",children:["Case ",t+1,s.cases.length>1&&e.jsx("button",{onClick:o=>{o.stopPropagation(),H(t)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 p-1 text-xs text-white",children:"×"})]},t))}),s.cases.length>0&&e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"case_number",children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"case_number",name:"case_number",value:s.cases[l].case_number,onChange:a=>x(l,"case_number",a.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"crime_committed",children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"crime_committed",name:"crime_committed",value:s.cases[l].crime_committed,onChange:a=>x(l,"crime_committed",a.target.value),placeholder:"Enter crime committed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"date_committed",children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"date",value:s.cases[l].date_committed,onChange:a=>x(l,"date_committed",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"time_committed",children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"time",value:s.cases[l].time_committed,onChange:a=>x(l,"time_committed",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"case_status",children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(f,{value:s.cases[l].case_status,onValueChange:a=>x(l,"case_status",a),children:[e.jsx(C,{children:e.jsx(b,{placeholder:"Select status"})}),e.jsxs(k,{children:[e.jsx(n,{value:"open",children:"Open"}),e.jsx(n,{value:"closed",children:"Closed"}),e.jsx(n,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"security_classification",children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(f,{value:s.cases[l].security_classification,onValueChange:a=>x(l,"security_classification",a),children:[e.jsx(C,{children:e.jsx(b,{placeholder:"Select classification"})}),e.jsxs(k,{children:[e.jsx(n,{value:"low",children:"Low"}),e.jsx(n,{value:"medium",children:"Medium"}),e.jsx(n,{value:"high",children:"High"}),e.jsx(n,{value:"maximum",children:"Maximum"})]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsx(r,{htmlFor:"case_remarks",children:"Case Remarks"}),e.jsx(h,{id:"case_remarks",name:"case_remarks",value:((R=s.cases[l])==null?void 0:R.case_remarks)||"",onChange:a=>x(l,"case_remarks",a.target.value),rows:3,placeholder:"Enter case-related remarks..."})]})]})})})]}),e.jsxs(u,{value:"medical",children:[e.jsx(j,{className:"text-lg font-semibold hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Medical Record",e.jsx(m,{variant:"outline",children:"Required"})]})}),e.jsx(g,{children:e.jsx(v,{children:e.jsx(y,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"date",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"date",id:"date",value:s.date,onChange:a=>d("date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"complaint",children:["Complaint ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"complaint",name:"complaint",value:s.complaint,onChange:i,rows:3,placeholder:"Describe the medical complaint or symptoms..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"findings",children:["Medical Findings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"findings",name:"findings",value:s.findings,onChange:i,rows:3,placeholder:"Enter medical findings and observations..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"prognosis",children:["Prognosis ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"prognosis",name:"prognosis",value:s.prognosis,onChange:i,rows:3,placeholder:"Enter medical prognosis..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"laboratory",children:["Laboratory Results ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"laboratory",name:"laboratory",value:s.laboratory,onChange:i,rows:3,placeholder:"Enter laboratory test results..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"prescription",children:["Prescription ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(h,{id:"prescription",name:"prescription",value:s.prescription,onChange:i,rows:3,placeholder:"Enter prescribed medications and treatments..."})]})]})})})})]}),e.jsxs(u,{value:"physical",children:[e.jsx(j,{className:"text-lg font-semibold hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Physical Characteristics",e.jsx(m,{variant:"outline",children:"Required"}),s.height&&s.weight&&e.jsxs(m,{variant:"secondary",children:[s.height,"cm / ",s.weight,"kg"]})]})}),e.jsx(g,{children:e.jsx(v,{children:e.jsxs(y,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"height",children:["Height (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"number",id:"height",name:"height",min:"100",max:"250",value:s.height,onChange:i,placeholder:"170"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"weight",children:["Weight (kg) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{type:"number",id:"weight",name:"weight",min:"30",max:"300",value:s.weight,onChange:i,placeholder:"70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"build",children:["Build ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"build",name:"build",value:s.build,onChange:i,placeholder:"e.g., Slim, Medium, Heavy"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"complexion",children:["Complexion ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"complexion",name:"complexion",value:s.complexion,onChange:i,placeholder:"e.g., Fair, Dark, Medium"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"hair_color",children:["Hair Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"hair_color",name:"hair_color",value:s.hair_color,onChange:i,placeholder:"e.g., Black, Brown, Gray"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"eye_color",children:["Eye Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"eye_color",name:"eye_color",value:s.eye_color,onChange:i,placeholder:"e.g., Brown, Black, Blue"})]})]}),e.jsx(q,{className:"my-6"}),e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Identification Marks"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"identification_marks",children:["Identification Marks ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"identification_marks",name:"identification_marks",value:s.identification_marks,onChange:i,placeholder:"e.g., Scar, Tattoo, Birthmark"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"mark_location",children:["Mark Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(c,{id:"mark_location",name:"mark_location",value:s.mark_location,onChange:i,placeholder:"e.g., Left arm, Right cheek"})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(r,{htmlFor:"pc_remark",children:"Physical Characteristics Remarks"}),e.jsx(h,{id:"pc_remark",name:"pc_remark",value:s.pc_remark,onChange:i,rows:3,placeholder:"Enter any additional physical characteristic remarks..."})]})]})]})})})]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t pt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>{E(),w(void 0)},disabled:F,children:"Reset Form"}),e.jsx(_,{type:"submit",disabled:F,className:"min-w-[120px]",children:F?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Creating..."]}):"Create PDL Record"})]})]})]})]})]})}export{je as default};
