import{r as u,j as e,S as l,K as x,L as j}from"./app-zbVgEaWv.js";import{D as g}from"./data-table-BYrq9vgT.js";import{C as y,a as f,b as D,c as C}from"./card-BapHL6rV.js";import{I as _}from"./input-B0OjLIaR.js";import{L as b}from"./label-XRExf0H4.js";import{B as a}from"./button-PSyiiWPA.js";import{D as v,a as w,E as N,b as O,c as M,d}from"./dropdown-menu-CcTiltkB.js";import{B as k}from"./badge-CwNLWC9f.js";import{D as S,e as T,a as L,b as K,c as A,d as E,f as I,A as B}from"./app-layout-B5B2OLCm.js";import{T as P}from"./trash-2-B_8X1Gsl.js";import{f as m}from"./format-B3rlCQGj.js";import"./table-D75zelxw.js";import"./index-9Ys2UaZD.js";import"./index-CpII0z3c.js";import"./index-wP37kfWr.js";import"./index-BwUK0UuV.js";import"./users-BtNGduUT.js";import"./user-BLUcVfM1.js";import"./scale-BDWMc-gb.js";import"./eye-BF8ThdVP.js";function $({order:r}){const[s,t]=u.useState(!1),n=()=>{l.delete(route("court-orders.destroy",r.court_order_id),{onSuccess:()=>{t(!1)}})};return e.jsxs(S,{open:s,onOpenChange:t,children:[e.jsx(T,{asChild:!0,children:e.jsxs(a,{variant:"ghost",className:"w-full justify-start text-red-500 hover:text-red-700",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Delete"]})}),e.jsxs(L,{className:"sm:max-w-[425px]",children:[e.jsxs(K,{children:[e.jsx(A,{children:"Delete Court Order"}),e.jsxs(E,{children:["Are you sure you want to delete this court order?",r.pdl&&e.jsxs("span",{className:"block mt-2 font-medium",children:["PDL: ",r.pdl.fname," ",r.pdl.lname]}),r.court_order_number&&e.jsxs("span",{className:"block mt-1 text-sm text-gray-600",children:["Order Number: ",r.court_order_number]}),r.order_type&&e.jsxs("span",{className:"block mt-1 text-sm text-gray-600",children:["Order Type: ",r.order_type]}),e.jsx("span",{className:"block mt-2 text-red-600",children:"This action cannot be undone."})]})]}),e.jsxs(I,{children:[e.jsx(a,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:n,children:"Delete"})]})]})]})}const R=[{accessorKey:"order_type",header:"Order Type",cell:({row:r})=>e.jsx(k,{variant:"secondary",className:"capitalize",children:r.original.order_type})},{accessorKey:"order_date",header:"Order Date",cell:({row:r})=>m(new Date(r.original.order_date),"MMM dd, yyyy")},{accessorKey:"received_date",header:"Received Date",cell:({row:r})=>m(new Date(r.original.received_date),"MMM dd, yyyy")},{accessorKey:"document_type",header:"Document Type",cell:({row:r})=>{const s=t=>{window.open(`/storage/${t}`,"_blank")};return e.jsx(a,{variant:"outline",onClick:()=>r.original.document_type&&s(r.original.document_path),children:"Preview"})}},{accessorKey:"court_branch",header:"Court Branch"},{id:"pdl",header:"PDL",cell:({row:r})=>{const s=r.original.pdl;return s?`${s.fname} ${s.lname}`:`ID: ${r.original.pdl_id}`}},{accessorKey:"remarks",header:"Remarks",cell:({row:r})=>r.original.remarks||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{id:"actions",header:"Actions",cell:({row:r})=>{const s=r.original;return e.jsxs(v,{children:[e.jsx(w,{asChild:!0,children:e.jsxs(a,{variant:"ghost",size:"icon",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(N,{className:"h-4 w-4"})]})}),e.jsxs(O,{align:"end",children:[e.jsx(M,{children:"Actions"}),e.jsx(d,{asChild:!0,children:e.jsx(a,{variant:"ghost",className:"w-full justify-start",onClick:()=>l.visit(route("court-orders.edit",s.court_order_id)),children:"Edit"})}),e.jsx(d,{asChild:!0,children:e.jsx($,{order:s})})]})]})}}],z=[{title:"Court Order Management",href:"/court-order"}];function ie(){const{props:r}=x(),{courtOrders:s,pdls:t,filters:n,auth:F}=r,[c,h]=u.useState((n==null?void 0:n.search)||""),i=()=>{l.get(route("pdl-management.court-order"),{search:c},{preserveState:!0,replace:!0})},p=o=>{o.key==="Enter"&&i()};return e.jsxs(B,{breadcrumbs:z,children:[e.jsx(j,{title:"Court Order Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Court Order Management"}),e.jsxs(y,{children:[e.jsx(f,{children:e.jsx(D,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{children:"Court Order List"})})})}),e.jsxs(C,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(b,{htmlFor:"search",className:"text-sm font-medium",children:"Search Orders"}),e.jsx(_,{id:"search",placeholder:"Search by order number, type, PDL name, etc.",className:"w-64 md:w-96",value:c,onChange:o=>h(o.target.value),onKeyDown:p}),e.jsx(a,{variant:"outline",onClick:i,children:"Search"})]}),e.jsx(g,{data:s,columns:R})]})]})]})]})}export{ie as default};
