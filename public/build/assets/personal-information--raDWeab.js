import{r as A,m as T,K as I,j as e,L as W}from"./app-JQtfCfPg.js";import{A as Y}from"./app-layout-B0Gn0MXC.js";import{C as k,a as R,b as q,c as K}from"./card-CibdBmHg.js";import{T as z,b as J,c as P,d as o,e as Q,f as h}from"./table-CTxSrCGh.js";import{A as b,a as C,b as D}from"./index-Bjwsctg9.js";import{B as g}from"./button-CXdwo3Li.js";import{D as B,a as E,b as L,c as $,d as G,e as V,f as H,g as O}from"./dialog-BLZS4Ddd.js";import{I as l}from"./index-DIWcNEBr.js";import{L as i}from"./label-Cd_WsVtp.js";import{S,a as F,b as M,c as N,d as c}from"./select-CORBSElu.js";import{f as p}from"./format-CBpsKyOP.js";import"./index-CLeTPx6t.js";import"./index-CCyjG9Eo.js";function X({pdl:s}){const[t,a]=A.useState(s.birthdate?new Date(s.birthdate):void 0),{data:d,setData:m,put:_,processing:w,errors:v}=T({fname:s.fname,lname:s.lname,alias:s.alias??"",birthdate:s.birthdate,age:(s.age??"").toString(),gender:s.gender??"",ethnic_group:s.ethnic_group??"",civil_status:s.civil_status??"",brgy:s.brgy??"",city:s.city??"",province:s.province??""}),{props:u}=I(),y=u.success;A.useEffect(()=>{if(t){const r=p(t,"yyyy-MM-dd"),n=new Date().getFullYear()-t.getFullYear();m("birthdate",r),m("age",n.toString())}},[t]);const x=r=>{const n=r.target.name;m(n,r.target.value)},j=r=>{r.preventDefault(),_(route("pdl-management.update",s.id),{preserveScroll:!0})};return e.jsxs(B,{children:[e.jsx(E,{asChild:!0,children:e.jsx(g,{variant:"outline",children:"Edit"})}),e.jsxs(L,{className:"sm:max-w-2xl",children:[e.jsxs($,{children:[e.jsx(G,{children:"Edit Personal Information"}),e.jsx(V,{children:"Update the details for this personal information record."})]}),e.jsxs("form",{onSubmit:j,className:"mx-auto w-full space-y-4",children:[Object.keys(v).length>0&&e.jsxs(b,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(C,{children:"Unable to update record"}),e.jsx(D,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(v).map((r,n)=>e.jsx("li",{children:r},n))})})]}),y&&e.jsxs(b,{variant:"default",className:"mb-4",children:[e.jsx(C,{children:"Success"}),e.jsx(D,{children:y})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"fname",children:"First Name"}),e.jsx(l,{id:"fname",name:"fname",value:d.fname,onChange:x})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lname",children:"Last Name"}),e.jsx(l,{id:"lname",name:"lname",value:d.lname,onChange:x})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"alias",children:"Alias"}),e.jsx(l,{id:"alias",name:"alias",value:d.alias,onChange:x})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Date of Birth"}),e.jsx(l,{type:"date",value:t?p(t,"yyyy-MM-dd"):"",onChange:r=>a(r.target.value?new Date(r.target.value):void 0),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Gender"}),e.jsxs(S,{value:d.gender,onValueChange:r=>m("gender",r),children:[e.jsx(F,{children:e.jsx(M,{placeholder:"Select gender"})}),e.jsxs(N,{children:[e.jsx(c,{value:"Male",children:"Male"}),e.jsx(c,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(l,{id:"ethnic_group",name:"ethnic_group",value:d.ethnic_group,onChange:x})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Civil Status"}),e.jsxs(S,{value:d.civil_status,onValueChange:r=>m("civil_status",r),children:[e.jsx(F,{children:e.jsx(M,{placeholder:"Select status"})}),e.jsxs(N,{children:[e.jsx(c,{value:"Single",children:"Single"}),e.jsx(c,{value:"Married",children:"Married"}),e.jsx(c,{value:"Widowed",children:"Widowed"}),e.jsx(c,{value:"Divorced",children:"Divorced"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"brgy",children:"Barangay"}),e.jsx(l,{id:"brgy",name:"brgy",value:d.brgy,onChange:x})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(l,{id:"city",name:"city",value:d.city,onChange:x})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"province",children:"Province"}),e.jsx(l,{id:"province",name:"province",value:d.province,onChange:x})]})]}),e.jsxs(H,{children:[e.jsx(g,{type:"submit",disabled:w,children:"Update"}),e.jsx(O,{asChild:!0,children:e.jsx(g,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}function Z(){const{data:s,setData:t,post:a,processing:d,errors:m,reset:_}=T({fname:"",lname:"",alias:"",birthdate:"",age:"",gender:"",ethnic_group:"",civil_status:"",brgy:"",city:"",province:""}),{props:w}=I(),v=w.success,[u,y]=A.useState(void 0),x=n=>{y(n)},j=n=>{const f=n.target.name;t(f,n.target.value)},r=n=>{n.preventDefault();const f=u?p(u,"yyyy-MM-dd"):"",U=u?new Date().getFullYear()-u.getFullYear():"";t("birthdate",f),t("age",U.toString()),a(route("pdl-management.create"),{preserveScroll:!0,onSuccess:()=>_()})};return e.jsxs(B,{children:[e.jsx(E,{asChild:!0,children:e.jsx(g,{variant:"outline",children:"Create Personal Information"})}),e.jsxs(L,{className:"sm:max-w-2xl",children:[e.jsxs($,{children:[e.jsx(G,{children:"Create Personal Information"}),e.jsx(V,{children:"Fill in the details to create a new personal information record."})]}),e.jsxs("form",{onSubmit:r,className:"mx-auto w-full space-y-4",children:[Object.keys(m).length>0&&e.jsxs(b,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(C,{children:"Unable to process request"}),e.jsx(D,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(m).map((n,f)=>e.jsx("li",{children:n},f))})})]}),v&&e.jsxs(b,{variant:"default",className:"mb-4",children:[e.jsx(C,{children:"Success"}),e.jsx(D,{children:v})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"fname",children:"First Name"}),e.jsx(l,{id:"fname",name:"fname",value:s.fname,onChange:j})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lname",children:"Last Name"}),e.jsx(l,{id:"lname",name:"lname",value:s.lname,onChange:j})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"alias",children:"Alias"}),e.jsx(l,{id:"alias",name:"alias",value:s.alias,onChange:j})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Date of Birth"}),e.jsx(l,{type:"date",value:u?p(u,"yyyy-MM-dd"):"",onChange:n=>x(n.target.value?new Date(n.target.value):void 0),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Gender"}),e.jsxs(S,{value:s.gender,onValueChange:n=>t("gender",n),children:[e.jsx(F,{children:e.jsx(M,{placeholder:"Select gender"})}),e.jsxs(N,{children:[e.jsx(c,{value:"Male",children:"Male"}),e.jsx(c,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(l,{id:"ethnic_group",name:"ethnic_group",value:s.ethnic_group,onChange:j})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Civil Status"}),e.jsxs(S,{value:s.civil_status,onValueChange:n=>t("civil_status",n),children:[e.jsx(F,{children:e.jsx(M,{placeholder:"Select status"})}),e.jsxs(N,{children:[e.jsx(c,{value:"Single",children:"Single"}),e.jsx(c,{value:"Married",children:"Married"}),e.jsx(c,{value:"Widowed",children:"Widowed"}),e.jsx(c,{value:"Divorced",children:"Divorced"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"brgy",children:"Barangay"}),e.jsx(l,{id:"brgy",name:"brgy",value:s.brgy,onChange:j})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(l,{id:"city",name:"city",value:s.city,onChange:j})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"province",children:"Province"}),e.jsx(l,{id:"province",name:"province",value:s.province,onChange:j})]})]}),e.jsxs(H,{children:[e.jsx(g,{type:"submit",disabled:d,children:"Create"}),e.jsx(O,{asChild:!0,children:e.jsx(g,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}const ee=[{title:"PDL Management",href:"/pdl-management"}];function me(){const{props:s}=I(),{pdls:t}=s;return e.jsxs(Y,{breadcrumbs:ee,children:[e.jsx(W,{title:"Personal Information"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Personal Information"}),e.jsxs(k,{children:[e.jsx(R,{children:e.jsx(q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Personal Information List"}),e.jsx(Z,{})]})})}),e.jsx(K,{children:e.jsxs(z,{children:[e.jsx(J,{children:e.jsxs(P,{children:[e.jsx(o,{children:"ID"}),e.jsx(o,{children:"Full Name"}),e.jsx(o,{children:"Alias"}),e.jsx(o,{children:"Gender"}),e.jsx(o,{children:"Ethnic Group"}),e.jsx(o,{children:"Civil Status"}),e.jsx(o,{children:"Date of Birth"}),e.jsx(o,{children:"Age"}),e.jsx(o,{children:"Address"}),e.jsx(o,{children:"Added By"}),e.jsx(o,{children:"Actions"})]})}),e.jsx(Q,{children:t.map(a=>e.jsxs(P,{children:[e.jsx(h,{children:a.id}),e.jsx(h,{children:`${a.fname} ${a.lname}`}),e.jsx(h,{children:a.alias??"-"}),e.jsx(h,{children:a.gender??"-"}),e.jsx(h,{children:a.ethnic_group??"-"}),e.jsx(h,{children:a.civil_status??"-"}),e.jsx(h,{children:p(new Date(a.birthdate),"MMMM dd, yyyy")}),e.jsx(h,{children:a.age}),e.jsx(h,{children:`${a.brgy??""}, ${a.city??""}, ${a.province??""}`}),e.jsx(h,{children:a.personnel?`${a.personnel.fname} ${a.personnel.lname}`:"â€”"}),e.jsx(h,{children:e.jsx(X,{pdl:a})})]},a.id))})]})})]})]})]})}export{me as default};
