import{m as w,j as e,L as P}from"./app-BsqoMlzz.js";import{B as m}from"./button-Bk8kqzf-.js";import{C as h,a as x,b as p,d as f,c as j}from"./card-CHrhayL7.js";import{I as o}from"./input-8NJaAh7M.js";import{L as d}from"./label-CysDgVDb.js";import{A,X as R}from"./app-layout-Bx37jMay.js";import{F as N,B as v}from"./users-CnIkmpd1.js";import{P as F}from"./plus-CpU6iuiV.js";import{D as E}from"./download-qhcCw3NR.js";import{U as I}from"./user-CbSwlPBg.js";import"./index-Bs21pwYS.js";import"./scale-Dsjt5yy9.js";import"./eye-Bo5n-NXK.js";function Y({certificateData:n,filters:i}){const{data:r,setData:t,post:y,processing:u}=w({persons:(i==null?void 0:i.persons)||[{fname:"",mname:"",lname:""}],requested_by:(i==null?void 0:i.requested_by)||"",requesting_agency:(i==null?void 0:i.requesting_agency)||"",export_pdf:!1}),b=()=>{t("persons",[...r.persons,{fname:"",mname:"",lname:""}])},_=s=>{if(r.persons.length>1){const a=r.persons.filter((l,c)=>c!==s);t("persons",a)}},g=(s,a,l)=>{const c=[...r.persons];c[s]={...c[s],[a]:l},t("persons",c)},C=(s=!1)=>{t("export_pdf",s),y(route("reports.no-records-certificate.generate"))},q=()=>{const s=new URLSearchParams;r.persons.forEach((a,l)=>{s.append(`persons[${l}][fname]`,a.fname||""),s.append(`persons[${l}][mname]`,a.mname||""),s.append(`persons[${l}][lname]`,a.lname||"")}),s.append("requested_by",r.requested_by),s.append("requesting_agency",r.requesting_agency),console.log(s.toString()),console.log(route("reports.no-records-certificate.export")+"?"+s.toString()),window.open(route("reports.no-records-certificate.export")+"?"+s.toString(),"_blank")};return e.jsxs(A,{children:[e.jsx(P,{title:"Certificate of No Records - South Cotabato Rehabilitation and Detention Center"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Certificate of No Records"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate official certificate stating no records exist for specified persons"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Official Certificate"})]})]}),e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsx(p,{children:"Generate Certificate of No Records"}),e.jsx(f,{children:"Enter the names of persons and requesting information"})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{className:"text-base font-semibold",children:"Person Names"}),r.persons.map((s,a)=>e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(d,{className:"text-sm font-medium",children:["Person ",a+1]}),r.persons.length>1&&e.jsx(m,{type:"button",variant:"outline",size:"sm",onClick:()=>_(a),children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(d,{htmlFor:`fname-${a}`,className:"text-xs",children:"First Name"}),e.jsx(o,{id:`fname-${a}`,placeholder:"First Name",value:s.fname,onChange:l=>g(a,"fname",l.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(d,{htmlFor:`mname-${a}`,className:"text-xs",children:"Middle Name"}),e.jsx(o,{id:`mname-${a}`,placeholder:"Middle Name",value:s.mname,onChange:l=>g(a,"mname",l.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(d,{htmlFor:`lname-${a}`,className:"text-xs",children:"Last Name"}),e.jsx(o,{id:`lname-${a}`,placeholder:"Last Name",value:s.lname,onChange:l=>g(a,"lname",l.target.value)})]})]})]},a)),e.jsxs(m,{type:"button",variant:"outline",onClick:b,className:"w-full",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Add Another Person"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"requested_by",children:"Requested By"}),e.jsx(o,{id:"requested_by",placeholder:"e.g., PEMS Edwin P. Arroyo",value:r.requested_by,onChange:s=>t("requested_by",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"requesting_agency",children:"Requesting Agency"}),e.jsx(o,{id:"requesting_agency",placeholder:"e.g., Philippine National Police ACG-RACV12",value:r.requesting_agency,onChange:s=>t("requesting_agency",s.target.value)})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(m,{onClick:()=>C(!1),disabled:u||!r.persons.some(s=>s.fname.trim()||s.lname.trim())||!r.requested_by||!r.requesting_agency,className:"flex-1",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),u?"Generating...":"Generate Certificate"]}),e.jsxs(m,{onClick:()=>q(),disabled:u||!r.persons.some(s=>s.fname.trim()||s.lname.trim())||!r.requested_by||!r.requesting_agency,variant:"outline",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})})]}),n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{children:[e.jsxs(x,{children:[e.jsx(p,{className:"text-center",children:n.title}),e.jsxs(f,{className:"text-center",children:[n.facility_name," - ",n.location]})]}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"font-bold text-lg",children:n.facility_name}),e.jsx("div",{className:"font-semibold",children:n.office}),e.jsx("div",{className:"font-semibold",children:n.unit}),e.jsx("div",{children:n.location}),e.jsxs("div",{className:"text-sm",children:["Tel #: ",n.contact.tel,"; Email Address: ",n.contact.email]})]}),e.jsx("hr",{className:"border-gray-300"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"font-bold text-lg text-center underline",children:n.title}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"font-bold underline",children:"TO WHOM IT MAY CONCERN:"}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:[e.jsx("strong",{children:"THIS IS TO CERTIFY"})," that this office has no records, whatsoever affecting the following persons:"]})}),e.jsx("div",{className:"text-sm ml-4",children:n.persons.map((s,a)=>e.jsxs("div",{className:"mb-1",children:[a+1,". ",s.fname," ",s.mname," ",s.lname]},a))}),e.jsx("div",{className:"text-sm leading-relaxed",children:e.jsxs("p",{children:["This certification is issued upon the request of ",n.requested_by,",",n.requesting_agency," for whatever legal purpose it may serve him best."]})}),e.jsx("div",{className:"text-sm",children:e.jsxs("p",{children:["Issued this ",n.issue_date,", ",n.issue_location,"."]})})]})]}),e.jsxs("div",{className:"text-right mt-8",children:[e.jsx("div",{className:"font-bold",children:n.signed_by.name}),e.jsx("div",{children:n.signed_by.position})]})]})]}),e.jsxs(h,{children:[e.jsx(x,{children:e.jsx(p,{children:"Certificate Details"})}),e.jsx(j,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Persons Listed:"}),e.jsx("span",{children:n.persons.length})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Requested By:"}),e.jsx("span",{children:n.requested_by})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"font-medium",children:"Agency:"}),e.jsx("span",{children:n.requesting_agency})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"Issue Date:"}),e.jsx("span",{children:n.issue_date})]})]})]})})]})]}),!n&&e.jsxs(h,{children:[e.jsx(x,{children:e.jsx(p,{children:"Instructions"})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Enter the full names of persons for whom no records exist"}),e.jsx("p",{children:'• Add multiple persons using the "Add Another Person" button'}),e.jsx("p",{children:"• Provide the name of the person requesting the certificate"}),e.jsx("p",{children:"• Specify the requesting agency or organization"}),e.jsx("p",{children:"• Export the certificate as PDF for official documentation"}),e.jsx("p",{children:"• Certificate is signed by the Provincial Warden"})]})})]})]})]})}export{Y as default};
