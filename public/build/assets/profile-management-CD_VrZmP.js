import{K as g,m as b,j as e,L as y}from"./app-M4vLbr0a.js";import{A as u,a as x,b as j}from"./index-CBb5kpV-.js";import{B as f}from"./button-DXj1r3nJ.js";import{I as i}from"./index-CNnWlxuq.js";import{L as l}from"./label-DhHFVOXA.js";import{S as w,a as S,b as C,c as L,d as c}from"./select-wyZjWGu7.js";import{A}from"./app-layout-a4UHF27a.js";import{L as E}from"./loader-circle-DObgYrLU.js";import"./index-CXpfBdbv.js";import"./index-GJEIrVf1.js";const F=[{title:"Dashboard",href:"/dashboard"}];function R(){const{props:o}=g(),s=o.auth.user,m=o.success,{data:r,setData:t,post:v,processing:d,errors:p,reset:h}=b({firstName:(s==null?void 0:s.fname)||"",lastName:(s==null?void 0:s.lname)||"",middleName:(s==null?void 0:s.mname)||"",position:(s==null?void 0:s.position)||"",status:(s==null?void 0:s.status)||"active",password:"",profileImage:null}),N=a=>{a.preventDefault(),v(route("admin.profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{h("password","profileImage")}})};return e.jsxs(A,{breadcrumbs:F,children:[e.jsx(y,{title:"Profile Management"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Profile Management"}),Object.keys(p).length>0&&e.jsxs(u,{variant:"destructive",className:"mb-4",children:[e.jsx(x,{children:"Unable to process request"}),e.jsx(j,{children:Object.values(p).map((a,n)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:a})},n))})]}),m&&e.jsxs(u,{variant:"default",className:"mb-4",children:[e.jsx(x,{children:"Success"}),e.jsx(j,{children:m})]}),e.jsx("form",{onSubmit:N,children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx(l,{children:"Profile"}),e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:s!=null&&s.avatar?`/storage/${s.avatar}`:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLMI5YxZE03Vnj-s-sth2_JxlPd30Zy7yEGg&s",alt:"Profile",className:"m-auto h-32 w-32 rounded-full object-cover"})}),e.jsx("div",{className:"mt-2",children:e.jsx(i,{type:"file",accept:"image/*",className:"w-full",onChange:a=>{var n;return t("profileImage",((n=a.target.files)==null?void 0:n[0])||null)}})})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx(l,{htmlFor:"first-name",children:"First Name"}),e.jsx(i,{id:"first-name",type:"text",placeholder:"Enter your first name",className:"mb-4",value:r.firstName,onChange:a=>t("firstName",a.target.value)}),e.jsx(l,{htmlFor:"last-name",children:"Last Name"}),e.jsx(i,{id:"last-name",type:"text",placeholder:"Enter your last name",className:"mb-4",value:r.lastName,onChange:a=>t("lastName",a.target.value)}),e.jsx(l,{htmlFor:"password",children:"Password"}),e.jsx(i,{id:"password",type:"password",placeholder:"Enter your password",className:"mb-4",value:r.password,onChange:a=>t("password",a.target.value)})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx(l,{htmlFor:"middle-name",children:"Middle Name"}),e.jsx(i,{id:"middle-name",type:"text",placeholder:"Enter your middle name",className:"mb-4",value:r.middleName,onChange:a=>t("middleName",a.target.value)}),e.jsx(l,{htmlFor:"role",children:"Position"}),e.jsx(i,{id:"role",type:"text",placeholder:"Enter your position",className:"mb-4",value:r.position,onChange:a=>t("position",a.target.value),readOnly:!0}),e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(w,{value:r.status,onValueChange:a=>t("status",a),children:[e.jsx(S,{className:"w-full",children:e.jsx(C,{placeholder:"Select status"})}),e.jsxs(L,{children:[e.jsx(c,{value:"active",children:"Active"}),e.jsx(c,{value:"inactive",children:"Inactive"}),e.jsx(c,{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{type:"button",className:"mt-4 w-full",variant:"destructive",onClick:()=>h(),children:"Cancel"}),e.jsxs(f,{type:"submit",className:"mt-4 w-full",variant:"default",disabled:d,children:[d&&e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})]})})]})]})}export{R as default};
