import{m as _,j as e,L as S,R as y}from"./app-BQYDGhKA.js";import{B as u}from"./button-D_W48nTC.js";import{C as l,a as m,b as o,d as p,c}from"./card-BfSrKnm2.js";import{I as A,a as L}from"./input-CFU-h6vX.js";import{L as b}from"./label-CYLk_rhU.js";import{T as R,a as I,b as i,c as n,d as F,e as t}from"./table-o2hOwNbA.js";import{A as E,a as O}from"./alert-Bap3XjEd.js";import{A as B}from"./app-layout-D6DCXkBW.js";import{C as g}from"./scale-DNcew4nx.js";import{F as G,U as h}from"./users-Bnbyigwa.js";import{D as U}from"./download-Cd3YY4ct.js";import"./index-HGuZE5B5.js";import"./user-Bz9RZesG.js";import"./eye-Eiv3Ol47.js";function Z({reportData:s,filters:d}){const{data:j,setData:N,post:v,processing:x}=_({as_of_date:(d==null?void 0:d.as_of_date)||new Date().toISOString().split("T")[0],export_pdf:!1}),C=(a=!1)=>{N("export_pdf",a),v(route("reports.inmates-status.generate"))},w=()=>{const a=new URLSearchParams;a.append("as_of_date",j.as_of_date),console.log(a.toString()),console.log(route("reports.inmates-status.export")+"?"+a.toString()),window.location.href=route("reports.inmates-status.export")+"?"+a.toString()};return e.jsxs(B,{children:[e.jsx(S,{title:"Inmates Status Report - South Cotabato Rehabilitation and Detention Center"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Inmates Status Report"}),e.jsx("p",{className:"text-muted-foreground",children:"Status Report as to the Total Number of Detainees"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s?`As of ${s.as_of_date}`:"Select Date"})]})]}),e.jsxs(l,{children:[e.jsxs(m,{children:[e.jsx(o,{children:"Generate Status Report"}),e.jsx(p,{children:"Select the date for the inmates status report"})]}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"as_of_date",children:"As of Date"}),e.jsx(A,{id:"as_of_date",type:"date",value:j.as_of_date,onChange:a=>N("as_of_date",a.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:" "}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(u,{onClick:()=>C(!1),disabled:x,className:"flex-1",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),x?"Generating...":"Generate Report"]}),e.jsxs(u,{onClick:()=>w(),disabled:x,variant:"outline",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})]})})]}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(l,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Male"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.male})]})]})})}),e.jsx(l,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-8 w-8 text-pink-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Female"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.female})]})]})})}),e.jsx(l,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total CICL"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.cicl})]})]})})}),e.jsx(l,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Grand Total"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totals.total})]})]})})})]}),e.jsxs(l,{children:[e.jsxs(m,{children:[e.jsx(o,{className:"text-center",children:s.title}),e.jsxs(p,{className:"text-center",children:[s.facility_name," - ",s.location]}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Tel: ",s.contact.tel," | Email: ",s.contact.email]}),e.jsxs("div",{className:"text-center text-sm font-medium",children:["As of ",s.as_of_date]})]}),e.jsx(c,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(R,{children:[e.jsx(I,{children:e.jsxs(i,{children:[e.jsx(n,{className:"text-center",children:"COURT"}),e.jsx(n,{className:"text-center",children:"STATION"}),e.jsx(n,{className:"text-center",children:"BRANCH"}),e.jsx(n,{className:"text-center",children:"MALE"}),e.jsx(n,{className:"text-center",children:"FEMALE"}),e.jsx(n,{className:"text-center",children:"CICL"}),e.jsx(n,{className:"text-center",children:"TOTAL"})]})}),e.jsxs(F,{children:[Object.entries(s.court_data).map(([a,T])=>e.jsx(y.Fragment,{children:T.stations.map((r,f)=>e.jsxs(i,{children:[e.jsx(t,{className:"font-medium",children:f===0?a:""}),e.jsx(t,{className:"text-center",children:r.station}),e.jsx(t,{className:"text-center",children:r.branch}),e.jsx(t,{className:"text-center",children:r.male}),e.jsx(t,{className:"text-center",children:r.female}),e.jsx(t,{className:"text-center",children:r.cicl}),e.jsx(t,{className:"text-center font-semibold",children:r.total})]},`${a}-${f}`))},a)),e.jsxs(i,{className:"bg-gray-50 font-semibold",children:[e.jsx(t,{colSpan:3,className:"text-right",children:"SUB TOTAL:"}),e.jsx(t,{className:"text-center",children:s.totals.male}),e.jsx(t,{className:"text-center",children:s.totals.female}),e.jsx(t,{className:"text-center",children:s.totals.cicl}),e.jsx(t,{className:"text-center font-bold",children:s.totals.total})]}),e.jsxs(i,{className:"bg-yellow-50 font-bold",children:[e.jsx(t,{colSpan:3,className:"text-right",children:"TOTAL:"}),e.jsx(t,{className:"text-center",children:s.totals.male}),e.jsx(t,{className:"text-center",children:s.totals.female}),e.jsx(t,{className:"text-center",children:s.totals.cicl}),e.jsx(t,{className:"text-center font-bold text-lg",children:s.totals.total})]})]})]})})})]}),e.jsx(l,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"border-b border-gray-300 w-48 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Prepared by:"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"border-b border-gray-300 w-48 mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Noted by:"})]})]})})}),s.totals.total===0&&e.jsxs(E,{children:[e.jsx(L,{className:"h-4 w-4"}),e.jsxs(O,{children:["No detainees found as of ",s.as_of_date,". This could mean there were no detainees on this date."]})]})]}),!s&&e.jsxs(l,{children:[e.jsx(m,{children:e.jsx(o,{children:"Instructions"})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Select the date for which you want to generate the inmates status report"}),e.jsx("p",{children:"• The report will show detainee counts by court jurisdiction"}),e.jsx("p",{children:"• Data includes male, female, and CICL (Children in Conflict with the Law) counts"}),e.jsx("p",{children:"• Court categories include Regional Trial Court, Municipal Trial Court, and Family Court"}),e.jsx("p",{children:"• Export the report as PDF for official documentation"})]})})]})]})]})}export{Z as default};
