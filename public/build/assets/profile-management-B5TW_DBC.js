import{K as N,m as y,j as e,L as b}from"./app-DnCCZdQP.js";import{A as x,b as u,a as j}from"./alert-BdGcwtQT.js";import{B as f}from"./button-Bzh5YXD2.js";import{I as i}from"./input-CMVIeUot.js";import{L as l}from"./label-hjpTsbbL.js";import{S as w,a as S,b as C,c as L,d as o}from"./select-B7ubXH-Y.js";import{A}from"./app-layout-DFlDjcO4.js";import{L as E}from"./loader-circle-yWWNaQHM.js";import"./index-Bwy5C-G7.js";import"./index-BUKMWMlH.js";import"./index-CmBb7qlo.js";import"./index-BBKAsmee.js";import"./index-andYFLom.js";import"./users-BLuOJmIv.js";import"./user-DPLirZ3g.js";import"./scale-kSXqTHaD.js";import"./eye-DtGDJvfS.js";import"./circle-alert-tHfdt3Eq.js";const F=[{title:"Profile Management",href:"/profile-management"}];function $(){const{props:c}=N(),s=c.auth.user,d=c.success,{data:r,setData:t,post:v,processing:m,errors:p,reset:h}=y({firstName:(s==null?void 0:s.fname)||"",lastName:(s==null?void 0:s.lname)||"",middleName:(s==null?void 0:s.mname)||"",position:(s==null?void 0:s.position)||"",status:(s==null?void 0:s.status)||"active",password:"",profileImage:null}),g=a=>{a.preventDefault(),v(route("admin.profile.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{h("password","profileImage")}})};return e.jsxs(A,{breadcrumbs:F,children:[e.jsx(b,{title:"Profile Management"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold",children:"Profile Management"}),Object.keys(p).length>0&&e.jsxs(x,{variant:"destructive",className:"mb-4",children:[e.jsx(u,{children:"Unable to process request"}),e.jsx(j,{children:Object.values(p).map((a,n)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:a})},n))})]}),d&&e.jsxs(x,{variant:"default",className:"mb-4",children:[e.jsx(u,{children:"Success"}),e.jsx(j,{children:d})]}),e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(l,{children:"Profile"}),e.jsx("img",{src:s!=null&&s.avatar?`/storage/${s.avatar}`:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLMI5YxZE03Vnj-s-sth2_JxlPd30Zy7yEGg&s",alt:"Profile",className:"h-32 w-32 rounded-full object-cover"}),e.jsx(i,{type:"file",accept:"image/*",className:"w-full",onChange:a=>{var n;return t("profileImage",((n=a.target.files)==null?void 0:n[0])||null)}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"first-name",children:"First Name"}),e.jsx(i,{id:"first-name",type:"text",placeholder:"Enter your first name",value:r.firstName,onChange:a=>t("firstName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"last-name",children:"Last Name"}),e.jsx(i,{id:"last-name",type:"text",placeholder:"Enter your last name",value:r.lastName,onChange:a=>t("lastName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"password",children:"New password"}),e.jsx(i,{id:"password",type:"password",placeholder:"Enter your password",value:r.password,onChange:a=>t("password",a.target.value)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"middle-name",children:"Middle Name"}),e.jsx(i,{id:"middle-name",type:"text",placeholder:"Enter your middle name",value:r.middleName,onChange:a=>t("middleName",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"role",children:"Position"}),e.jsx(i,{id:"role",type:"text",placeholder:"Enter your position",value:r.position,onChange:a=>t("position",a.target.value),readOnly:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(w,{value:r.status,onValueChange:a=>t("status",a),children:[e.jsx(S,{className:"w-full",children:e.jsx(C,{placeholder:"Select status"})}),e.jsxs(L,{children:[e.jsx(o,{value:"active",children:"Active"}),e.jsx(o,{value:"inactive",children:"Inactive"}),e.jsx(o,{value:"suspended",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(f,{type:"button",variant:"destructive",onClick:()=>h(),children:"Cancel"}),e.jsxs(f,{type:"submit",variant:"default",disabled:m,children:[m&&e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})]})})]})]})}export{$ as default};
