import{r as v,m as I,K as N,j as e,L as P}from"./app-DPTt91av.js";import{C as E,a as L,b as B,c as $}from"./card-ilNMwNHy.js";import{T as V,a as G,b,c as r,d as H,e as n}from"./table-DovXvqui.js";import{A as y,a as f,b as C}from"./alert-Q6kSK62o.js";import{B as j,I as c}from"./index-DJxly5yP.js";import{D as U,e as O,a as R,b as W,c as Y,d as k,f as K,g as q,A as z}from"./app-layout-E5qRpekv.js";import{L as i}from"./label-CImv6V1y.js";import{S as D,a as S,b as F,c as M,d as h}from"./select-BHFFiriT.js";import{f as p}from"./format-CpNbv1J2.js";import{V as J}from"./view-pdl-information-CZEhQY7V.js";import{g as Q}from"./dateUtils-Iw3XMDmk.js";import"./utils-D7JdpEim.js";import"./users-C0TLK2Z9.js";import"./index-DmqNbwow.js";import"./index-DKSvpoYG.js";import"./index-DD6NDiHT.js";import"./badge-Cabq_5mI.js";import"./accordion-BQxT-DMp.js";import"./eye-BS4ogRmc.js";function X({pdl:a}){const[t,s]=v.useState(a.birthdate?new Date(a.birthdate):void 0),{data:d,setData:x,put:A,processing:w,errors:u}=I({fname:a.fname,lname:a.lname,alias:a.alias??"",birthdate:a.birthdate,age:(a.age??"").toString(),gender:a.gender??"",ethnic_group:a.ethnic_group??"",civil_status:a.civil_status??"",brgy:a.brgy??"",city:a.city??"",province:a.province??""}),{props:T}=N(),g=T.success;v.useEffect(()=>{if(t){const l=p(t,"yyyy-MM-dd"),m=new Date().getFullYear()-t.getFullYear();x("birthdate",l),x("age",m.toString())}},[t]);const o=l=>{const m=l.target.name;x(m,l.target.value)},_=l=>{l.preventDefault(),A(route("pdl-management.update",a.id),{preserveScroll:!0})};return e.jsxs(U,{children:[e.jsx(O,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"Edit"})}),e.jsxs(R,{className:"sm:max-w-2xl",children:[e.jsxs(W,{children:[e.jsx(Y,{children:"Edit Personal Information"}),e.jsx(k,{children:"Update the details for this personal information record."})]}),e.jsxs("form",{onSubmit:_,className:"mx-auto w-full space-y-4",children:[Object.keys(u).length>0&&e.jsxs(y,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(f,{children:"Unable to update record"}),e.jsx(C,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(u).map((l,m)=>e.jsx("li",{children:l},m))})})]}),g&&e.jsxs(y,{variant:"default",className:"mb-4",children:[e.jsx(f,{children:"Success"}),e.jsx(C,{children:g})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"fname",children:"First Name"}),e.jsx(c,{id:"fname",name:"fname",value:d.fname,onChange:o})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"lname",children:"Last Name"}),e.jsx(c,{id:"lname",name:"lname",value:d.lname,onChange:o})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"alias",children:"Alias"}),e.jsx(c,{id:"alias",name:"alias",value:d.alias,onChange:o})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Date of Birth"}),e.jsx(c,{type:"date",value:t?p(t,"yyyy-MM-dd"):"",onChange:l=>s(l.target.value?new Date(l.target.value):void 0),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Gender"}),e.jsxs(D,{value:d.gender,onValueChange:l=>x("gender",l),children:[e.jsx(S,{children:e.jsx(F,{placeholder:"Select gender"})}),e.jsxs(M,{children:[e.jsx(h,{value:"Male",children:"Male"}),e.jsx(h,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"ethnic_group",children:"Ethnic Group"}),e.jsx(c,{id:"ethnic_group",name:"ethnic_group",value:d.ethnic_group,onChange:o})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Civil Status"}),e.jsxs(D,{value:d.civil_status,onValueChange:l=>x("civil_status",l),children:[e.jsx(S,{children:e.jsx(F,{placeholder:"Select status"})}),e.jsxs(M,{children:[e.jsx(h,{value:"Single",children:"Single"}),e.jsx(h,{value:"Married",children:"Married"}),e.jsx(h,{value:"Widowed",children:"Widowed"}),e.jsx(h,{value:"Divorced",children:"Divorced"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"brgy",children:"Barangay"}),e.jsx(c,{id:"brgy",name:"brgy",value:d.brgy,onChange:o})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(c,{id:"city",name:"city",value:d.city,onChange:o})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"province",children:"Province"}),e.jsx(c,{id:"province",name:"province",value:d.province,onChange:o})]})]}),e.jsxs(K,{children:[e.jsx(j,{type:"submit",disabled:w,children:"Update"}),e.jsx(q,{asChild:!0,children:e.jsx(j,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}const Z=[{title:"PDL Management",href:"/pdl-management"}];function be(){const{props:a}=N(),{verifications:t}=a;return console.log("Verifications:",t),e.jsxs(z,{breadcrumbs:Z,children:[e.jsx(P,{title:"Personal Information"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Personal Information"}),e.jsxs(E,{children:[e.jsx(L,{children:e.jsx(B,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{children:"Personal Information List"})})})}),e.jsx($,{children:e.jsxs(V,{children:[e.jsx(G,{children:e.jsxs(b,{children:[e.jsx(r,{children:"ID"}),e.jsx(r,{children:"Full Name"}),e.jsx(r,{children:"Alias"}),e.jsx(r,{children:"Gender"}),e.jsx(r,{children:"Ethnic Group"}),e.jsx(r,{children:"Civil Status"}),e.jsx(r,{children:"Date of Birth"}),e.jsx(r,{children:"Age"}),e.jsx(r,{children:"Address"}),e.jsx(r,{children:"Added By"}),e.jsx(r,{children:"Actions"})]})}),e.jsx(H,{children:t.map(s=>s.pdl&&e.jsxs(b,{children:[e.jsx(n,{children:s.pdl.id}),e.jsx(n,{children:`${s.pdl.fname} ${s.pdl.lname}`}),e.jsx(n,{children:s.pdl.alias??"-"}),e.jsx(n,{children:s.pdl.gender??"-"}),e.jsx(n,{children:s.pdl.ethnic_group??"-"}),e.jsx(n,{children:s.pdl.civil_status??"-"}),e.jsx(n,{children:p(new Date(s.pdl.birthdate),"MMMM dd, yyyy")}),e.jsx(n,{children:Q(s.pdl.birthdate)}),e.jsx(n,{children:`${s.pdl.brgy??""}, ${s.pdl.city??""}, ${s.pdl.province??""}`}),e.jsx(n,{children:s.pdl.personnel?`${s.pdl.personnel.fname} ${s.pdl.personnel.lname}`:"â€”"}),e.jsxs(n,{className:"space-x-1",children:[e.jsx(J,{pdl:s.pdl}),e.jsx(X,{pdl:s.pdl})]})]},s.pdl.id))})]})})]})]})]})}export{be as default};
