import{r as se,m as ve,j as e,K as be}from"./app-BPxrKEyb.js";import{A as Oe,a as F,b as I,c as M}from"./accordion-CjrmIv4l.js";import{B as te}from"./badge-CwiTgdPp.js";import{c as ke,B as C}from"./button-CEMgu7CE.js";import{D as le,i as oe,a as ce,b as de,c as ue,d as Ne,C as ge,g as we,h as Ae}from"./app-layout-B7fNkZnx.js";import{S as U,a as L,b as q,c as H,d as O}from"./select-Dq-Ok0hR.js";import{S as Pe}from"./square-pen-DGkOkH8-.js";import{U as V}from"./user-DBhr3jVO.js";import{C as Te,I as W}from"./input-CvRLkRAD.js";import{A as G,b as Q,a as Z}from"./alert-Dy7BgFLC.js";import{L as S}from"./label-BHAojcQv.js";import{T as Ee}from"./textarea-C2McMECy.js";import{R as $e,a as xe}from"./radio-group-BSwB1R0I.js";import{P as Re}from"./plus-Mt4T1DTm.js";import{C as Fe}from"./custody-management-DKudcUTW.js";import{E as Ie}from"./eye-DJMTalI9.js";import{f as $}from"./format-B3rlCQGj.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Ve=ke("Skull",Me);function w(){return w=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w.apply(null,arguments)}const Be=String.prototype.replace,Ue=/%20/g,re={RFC1738:function(t){return Be.call(t,Ue,"+")},RFC3986:function(t){return String(t)}};var ne="RFC3986";const J=Object.prototype.hasOwnProperty,A=Array.isArray,D=function(){const t=[];for(let s=0;s<256;++s)t.push("%"+((s<16?"0":"")+s.toString(16)).toUpperCase());return t}(),Le=function t(s,n,i){if(!n)return s;if(typeof n!="object"){if(A(s))s.push(n);else{if(!s||typeof s!="object")return[s,n];(i&&(i.plainObjects||i.allowPrototypes)||!J.call(Object.prototype,n))&&(s[n]=!0)}return s}if(!s||typeof s!="object")return[s].concat(n);let r=s;return A(s)&&!A(n)&&(r=function(a,o){const c=o&&o.plainObjects?Object.create(null):{};for(let p=0;p<a.length;++p)a[p]!==void 0&&(c[p]=a[p]);return c}(s,i)),A(s)&&A(n)?(n.forEach(function(a,o){if(J.call(s,o)){const c=s[o];c&&typeof c=="object"&&a&&typeof a=="object"?s[o]=t(c,a,i):s.push(a)}else s[o]=a}),s):Object.keys(n).reduce(function(a,o){const c=n[o];return a[o]=J.call(a,o)?t(a[o],c,i):c,a},r)},Y=1024,qe=function(t,s){return[].concat(t,s)},ae=function(t,s){if(A(t)){const n=[];for(let i=0;i<t.length;i+=1)n.push(s(t[i]));return n}return s(t)},He=Object.prototype.hasOwnProperty,ye={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,s){return t+"["+s+"]"},repeat:function(t){return t}},k=Array.isArray,ze=Array.prototype.push,Ce=function(t,s){ze.apply(t,k(s)?s:[s])},Ke=Date.prototype.toISOString,b={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:function(t,s,n,i,r){if(t.length===0)return t;let a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});let o="";for(let c=0;c<a.length;c+=Y){const p=a.length>=Y?a.slice(c,c+Y):a,h=[];for(let m=0;m<p.length;++m){let d=p.charCodeAt(m);d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||r==="RFC1738"&&(d===40||d===41)?h[h.length]=p.charAt(m):d<128?h[h.length]=D[d]:d<2048?h[h.length]=D[192|d>>6]+D[128|63&d]:d<55296||d>=57344?h[h.length]=D[224|d>>12]+D[128|d>>6&63]+D[128|63&d]:(m+=1,d=65536+((1023&d)<<10|1023&p.charCodeAt(m)),h[h.length]=D[240|d>>18]+D[128|d>>12&63]+D[128|d>>6&63]+D[128|63&d])}o+=h.join("")}return o},encodeValuesOnly:!1,format:ne,formatter:re[ne],indices:!1,serializeDate:function(t){return Ke.call(t)},skipNulls:!1,strictNullHandling:!1},X={},_e=function(t,s,n,i,r,a,o,c,p,h,m,d,u,f,l,x,j,y){let g=t,N=y,_=0,me=!1;for(;(N=N.get(X))!==void 0&&!me;){const v=N.get(t);if(_+=1,v!==void 0){if(v===_)throw new RangeError("Cyclic object value");me=!0}N.get(X)===void 0&&(_=0)}if(typeof h=="function"?g=h(s,g):g instanceof Date?g=u(g):n==="comma"&&k(g)&&(g=ae(g,function(v){return v instanceof Date?u(v):v})),g===null){if(a)return p&&!x?p(s,b.encoder,j,"key",f):s;g=""}if(typeof(T=g)=="string"||typeof T=="number"||typeof T=="boolean"||typeof T=="symbol"||typeof T=="bigint"||function(v){return!(!v||typeof v!="object"||!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v)))}(g))return p?[l(x?s:p(s,b.encoder,j,"key",f))+"="+l(p(g,b.encoder,j,"value",f))]:[l(s)+"="+l(String(g))];var T;const z=[];if(g===void 0)return z;let E;if(n==="comma"&&k(g))x&&p&&(g=ae(g,p)),E=[{value:g.length>0?g.join(",")||null:void 0}];else if(k(h))E=h;else{const v=Object.keys(g);E=m?v.sort(m):v}const he=c?s.replace(/\./g,"%2E"):s,R=i&&k(g)&&g.length===1?he+"[]":he;if(r&&k(g)&&g.length===0)return R+"[]";for(let v=0;v<E.length;++v){const P=E[v],pe=typeof P=="object"&&P.value!==void 0?P.value:g[P];if(o&&pe===null)continue;const K=d&&c?P.replace(/\./g,"%2E"):P,De=k(g)?typeof n=="function"?n(R,K):R:R+(d?"."+K:"["+K+"]");y.set(t,_);const fe=new WeakMap;fe.set(X,y),Ce(z,_e(pe,De,n,i,r,a,o,c,n==="comma"&&x&&k(g)?null:p,h,m,d,u,f,l,x,j,fe))}return z},ie=Object.prototype.hasOwnProperty,We=Array.isArray,B={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:function(t,s,n){const i=t.replace(/\+/g," ");if(n==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ge=function(t){return t.replace(/&#(\d+);/g,function(s,n){return String.fromCharCode(parseInt(n,10))})},Se=function(t,s){return t&&typeof t=="string"&&s.comma&&t.indexOf(",")>-1?t.split(","):t},Qe=function(t,s,n,i){if(!t)return;const r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g;let o=n.depth>0&&/(\[[^[\]]*])/.exec(r);const c=o?r.slice(0,o.index):r,p=[];if(c){if(!n.plainObjects&&ie.call(Object.prototype,c)&&!n.allowPrototypes)return;p.push(c)}let h=0;for(;n.depth>0&&(o=a.exec(r))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&ie.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(o[1])}return o&&p.push("["+r.slice(o.index)+"]"),function(m,d,u,f){let l=f?d:Se(d,u);for(let x=m.length-1;x>=0;--x){let j;const y=m[x];if(y==="[]"&&u.parseArrays)j=u.allowEmptyArrays&&l===""?[]:[].concat(l);else{j=u.plainObjects?Object.create(null):{};const g=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,N=u.decodeDotInKeys?g.replace(/%2E/g,"."):g,_=parseInt(N,10);u.parseArrays||N!==""?!isNaN(_)&&y!==N&&String(_)===N&&_>=0&&u.parseArrays&&_<=u.arrayLimit?(j=[],j[_]=l):N!=="__proto__"&&(j[N]=l):j={0:l}}l=j}return l}(p,s,n,i)};function Ze(t,s){const n=function(o){return B}();if(t===""||t==null)return n.plainObjects?Object.create(null):{};const i=typeof t=="string"?function(o,c){const p={__proto__:null},h=(c.ignoreQueryPrefix?o.replace(/^\?/,""):o).split(c.delimiter,c.parameterLimit===1/0?void 0:c.parameterLimit);let m,d=-1,u=c.charset;if(c.charsetSentinel)for(m=0;m<h.length;++m)h[m].indexOf("utf8=")===0&&(h[m]==="utf8=%E2%9C%93"?u="utf-8":h[m]==="utf8=%26%2310003%3B"&&(u="iso-8859-1"),d=m,m=h.length);for(m=0;m<h.length;++m){if(m===d)continue;const f=h[m],l=f.indexOf("]="),x=l===-1?f.indexOf("="):l+1;let j,y;x===-1?(j=c.decoder(f,B.decoder,u,"key"),y=c.strictNullHandling?null:""):(j=c.decoder(f.slice(0,x),B.decoder,u,"key"),y=ae(Se(f.slice(x+1),c),function(N){return c.decoder(N,B.decoder,u,"value")})),y&&c.interpretNumericEntities&&u==="iso-8859-1"&&(y=Ge(y)),f.indexOf("[]=")>-1&&(y=We(y)?[y]:y);const g=ie.call(p,j);g&&c.duplicates==="combine"?p[j]=qe(p[j],y):g&&c.duplicates!=="last"||(p[j]=y)}return p}(t,n):t;let r=n.plainObjects?Object.create(null):{};const a=Object.keys(i);for(let o=0;o<a.length;++o){const c=a[o],p=Qe(c,i[c],n,typeof t=="string");r=Le(r,p,n)}return n.allowSparse===!0?r:function(o){const c=[{obj:{o},prop:"o"}],p=[];for(let h=0;h<c.length;++h){const m=c[h],d=m.obj[m.prop],u=Object.keys(d);for(let f=0;f<u.length;++f){const l=u[f],x=d[l];typeof x=="object"&&x!==null&&p.indexOf(x)===-1&&(c.push({obj:d,prop:l}),p.push(x))}}return function(h){for(;h.length>1;){const m=h.pop(),d=m.obj[m.prop];if(A(d)){const u=[];for(let f=0;f<d.length;++f)d[f]!==void 0&&u.push(d[f]);m.obj[m.prop]=u}}}(c),o}(r)}class ee{constructor(s,n,i){var r,a;this.name=s,this.definition=n,this.bindings=(r=n.bindings)!=null?r:{},this.wheres=(a=n.wheres)!=null?a:{},this.config=i}get template(){const s=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return s===""?"/":s}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var s,n;return(s=(n=this.template.match(/{[^}?]+\??}/g))==null?void 0:n.map(i=>({name:i.replace(/{|\??}/g,""),required:!/\?}$/.test(i)})))!=null?s:[]}matchesUrl(s){var n;if(!this.definition.methods.includes("GET"))return!1;const i=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(c,p,h,m)=>{var d;const u=`(?<${h}>${((d=this.wheres[h])==null?void 0:d.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return m?`(${p}${u})?`:`${p}${u}`}).replace(/^\w+:\/\//,""),[r,a]=s.replace(/^\w+:\/\//,"").split("?"),o=(n=new RegExp(`^${i}/?$`).exec(r))!=null?n:new RegExp(`^${i}/?$`).exec(decodeURI(r));if(o){for(const c in o.groups)o.groups[c]=typeof o.groups[c]=="string"?decodeURIComponent(o.groups[c]):o.groups[c];return{params:o.groups,query:Ze(a)}}return!1}compile(s){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(n,i,r)=>{var a,o;if(!r&&[null,void 0].includes(s[i]))throw new Error(`Ziggy error: '${i}' parameter is required for route '${this.name}'.`);if(this.wheres[i]&&!new RegExp(`^${r?`(${this.wheres[i]})?`:this.wheres[i]}$`).test((o=s[i])!=null?o:""))throw new Error(`Ziggy error: '${i}' parameter '${s[i]}' does not match required format '${this.wheres[i]}' for route '${this.name}'.`);return encodeURI((a=s[i])!=null?a:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class Je extends String{constructor(s,n,i=!0,r){if(super(),this.t=r??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),!this.t&&typeof document<"u"&&document.getElementById("ziggy-routes-json")&&(globalThis.Ziggy=JSON.parse(document.getElementById("ziggy-routes-json").textContent),this.t=globalThis.Ziggy),this.t=w({},this.t,{absolute:i}),s){if(!this.t.routes[s])throw new Error(`Ziggy error: route '${s}' is not in the route list.`);this.i=new ee(s,this.t.routes[s],this.t),this.u=this.l(n)}}toString(){const s=Object.keys(this.u).filter(n=>!this.i.parameterSegments.some(({name:i})=>i===n)).filter(n=>n!=="_query").reduce((n,i)=>w({},n,{[i]:this.u[i]}),{});return this.i.compile(this.u)+function(n,i){let r=n;const a=function(l){if(!l)return b;if(l.allowEmptyArrays!==void 0&&typeof l.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(l.encodeDotInKeys!==void 0&&typeof l.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(l.encoder!=null&&typeof l.encoder!="function")throw new TypeError("Encoder has to be a function.");const x=l.charset||b.charset;if(l.charset!==void 0&&l.charset!=="utf-8"&&l.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let j=ne;if(l.format!==void 0){if(!He.call(re,l.format))throw new TypeError("Unknown format option provided.");j=l.format}const y=re[j];let g,N=b.filter;if((typeof l.filter=="function"||k(l.filter))&&(N=l.filter),g=l.arrayFormat in ye?l.arrayFormat:"indices"in l?l.indices?"indices":"repeat":b.arrayFormat,"commaRoundTrip"in l&&typeof l.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:typeof l.addQueryPrefix=="boolean"?l.addQueryPrefix:b.addQueryPrefix,allowDots:l.allowDots===void 0?l.encodeDotInKeys===!0||b.allowDots:!!l.allowDots,allowEmptyArrays:typeof l.allowEmptyArrays=="boolean"?!!l.allowEmptyArrays:b.allowEmptyArrays,arrayFormat:g,charset:x,charsetSentinel:typeof l.charsetSentinel=="boolean"?l.charsetSentinel:b.charsetSentinel,commaRoundTrip:l.commaRoundTrip,delimiter:l.delimiter===void 0?b.delimiter:l.delimiter,encode:typeof l.encode=="boolean"?l.encode:b.encode,encodeDotInKeys:typeof l.encodeDotInKeys=="boolean"?l.encodeDotInKeys:b.encodeDotInKeys,encoder:typeof l.encoder=="function"?l.encoder:b.encoder,encodeValuesOnly:typeof l.encodeValuesOnly=="boolean"?l.encodeValuesOnly:b.encodeValuesOnly,filter:N,format:j,formatter:y,serializeDate:typeof l.serializeDate=="function"?l.serializeDate:b.serializeDate,skipNulls:typeof l.skipNulls=="boolean"?l.skipNulls:b.skipNulls,sort:typeof l.sort=="function"?l.sort:null,strictNullHandling:typeof l.strictNullHandling=="boolean"?l.strictNullHandling:b.strictNullHandling}}(i);let o,c;typeof a.filter=="function"?(c=a.filter,r=c("",r)):k(a.filter)&&(c=a.filter,o=c);const p=[];if(typeof r!="object"||r===null)return"";const h=ye[a.arrayFormat],m=h==="comma"&&a.commaRoundTrip;o||(o=Object.keys(r)),a.sort&&o.sort(a.sort);const d=new WeakMap;for(let l=0;l<o.length;++l){const x=o[l];a.skipNulls&&r[x]===null||Ce(p,_e(r[x],x,h,m,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,d))}const u=p.join(a.delimiter);let f=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(f+=a.charset==="iso-8859-1"?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),u.length>0?f+u:""}(w({},s,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(n,i)=>typeof n=="boolean"?Number(n):i(n)})}p(s){s?this.t.absolute&&s.startsWith("/")&&(s=this.h().host+s):s=this.m();let n={};const[i,r]=Object.entries(this.t.routes).find(([a,o])=>n=new ee(a,o,this.t).matchesUrl(s))||[void 0,void 0];return w({name:i},n,{route:r})}m(){const{host:s,pathname:n,search:i}=this.h();return(this.t.absolute?s+n:n.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+i}current(s,n){const{name:i,params:r,query:a,route:o}=this.p();if(!s)return i;const c=new RegExp(`^${s.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(i);if([null,void 0].includes(n)||!c)return c;const p=new ee(i,o,this.t);n=this.l(n,p);const h=w({},r,a);if(Object.values(n).every(d=>!d)&&!Object.values(h).some(d=>d!==void 0))return!0;const m=(d,u)=>Object.entries(d).every(([f,l])=>Array.isArray(l)&&Array.isArray(u[f])?l.every(x=>u[f].includes(x)||u[f].includes(decodeURIComponent(x))):typeof l=="object"&&typeof u[f]=="object"&&l!==null&&u[f]!==null?m(l,u[f]):u[f]==l||u[f]==decodeURIComponent(l));return m(n,h)}h(){var s,n,i,r,a,o;const{host:c="",pathname:p="",search:h=""}=typeof window<"u"?window.location:{};return{host:(s=(n=this.t.location)==null?void 0:n.host)!=null?s:c,pathname:(i=(r=this.t.location)==null?void 0:r.pathname)!=null?i:p,search:(a=(o=this.t.location)==null?void 0:o.search)!=null?a:h}}get params(){const{params:s,query:n}=this.p();return w({},s,n)}get routeParams(){return this.p().params}get queryParams(){return this.p().query}has(s){return this.t.routes.hasOwnProperty(s)}l(s={},n=this.i){s!=null||(s={}),s=["string","number"].includes(typeof s)?[s]:s;const i=n.parameterSegments.filter(({name:r})=>!this.t.defaults[r]);return Array.isArray(s)?s=s.reduce((r,a,o)=>w({},r,i[o]?{[i[o].name]:a}:typeof a=="object"?a:{[a]:""}),{}):i.length!==1||s[i[0].name]||!s.hasOwnProperty(Object.values(n.bindings)[0])&&!s.hasOwnProperty("id")||(s={[i[0].name]:s}),w({},this.v(n),this.j(s,n))}v(s){return s.parameterSegments.filter(({name:n})=>this.t.defaults[n]).reduce((n,{name:i},r)=>w({},n,{[i]:this.t.defaults[i]}),{})}j(s,{bindings:n,parameterSegments:i}){return Object.entries(s).reduce((r,[a,o])=>{if(!o||typeof o!="object"||Array.isArray(o)||!i.some(({name:c})=>c===a))return w({},r,{[a]:o});if(!o.hasOwnProperty(n[a])){if(!o.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${a}' parameter is missing route model binding key '${n[a]}'.`);n[a]="id"}return w({},r,{[a]:o[n[a]]})},{})}valueOf(){return this.toString()}}function Ye(t,s,n,i){const r=new Je(t,s,n,i);return t?r.toString():r}const je=[{value:"bonded",label:"Bonded",icon:V,color:"destructive"},{value:"transferred",label:"Transferred to another jail",icon:V,color:"destructive"},{value:"served",label:"Served Sentence",icon:V,color:"destructive"},{value:"dismissed",label:"Dismissed",icon:V,color:"destructive"},{value:"pending",label:"Pending",icon:ge,color:"default"},{value:"convicted",label:"Convicted",icon:Te,color:"secondary"},{value:"deceased",label:"Deceased",icon:Ve,color:"destructive"},{value:"on_trial",label:"On Trial",icon:ge,color:"default"}];function Xe({caseInfo:t}){const[s,n]=se.useState(!1),[i,r]=se.useState(!1),{data:a,setData:o,post:c}=ve({case_status:t.case_status}),p=()=>{r(!0),c(Ye("case-information.update-status",t.case_id),{onSuccess:()=>{n(!1),r(!1)}})},h=m=>{const d=je.find(f=>f.value===m);if(!d)return null;const u=d.icon;return e.jsxs(te,{variant:d.color,className:"flex items-center gap-1",children:[e.jsx(u,{className:"h-3 w-3"}),d.label]})};return e.jsxs(le,{open:s,onOpenChange:n,children:[e.jsx(oe,{asChild:!0,children:e.jsxs(C,{variant:"ghost",size:"sm",className:"h-6 px-2",children:[e.jsx(Pe,{className:"h-3 w-3 mr-1"}),"Update Status"]})}),e.jsxs(ce,{className:"sm:max-w-[425px]",children:[e.jsxs(de,{children:[e.jsx(ue,{children:"Update Case Status"}),e.jsxs(Ne,{children:["Update the status for case: ",e.jsx("span",{className:"font-medium",children:t.case_number}),e.jsx("br",{}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Crime: ",t.crime_committed]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Current Status"}),e.jsx("div",{className:"flex items-center gap-2",children:h(t.case_status)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"New Status"}),e.jsxs(U,{value:a.case_status,onValueChange:m=>o("case_status",m),children:[e.jsx(L,{children:e.jsx(q,{placeholder:"Select new status"})}),e.jsx(H,{children:je.map(m=>{const d=m.icon;return e.jsx(O,{value:m.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4"}),m.label]})},m.value)})})]})]}),a.case_status!==t.case_status&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Preview"}),e.jsx("div",{className:"flex items-center gap-2",children:h(a.case_status)})]})]}),e.jsxs(we,{children:[e.jsx(C,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(C,{onClick:p,children:i?"Updating...":"Update Status"})]})]})]})}const es=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}];function ss({pdl:t}){const[s,n]=se.useState(!1),{data:i,setData:r,post:a,processing:o,errors:c,reset:p}=ve({case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"pending",case_remarks:"",security_classification:"medium",drug_related:!1,pdl_id:t.id}),h=u=>{u.preventDefault(),a(route("case-information.store"),{preserveScroll:!0,onSuccess:()=>p()})},{props:m}=be(),d=m.success;return e.jsxs(le,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(C,{variant:"outline",size:"icon",children:e.jsx(Re,{className:"h-4 w-4"})})}),e.jsxs(ce,{className:"sm:max-w-3xl",children:[e.jsxs(de,{children:[e.jsx(ue,{children:"Create Case Information"}),e.jsxs(Ne,{children:["Add a new case information for the following PDL: ",e.jsxs("span",{className:"font-medium",children:[t.fname," ",t.lname]})]})]}),Object.keys(c).length>0&&e.jsxs(G,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(Q,{children:"Unable to process request"}),e.jsx(Z,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(c).map((u,f)=>e.jsx("li",{children:u},f))})})]}),d&&e.jsxs(G,{variant:"default",className:"mb-4",children:[e.jsx(Q,{children:"Success"}),e.jsx(Z,{children:d})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[Object.keys(c).length>0&&e.jsxs(G,{variant:"destructive",children:[e.jsx(Q,{children:"Error"}),e.jsx(Z,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(c).map((u,f)=>e.jsx("li",{children:u},f))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"case_number",children:"Case Number"}),e.jsx(W,{type:"text",value:i.case_number,onChange:u=>r("case_number",u.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"crime_committed",children:"Crime Committed"}),e.jsxs(U,{value:i.crime_committed,onValueChange:u=>r("crime_committed",u),required:!0,children:[e.jsx(L,{children:e.jsx(q,{placeholder:"Select crime"})}),e.jsx(H,{children:es.map(u=>e.jsx(O,{value:u.category,children:u.category},u.category))})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select from common crimes or type a custom crime description"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"date_committed",children:"Date Committed"}),e.jsx(W,{type:"date",value:i.date_committed,onChange:u=>r("date_committed",u.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"time_committed",children:"Time Committed"}),e.jsx(W,{type:"time",value:i.time_committed,onChange:u=>r("time_committed",u.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"case_status",children:"Case Status"}),e.jsxs(U,{value:i.case_status,onValueChange:u=>r("case_status",u),required:!0,children:[e.jsx(L,{children:e.jsx(q,{placeholder:"Select status"})}),e.jsxs(H,{children:[e.jsx(O,{value:"pending",children:"Pending"}),e.jsx(O,{value:"convicted",children:"Convicted"}),e.jsx(O,{value:"deceased",children:"Deceased"}),e.jsx(O,{value:"case closed",children:"Case Closed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"security_classification",children:"Security Classification"}),e.jsxs(U,{value:i.security_classification,onValueChange:u=>r("security_classification",u),required:!0,children:[e.jsx(L,{children:e.jsx(q,{placeholder:"Select classification"})}),e.jsxs(H,{children:[e.jsx(O,{value:"low",children:"Low"}),e.jsx(O,{value:"medium",children:"Medium"}),e.jsx(O,{value:"high",children:"High"}),e.jsx(O,{value:"maximum",children:"Maximum"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{children:"Drug Related Case"}),e.jsxs($e,{value:i.drug_related.toString(),onValueChange:u=>r("drug_related",u==="true"),className:"flex flex-row space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{value:"true",id:"drug_related_yes"}),e.jsx(S,{htmlFor:"drug_related_yes",className:"text-sm font-normal",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{value:"false",id:"drug_related_no"}),e.jsx(S,{htmlFor:"drug_related_no",className:"text-sm font-normal",children:"No"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Indicate if this case is related to drug offenses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"case_remarks",children:"Remarks"}),e.jsx(Ee,{id:"case_remarks",value:i.case_remarks,onChange:u=>r("case_remarks",u.target.value),rows:3})]}),e.jsxs(we,{children:[e.jsx(Ae,{asChild:!0,children:e.jsx(C,{variant:"outline",children:"Cancel"})}),e.jsx(C,{type:"submit",disabled:o,children:o?"Creating...":"Create Case"})]})]})]})]})}function js({pdl:t}){var i;const s=be().props.auth,n=()=>{const r=new URLSearchParams;r.append("pdl_id",t.id.toString());const a=route("pdl-management.download",r.toString());window.open(a,"_blank")};return e.jsxs(le,{children:[e.jsx(oe,{asChild:!0,children:e.jsxs(C,{variant:"ghost",size:"sm",children:[e.jsx(Ie,{className:"h-4 w-4"})," View"]})}),e.jsxs(ce,{className:"max-h-[90vh] overflow-y-auto sm:max-w-4xl",children:[e.jsx(de,{children:e.jsx(ue,{children:"PDL Information"})}),e.jsxs("div",{className:"grid gap-4 py-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Basic Information"}),e.jsxs("div",{className:"flex items-center gap-2",children:[((i=s==null?void 0:s.user)==null?void 0:i.position)!=="law-enforcement"&&e.jsx(Fe,{pdl:t}),e.jsx(C,{variant:"outline",onClick:n,children:"Download PDL Information"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Mugshot:"}),t.mugshot_path?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:`/storage/${t.mugshot_path}`,alt:"Mugshot",className:"h-44 rounded border object-cover",onError:r=>{var a;r.currentTarget.style.display="none",(a=r.currentTarget.nextElementSibling)==null||a.classList.remove("hidden")}}),e.jsx("div",{className:"flex hidden h-20 w-20 items-center justify-center rounded-full bg-gray-200 text-xs text-gray-500",children:"No Image"}),e.jsx(C,{variant:"outline",onClick:()=>window.open(`/storage/${t.mugshot_path}`,"_blank"),children:"Preview"})]}):e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gray-200 text-xs text-gray-500",children:"No Mugshot"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Full Name:"})," ",`${t.fname} ${t.lname}`," ",t!=null&&t.suffix?" "+t.suffix:""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Alias:"})," ",t.alias||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Gender:"})," ",t.gender||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Birthdate:"})," ",$(new Date(t.birthdate),"MMMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Age:"})," ",t.age]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Ethnic Group:"})," ",t.ethnic_group||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Civil Status:"})," ",t.civil_status||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Added By:"})," ",t.personnel?`${t.personnel.fname} ${t.personnel.lname}`:"-"]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Address:"})," ",`${t.brgy||""}, ${t.city||""}, ${t.province||""}`]})]})]}),e.jsxs(Oe,{type:"multiple",className:"w-full",children:[Array.isArray(t.physical_characteristics)&&t.physical_characteristics.length>0&&e.jsxs(F,{value:"physical",children:[e.jsx(I,{className:"text-sm font-medium",children:"Physical Characteristics"}),e.jsx(M,{className:"grid grid-cols-2 gap-4 p-2 text-sm",children:t.physical_characteristics.map((r,a)=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Height:"})," ",r.height," cm"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Weight:"})," ",r.weight," kg"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Build:"})," ",r.build]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Complexion:"})," ",r.complexion]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Hair Color:"})," ",r.hair_color]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Eye Color:"})," ",r.eye_color]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ID Marks:"})," ",r.identification_marks]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Mark Location:"})," ",r.mark_location]}),r.remark&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Remarks:"})," ",r.remark]})]},a))})]}),Array.isArray(t.court_orders)&&t.court_orders.length>0&&e.jsxs(F,{value:"court",children:[e.jsxs(I,{className:"text-sm font-medium",children:["Court Orders (",t.court_orders.length,")"]}),e.jsx(M,{className:"space-y-4 p-2",children:t.court_orders.map((r,a)=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"})," ",r.order_type]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Order Date:"})," ",$(new Date(r.order_date),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Received Date:"})," ",$(new Date(r.received_date),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Court Branch:"})," ",r.court_branch]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Document:"})," ",e.jsx(C,{variant:"outline",onClick:()=>window.open(`/storage/${r.document_path}`,"_blank"),children:"Preview"})]}),r.remarks&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Remarks:"})," ",r.remarks]})]},a))})]}),Array.isArray(t.medical_records)&&t.medical_records.length>0&&e.jsxs(F,{value:"medical",children:[e.jsxs(I,{className:"text-sm font-medium",children:["Medical Records (",t.medical_records.length,")"]}),e.jsx(M,{className:"space-y-4 p-2",children:t.medical_records.map((r,a)=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Date:"})," ",$(new Date(r.date),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Complaint:"})," ",r.complaint]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Findings:"})," ",r.findings]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Prognosis:"})," ",r.prognosis]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Laboratory Results:"})," ",r.laboratory]}),e.jsxs("div",{className:"",children:[e.jsx("span",{className:"text-muted-foreground",children:"Document:"})," ",e.jsx(C,{variant:"outline",onClick:()=>window.open(`/storage/${r.file_path}`,"_blank"),children:"Preview"})]})]},a))})]}),Array.isArray(t.cases)&&t.cases.length>0&&e.jsxs(F,{value:"cases",children:[e.jsx(I,{className:"",children:e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information (",t.cases.length,")",e.jsx(ss,{pdl:t})]})}),e.jsx(M,{className:"space-y-4 p-2",children:t.cases.map((r,a)=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 rounded-lg border p-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Case #:"})," ",r.case_number]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx(te,{variant:r.case_status==="open"?"destructive":r.case_status==="pending"?"default":r.case_status==="convicted"?"secondary":r.case_status==="deceased"?"destructive":"secondary",children:r.case_status}),e.jsx(Xe,{caseInfo:r})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Crime:"})," ",r.crime_committed]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Date Committed:"})," ",$(new Date(r.date_committed),"MMM dd, yyyy")]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Time Committed:"})," ",r.time_committed]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Security:"}),e.jsx(te,{variant:r.security_classification==="low"?"secondary":r.security_classification==="medium"?"default":(r.security_classification==="high","destructive"),children:r.security_classification})]}),r.case_remarks&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Remarks:"})," ",r.case_remarks]})]},a))})]})]})]})]})]})}export{js as V};
