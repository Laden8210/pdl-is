import{m as y,K as f,j as e,r as b,L as T}from"./app-t_FFWq90.js";import{D as N,e as S,a as D,b as _,c as A,d as F,f as I,g as L,A as K}from"./app-layout-WlM9EVUn.js";import{C as k,a as B,b as q,c as E}from"./card-B1v30fcl.js";import{B as r}from"./button-DDYf-DS8.js";import{A as x,a as u,b as j}from"./alert-C5m7Y8HD.js";import{I as d}from"./index-B_WgistD.js";import{L as i}from"./label-BL0l3kNj.js";import{S as M,a as w,b as O,c as U,d as v}from"./select-CDq7m6kf.js";import{D as V}from"./data-table-CTr8Tbix.js";import{B as z}from"./badge-dacvAHkS.js";import"./user-DLIhjzW8.js";import"./index-DrxrNyms.js";import"./table-bwCmG8NN.js";function H(){const{data:s,setData:l,post:t,processing:h,errors:o,reset:c}=y({cell_name:"",capacity:"",description:"",status:"active"}),{props:g}=f(),p=g.success,m=a=>{const n=a.target.name;l(n,a.target.value)},C=a=>{a.preventDefault(),t(route("cell.create"),{preserveScroll:!0,onSuccess:()=>c()})};return e.jsxs(N,{children:[e.jsx(S,{asChild:!0,children:e.jsx(r,{variant:"outline",children:"Create Cell"})}),e.jsxs(D,{className:"sm:max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(A,{children:"Create Cell"}),e.jsx(F,{children:"Fill in the details to register a new cell."})]}),e.jsxs("form",{onSubmit:C,className:"mx-auto w-full space-y-4",children:[Object.keys(o).length>0&&e.jsxs(x,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(u,{children:"Unable to process request"}),e.jsx(j,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(o).map((a,n)=>e.jsx("li",{children:a},n))})})]}),p&&e.jsxs(x,{variant:"default",className:"mb-4",children:[e.jsx(u,{children:"Success"}),e.jsx(j,{children:p})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(d,{id:"cell_name",name:"cell_name",value:s.cell_name,onChange:m})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"capacity",children:"Capacity"}),e.jsx(d,{id:"capacity",name:"capacity",type:"number",value:s.capacity,onChange:m})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(d,{id:"description",name:"description",value:s.description,onChange:m})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{children:"Status"}),e.jsxs(M,{value:s.status,onValueChange:a=>l("status",a),children:[e.jsx(w,{children:e.jsx(O,{placeholder:"Select status"})}),e.jsxs(U,{children:[e.jsx(v,{value:"active",children:"Active"}),e.jsx(v,{value:"inactive",children:"Inactive"})]})]})]})]}),e.jsxs(I,{children:[e.jsx(r,{type:"submit",disabled:h,children:"Create"}),e.jsx(L,{asChild:!0,children:e.jsx(r,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}function R({cell:s}){const{data:l,setData:t,post:h,processing:o,errors:c,reset:g}=y({cell_id:s.cell_id,cell_name:s.cell_name,capacity:s.capacity.toString(),description:s.description??"",status:s.status}),{props:p}=f(),m=p.success,C=a=>{a.preventDefault(),h(route("cell.update"),{preserveScroll:!0,onSuccess:()=>g()})};return e.jsxs(N,{children:[e.jsx(S,{asChild:!0,children:e.jsx(r,{variant:"outline",size:"sm",children:"Edit"})}),e.jsxs(D,{className:"sm:max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(A,{children:"Update Cell"}),e.jsx(F,{children:"Modify the cell information and save changes."})]}),Object.keys(c).length>0&&e.jsxs(x,{variant:"destructive",className:"mb-4",children:[e.jsx(u,{children:"Unable to process request"}),e.jsx(j,{children:Object.values(c).map((a,n)=>e.jsx("ul",{className:"list-inside list-disc text-sm",children:e.jsx("li",{children:a})},n))})]}),m&&e.jsxs(x,{variant:"default",className:"mb-4",children:[e.jsx(u,{children:"Success"}),e.jsx(j,{children:m})]}),e.jsxs("form",{onSubmit:C,className:"mx-auto w-full space-y-4",children:[Object.keys(c).length>0&&e.jsxs(x,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(u,{children:"Unable to process request"}),e.jsx(j,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(c).map((a,n)=>e.jsx("li",{children:a},n))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"cell_name",children:"Cell Name"}),e.jsx(d,{id:"cell_name",name:"cell_name",value:l.cell_name,onChange:a=>t("cell_name",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"capacity",children:"Capacity"}),e.jsx(d,{id:"capacity",name:"capacity",type:"number",value:l.capacity,onChange:a=>t("capacity",a.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(d,{id:"description",name:"description",value:l.description,onChange:a=>t("description",a.target.value)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(i,{children:"Status"}),e.jsxs(M,{value:l.status,onValueChange:a=>t("status",a),children:[e.jsx(w,{children:e.jsx(O,{placeholder:"Select status"})}),e.jsxs(U,{children:[e.jsx(v,{value:"active",children:"Active"}),e.jsx(v,{value:"inactive",children:"Inactive"})]})]})]})]}),e.jsxs(I,{children:[e.jsx(r,{type:"submit",disabled:o,children:"Update"}),e.jsx(L,{asChild:!0,children:e.jsx(r,{variant:"outline",type:"button",children:"Cancel"})})]})]})]})]})}const G=[{accessorKey:"cell_name",header:"Cell Name"},{accessorKey:"description",header:"Description",cell:({row:s})=>s.original.description||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})},{accessorKey:"capacity",header:"Capacity"},{id:"occupied",header:"Occupied",cell:({row:s})=>s.original.assignments_count??0},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx(z,{variant:s.original.status==="active"?"default":"destructive",children:s.original.status.charAt(0).toUpperCase()+s.original.status.slice(1)})},{id:"actions",header:"Actions",cell:({row:s})=>{const l=s.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{cell:{...l,description:l.description??""}}),e.jsx(r,{variant:"destructive",size:"sm",onClick:()=>console.log("Delete cell",l.cell_id),children:"Delete"})]})}}],J=[{title:"Cell Management",href:"/cell-management"}];function ie(){const{props:s}=f(),{cells:l}=s,[t,h]=b.useState(""),o=b.useMemo(()=>t?l.filter(c=>c.cell_name.toLowerCase().includes(t.toLowerCase())):l,[l,t]);return e.jsxs(K,{breadcrumbs:J,children:[e.jsx(T,{title:"Cell Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Cell Management"}),e.jsxs(k,{children:[e.jsx(B,{children:e.jsx(q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Cell List"}),e.jsx(H,{})]})})}),e.jsxs(E,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(i,{htmlFor:"search",className:"text-sm font-medium",children:"Search Cells"}),e.jsx(d,{id:"search",placeholder:"Search by cell name",className:"w-64",value:t,onChange:c=>h(c.target.value)})]}),e.jsx(V,{data:o,columns:G})]})]})]})]})}export{ie as default};
