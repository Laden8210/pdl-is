import{c as B,d as I,a as R}from"./button-Bk8kqzf-.js";import{r as o,j as v}from"./app-BsqoMlzz.js";import"./index-Bs21pwYS.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Q=B("Upload",L);function F(e,t=[]){let c=[];function l(g,p){const s=o.createContext(p),u=c.length;c=[...c,p];const m=a=>{var C;const{scope:i,children:d,...f}=a,y=((C=i==null?void 0:i[e])==null?void 0:C[u])||s,k=o.useMemo(()=>f,Object.values(f));return v.jsx(y.Provider,{value:k,children:d})};m.displayName=g+"Provider";function r(a,i){var y;const d=((y=i==null?void 0:i[e])==null?void 0:y[u])||s,f=o.useContext(d);if(f)return f;if(p!==void 0)return p;throw new Error(`\`${a}\` must be used within \`${g}\``)}return[m,r]}const n=()=>{const g=c.map(p=>o.createContext(p));return function(s){const u=(s==null?void 0:s[e])||g;return o.useMemo(()=>({[`__scope${e}`]:{...s,[e]:u}}),[s,u])}};return n.scopeName=e,[l,A(n,...t)]}function A(...e){const t=e[0];if(e.length===1)return t;const c=()=>{const l=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(g){const p=l.reduce((s,{useScope:u,scopeName:m})=>{const a=u(g)[`__scope${m}`];return{...s,...a}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:p}),[p])}};return c.scopeName=t.scopeName,c}var V=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$=V.reduce((e,t)=>{const c=I(`Primitive.${t}`),l=o.forwardRef((n,g)=>{const{asChild:p,...s}=n,u=p?c:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(u,{...s,ref:g})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),x="Progress",P=100,[D,W]=F(x),[O,U]=D(x),S=o.forwardRef((e,t)=>{const{__scopeProgress:c,value:l=null,max:n,getValueLabel:g=G,...p}=e;(n||n===0)&&!M(n)&&console.error(T(`${n}`,"Progress"));const s=M(n)?n:P;l!==null&&!w(l,s)&&console.error(H(`${l}`,"Progress"));const u=w(l,s)?l:null,m=h(u)?g(u,s):void 0;return v.jsx(O,{scope:c,value:u,max:s,children:v.jsx($.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":h(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":_(u,s),"data-value":u??void 0,"data-max":s,...p,ref:t})})});S.displayName=x;var N="ProgressIndicator",E=o.forwardRef((e,t)=>{const{__scopeProgress:c,...l}=e,n=U(N,c);return v.jsx($.div,{"data-state":_(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...l,ref:t})});E.displayName=N;function G(e,t){return`${Math.round(e/t*100)}%`}function _(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function h(e){return typeof e=="number"}function M(e){return h(e)&&!isNaN(e)&&e>0}function w(e,t){return h(e)&&!isNaN(e)&&e<=t&&e>=0}function T(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${P}\`.`}function H(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${P} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var j=S,X=E;const q=o.forwardRef(({className:e,value:t,...c},l)=>v.jsx(j,{ref:l,className:R("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...c,children:v.jsx(X,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));q.displayName=j.displayName;const b="https://psgc.gitlab.io/api",Y=()=>{const[e,t]=o.useState({provinces:[],citiesMunicipalities:[],barangays:[],selectedProvince:"",selectedCityMunicipality:"",selectedBarangay:"",loading:{provinces:!1,citiesMunicipalities:!1,barangays:!1},error:null}),c=o.useCallback(async()=>{t(r=>({...r,loading:{...r.loading,provinces:!0},error:null}));try{const r=await fetch(`${b}/provinces.json`);if(!r.ok)throw new Error(`Failed to fetch provinces: ${r.status}`);const a=await r.json();a.sort((i,d)=>i.name.localeCompare(d.name)),t(i=>({...i,provinces:a,loading:{...i.loading,provinces:!1}}))}catch(r){console.error("Error fetching provinces:",r),t(a=>({...a,loading:{...a.loading,provinces:!1},error:r instanceof Error?r.message:"Failed to fetch provinces"}))}},[]),l=o.useCallback(async r=>{if(r){t(a=>({...a,loading:{...a.loading,citiesMunicipalities:!0},error:null}));try{const a=await fetch(`${b}/cities-municipalities.json`);if(!a.ok)throw new Error(`Failed to fetch cities/municipalities: ${a.status}`);const d=(await a.json()).filter(f=>f.provinceCode===r);d.sort((f,y)=>f.name.localeCompare(y.name)),t(f=>({...f,citiesMunicipalities:d,loading:{...f.loading,citiesMunicipalities:!1}}))}catch(a){console.error("Error fetching cities/municipalities:",a),t(i=>({...i,loading:{...i.loading,citiesMunicipalities:!1},error:a instanceof Error?a.message:"Failed to fetch cities/municipalities"}))}}},[]),n=o.useCallback(async r=>{if(r){t(a=>({...a,loading:{...a.loading,barangays:!0},error:null}));try{const a=await fetch(`${b}/cities-municipalities/${r}/barangays.json`);if(!a.ok)throw new Error(`Failed to fetch barangays: ${a.status}`);const i=await a.json();i.sort((d,f)=>d.name.localeCompare(f.name)),t(d=>({...d,barangays:i,loading:{...d.loading,barangays:!1}}))}catch(a){console.error("Error fetching barangays:",a),t(i=>({...i,loading:{...i.loading,barangays:!1},error:a instanceof Error?a.message:"Failed to fetch barangays"}))}}},[]),g=o.useCallback(r=>{t(a=>({...a,selectedProvince:r,selectedCityMunicipality:"",selectedBarangay:"",citiesMunicipalities:[],barangays:[]})),r&&l(r)},[l]),p=o.useCallback(r=>{t(a=>({...a,selectedCityMunicipality:r,selectedBarangay:"",barangays:[]})),r&&n(r)},[n]),s=o.useCallback(r=>{t(a=>({...a,selectedBarangay:r}))},[]),u=o.useCallback(()=>{const r=e.provinces.find(d=>d.code===e.selectedProvince),a=e.citiesMunicipalities.find(d=>d.code===e.selectedCityMunicipality),i=e.barangays.find(d=>d.code===e.selectedBarangay);return{province:(r==null?void 0:r.name)||"",cityMunicipality:(a==null?void 0:a.name)||"",barangay:(i==null?void 0:i.name)||""}},[e.provinces,e.citiesMunicipalities,e.barangays,e.selectedProvince,e.selectedCityMunicipality,e.selectedBarangay]),m=o.useCallback(()=>{t(r=>({...r,selectedProvince:"",selectedCityMunicipality:"",selectedBarangay:"",citiesMunicipalities:[],barangays:[]}))},[]);return o.useEffect(()=>{c()},[c]),{provinces:e.provinces,citiesMunicipalities:e.citiesMunicipalities,barangays:e.barangays,selectedProvince:e.selectedProvince,selectedCityMunicipality:e.selectedCityMunicipality,selectedBarangay:e.selectedBarangay,loading:e.loading,error:e.error,handleProvinceChange:g,handleCityMunicipalityChange:p,handleBarangayChange:s,getSelectedLocationNames:u,resetSelections:m,refetchProvinces:c}};export{q as P,Q as U,Y as u};
