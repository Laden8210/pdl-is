import{m as F,j as e,L as q,$ as y}from"./app-BPxrKEyb.js";import{c as w,B as l}from"./button-CEMgu7CE.js";import{I as c}from"./input-CvRLkRAD.js";import{L as r}from"./label-BHAojcQv.js";import{S as d,a as n,b as o,c as m,d as h}from"./select-Dq-Ok0hR.js";import{C as p,a as x,b as u,d as j,c as f}from"./card-MY-iCpFz.js";import{T as g}from"./textarea-C2McMECy.js";import{A as P}from"./app-layout-B7fNkZnx.js";import{A as V}from"./arrow-left-DtrHvGfa.js";import"./index-D55dR1IO.js";import"./index-Bwm_JLZs.js";import"./index-xw3hog76.js";import"./index-B8miVs9F.js";import"./index-DXqzBNPn.js";import"./users-HviPfwPA.js";import"./user-DBhr3jVO.js";import"./scale-CeClP0FS.js";import"./eye-DJMTalI9.js";import"./circle-alert-BcedVOno.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A=w("Save",T);function ae({pdls:v,personnel:C,certificateTypes:N,selectedPdlId:b,selectedType:S}){const{data:t,setData:i,post:D,processing:_,errors:a}=F({certificate_type:S||"drug_clearing_status",pdl_id:b||"",issued_by:"",issue_date:new Date().toISOString().split("T")[0],valid_until:"",purpose:"For legal and official purposes",remarks:"",requested_by_name:"",location:"City of Koronadal"}),L=s=>{s.preventDefault(),D(route("certificates.store"))},k=s=>{switch(s){case"drug_clearing_status":return"Certifies that the PDL has been cleared of drug-related charges and maintained clean record during detention.";case"no_records":return"Certifies that this office has no records affecting the specified person.";case"good_standing":return"Certifies that the PDL has maintained good conduct and discipline.";case"release_clearance":return"Certifies that the PDL is cleared for release with no pending issues.";case"medical_clearance":return"Certifies that the PDL has passed medical examinations and is medically cleared.";case"disciplinary_clearance":return"Certifies that the PDL has no pending disciplinary actions.";default:return"Official certificate for legal and administrative purposes."}};return e.jsxs(P,{children:[e.jsx(q,{title:"Generate Certificate"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(y,{href:route("certificates.index"),children:e.jsxs(l,{variant:"outline",size:"sm",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Back to Certificates"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Generate Certificate"}),e.jsx("p",{className:"text-muted-foreground",children:"Create a new certificate for a PDL"})]})]})}),e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(p,{children:[e.jsxs(x,{children:[e.jsx(u,{children:"Certificate Details"}),e.jsx(j,{children:"Basic information about the certificate"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"certificate_type",children:"Certificate Type"}),e.jsxs(d,{value:t.certificate_type,onValueChange:s=>i("certificate_type",s),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select certificate type"})}),e.jsx(m,{children:Object.entries(N).map(([s,I])=>e.jsx(h,{value:s,children:I},s))})]}),a.certificate_type&&e.jsx("p",{className:"text-sm text-red-600",children:a.certificate_type}),e.jsx("p",{className:"text-sm text-muted-foreground",children:k(t.certificate_type)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"pdl_id",children:"PDL"}),e.jsxs(d,{value:t.pdl_id.toString(),onValueChange:s=>i("pdl_id",parseInt(s)),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select PDL"})}),e.jsx(m,{children:v.map(s=>e.jsxs(h,{value:s.id.toString(),children:[s.fname," ",s.lname," (ID: ",s.id,")"]},s.id))})]}),a.pdl_id&&e.jsx("p",{className:"text-sm text-red-600",children:a.pdl_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"issued_by",children:"Issued By"}),e.jsxs(d,{value:t.issued_by.toString(),onValueChange:s=>i("issued_by",parseInt(s)),children:[e.jsx(n,{children:e.jsx(o,{placeholder:"Select issuer"})}),e.jsx(m,{children:C.map(s=>e.jsxs(h,{value:s.id.toString(),children:[s.fname," ",s.lname," (",s.position,")"]},s.id))})]}),a.issued_by&&e.jsx("p",{className:"text-sm text-red-600",children:a.issued_by})]})]})]}),e.jsxs(p,{children:[e.jsxs(x,{children:[e.jsx(u,{children:"Dates and Validity"}),e.jsx(j,{children:"Issue date and validity period"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"issue_date",children:"Issue Date"}),e.jsx(c,{id:"issue_date",type:"date",value:t.issue_date,onChange:s=>i("issue_date",s.target.value)}),a.issue_date&&e.jsx("p",{className:"text-sm text-red-600",children:a.issue_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"valid_until",children:"Valid Until (Optional)"}),e.jsx(c,{id:"valid_until",type:"date",value:t.valid_until,onChange:s=>i("valid_until",s.target.value)}),a.valid_until&&e.jsx("p",{className:"text-sm text-red-600",children:a.valid_until}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave empty for certificates that don't expire"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"location",children:"Location"}),e.jsx(c,{id:"location",value:t.location,onChange:s=>i("location",s.target.value),placeholder:"City of Koronadal"}),a.location&&e.jsx("p",{className:"text-sm text-red-600",children:a.location})]})]})]})]}),e.jsxs(p,{children:[e.jsxs(x,{children:[e.jsx(u,{children:"Additional Information"}),e.jsx(j,{children:"Purpose, remarks, and requester details"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"purpose",children:"Purpose"}),e.jsx(g,{id:"purpose",value:t.purpose,onChange:s=>i("purpose",s.target.value),placeholder:"For legal and official purposes",rows:3}),a.purpose&&e.jsx("p",{className:"text-sm text-red-600",children:a.purpose})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"requested_by_name",children:"Requested By"}),e.jsx(c,{id:"requested_by_name",value:t.requested_by_name,onChange:s=>i("requested_by_name",s.target.value),placeholder:"Name of person requesting the certificate"}),a.requested_by_name&&e.jsx("p",{className:"text-sm text-red-600",children:a.requested_by_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"remarks",children:"Remarks (Optional)"}),e.jsx(g,{id:"remarks",value:t.remarks,onChange:s=>i("remarks",s.target.value),placeholder:"Additional notes or remarks",rows:3}),a.remarks&&e.jsx("p",{className:"text-sm text-red-600",children:a.remarks})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[e.jsx(y,{href:route("certificates.index"),children:e.jsx(l,{type:"button",variant:"outline",children:"Cancel"})}),e.jsxs(l,{type:"submit",disabled:_,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),_?"Generating...":"Generate Certificate"]})]})]})]})]})}export{ae as default};
