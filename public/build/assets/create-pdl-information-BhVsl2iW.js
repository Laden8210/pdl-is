import{r as j,m as Ls,K as Is,j as e,L as Vs}from"./app-BPxrKEyb.js";import{A as Gs,P as T,e as E,f as B,X as L}from"./app-layout-B7fNkZnx.js";import{A as zs,b as Ws,a as Us}from"./alert-Dy7BgFLC.js";import{B as me}from"./badge-CwiTgdPp.js";import{B as x,a as he}from"./button-CEMgu7CE.js";import{C as I,a as V,b as G,c as z}from"./card-MY-iCpFz.js";import{C as W,a as U,b as H,c as J,d as X,e as $,f as K}from"./command-o7QOI2e0.js";import{I as g}from"./input-CvRLkRAD.js";import{L as n}from"./label-BHAojcQv.js";import{u as Hs,P as Js,U as ns}from"./usePSGCLocation-DIedu0jB.js";import{R as Xs,a as cs}from"./radio-group-BSwB1R0I.js";import{S as F,a as D,b as M,c as O,d as p}from"./select-Dq-Ok0hR.js";import{S as xe}from"./separator-7kGal8Vl.js";import{T as A}from"./textarea-C2McMECy.js";import{C as Y}from"./index-DXqzBNPn.js";import{E as ve}from"./eye-DJMTalI9.js";import{F as q}from"./users-HviPfwPA.js";import{L as ye}from"./loader-circle-CXxVMVM4.js";import{I as ds}from"./image-DQVBRN7M.js";import{f as os}from"./format-B3rlCQGj.js";import"./index-Bwm_JLZs.js";import"./user-DBhr3jVO.js";import"./scale-CeClP0FS.js";import"./circle-alert-BcedVOno.js";import"./index-D55dR1IO.js";import"./index-B8miVs9F.js";import"./index-xw3hog76.js";const $s=["Commitment Order","Detention Order","Transfer Order","Release Order","Bail Order","Arrest Warrant","Search Warrant","Subpoena","Court Order","Administrative Order","Medical Order","Visitation Order","Classification Order","Disciplinary Order","Work Assignment Order","Educational Order","Rehabilitation Order","Parole Order","Probation Order","Appeal Order","Motion Order","Hearing Order","Trial Order","Sentencing Order","Execution Order","Others"],Ks=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}],Ys=[{title:"Create PDL Management",href:"/pdl-management"}],Q=[{id:1,title:"Personal Information",description:"Basic personal details and address"},{id:2,title:"Court Order Details",description:"Court order and legal documentation"},{id:3,title:"Case Information",description:"Criminal case details and status"},{id:4,title:"Medical Records",description:"Health and medical information"},{id:5,title:"Physical Characteristics",description:"Physical description and identification marks"},{id:6,title:"Review & Submit",description:"Review all information before submission"}],qs=["Slim","Medium","Heavy","Athletic","Stocky","Muscular"],Qs=["Fair","Light","Medium","Olive","Tan","Dark","Very Dark"],Zs=["Black","Brown","Blonde","Red","Auburn","Gray","White","Bald"],ea=["Brown","Black","Blue","Green","Hazel","Gray","Amber"];function Fa(){var Ke;const[y,Z]=j.useState(1),[o,ee]=j.useState(0),[d,se]=j.useState(0),[m,ae]=j.useState(0),[Ne,_e]=j.useState(!1),[ms,ue]=j.useState([]),[re,le]=j.useState(null),[f,_]=j.useState([]),[v,C]=j.useState([]),[Ce,te]=j.useState(null),[sa,be]=j.useState(!1),[we,ne]=j.useState(!1),[Se,Pe]=j.useState(!1),[ke,Fe]=j.useState(!1),[De,Me]=j.useState(!1),[Oe,Re]=j.useState(!1),{provinces:Ae,citiesMunicipalities:Te,barangays:Ee,selectedProvince:ce,selectedCityMunicipality:de,selectedBarangay:hs,loading:b,error:Be,handleProvinceChange:xs,handleCityMunicipalityChange:us,handleBarangayChange:ps,getSelectedLocationNames:js,resetSelections:Le}=Hs(),pe=(r,t)=>{if(r==="province"){const i=Ae.find(l=>l.code===t);xs(t),h("province",(i==null?void 0:i.name)||""),h("city",""),h("brgy","")}else if(r==="city"){const i=Te.find(l=>l.code===t);us(t),h("city",(i==null?void 0:i.name)||""),h("brgy","")}else if(r==="barangay"){const i=Ee.find(l=>l.code===t);ps(t),h("brgy",(i==null?void 0:i.name)||"")}},Ie=r=>{const t=new FileReader;if(r.type.startsWith("image/"))t.onload=i=>{var u;const l=[...f];l[d]=(u=i.target)==null?void 0:u.result,_(l)},t.readAsDataURL(r);else if(r.type==="application/pdf")t.onload=i=>{var u;const l=[...f];l[d]=(u=i.target)==null?void 0:u.result,_(l)},t.readAsDataURL(r);else if(r.type==="text/plain")t.onload=i=>{var u;const l=[...f];l[d]=(u=i.target)==null?void 0:u.result,_(l)},t.readAsText(r);else if(r.type.includes("document")||r.name.endsWith(".doc")||r.name.endsWith(".docx")){const i=[...f];i[d]="document-file",_(i)}else{const i=[...f];i[d]=null,_(i)}},Ve=r=>{const t=new FileReader;if(r.type.startsWith("image/"))t.onload=i=>{var u;const l=[...v];l[m]=(u=i.target)==null?void 0:u.result,C(l)},t.readAsDataURL(r);else if(r.type==="application/pdf")t.onload=i=>{var u;const l=[...v];l[m]=(u=i.target)==null?void 0:u.result,C(l)},t.readAsDataURL(r);else if(r.type==="text/plain")t.onload=i=>{var u;const l=[...v];l[m]=(u=i.target)==null?void 0:u.result,C(l)},t.readAsText(r);else if(r.type.includes("document")||r.name.endsWith(".doc")||r.name.endsWith(".docx")){const i=[...v];i[m]="document-file",C(i)}else{const i=[...v];i[m]=null,C(i)}},gs=()=>{const r=a.cases.length;h("cases",[...a.cases,{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}]),ee(r)},fs=()=>{h("court_orders",[...a.court_orders,{order_type:"",order_date:"",received_date:"",document_type:null,court_id:"",cod_remarks:""}]),se(a.court_orders.length)},vs=r=>{if(a.court_orders.length<=1)return;const t=a.court_orders.filter((i,l)=>l!==r);h("court_orders",t),se(Math.min(d,t.length-1))},S=(r,t,i)=>{if(t==="court_id"&&i===""){console.log("Prevented empty court_id");return}const l=[...a.court_orders];l[r]={...l[r],[t]:i},h("court_orders",l),console.log("Court order updated:",l[r])},ys=r=>{var t,i,l;!((t=a.court_orders[r])!=null&&t.court_id)&&((l=(i=ie.current)==null?void 0:i.court_orders[r])!=null&&l.court_id)&&(h("court_orders",ie.current.court_orders),console.log("Restored court order data from backup"))};j.useEffect(()=>{d!==void 0&&ys(d)},[d]);const Ns=()=>{h("medical_records",[...a.medical_records,{complaint:"",date:new Date().toISOString().split("T")[0],prognosis:"",prescription:"",findings:"",medical_file:null}]),ae(a.medical_records.length)},_s=r=>{if(a.medical_records.length<=1)return;const t=a.medical_records.filter((i,l)=>l!==r);h("medical_records",t),ae(Math.min(m,t.length-1))},R=(r,t,i)=>{const l=[...a.medical_records];l[r]={...l[r],[t]:i},h("medical_records",l)},Cs=r=>{if(a.cases.length<=1)return;const t=a.cases.filter((i,l)=>l!==r);h("cases",t),ee(Math.min(o,t.length-1))},w=(r,t,i)=>{if((t==="case_status"||t==="crime_committed")&&i===""){console.log(`Prevented empty ${t}`);return}const l=[...a.cases];l[r]={...l[r],[t]:i},h("cases",l)},bs=r=>{var t,i,l;if(!((t=a.cases[r])!=null&&t.case_status)&&((l=(i=ie.current)==null?void 0:i.cases[r])!=null&&l.case_status)){const u=[...a.cases];u[r]=ie.current.cases[r],h("cases",u),console.log("Restored case data from backup")}};j.useEffect(()=>{o!==void 0&&bs(o)},[o]);const ws=r=>{var i;const t=(i=r.target.files)==null?void 0:i[0];t&&(ue([...ms,t]),R(m,"medical_file",t),Ve(t))},Ss=r=>{var i;const t=(i=r.target.files)==null?void 0:i[0];t&&(S(d,"document_type",t),Ie(t))},Ps=r=>{var i;const t=(i=r.target.files)==null?void 0:i[0];t&&(le(t),h("mugshot",t),Ge(t))},Ge=r=>{const t=new FileReader;t.onload=i=>{var l;te((l=i.target)==null?void 0:l.result)},t.readAsDataURL(r)},ks=()=>{le(null),h("mugshot",null),te(null)},ze=r=>r.type.startsWith("image/")?e.jsx(ds,{className:"h-4 w-4"}):r.type==="application/pdf"?e.jsx(q,{className:"h-4 w-4 text-red-500"}):r.type==="text/plain"?e.jsx(q,{className:"h-4 w-4 text-blue-500"}):r.type.includes("document")||r.name.endsWith(".doc")||r.name.endsWith(".docx")?e.jsx(q,{className:"h-4 w-4 text-green-500"}):e.jsx(q,{className:"h-4 w-4"}),oe=r=>{if(r===0)return"0 Bytes";const t=1024,i=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(r)/Math.log(t));return parseFloat((r/Math.pow(t,l)).toFixed(2))+" "+i[l]},{data:a,setData:h,post:Fs,processing:je,reset:We}=Ls({fname:"",lname:"",mname:"",alias:"",suffix:"",birthdate:"",age:"",gender:"",ethnic_group:"",civil_status:"",brgy:"",city:"",province:"",court_orders:[{order_type:"",order_date:"",received_date:"",document_type:null,court_id:"",cod_remarks:""}],medical_records:[{complaint:"",date:new Date().toISOString().split("T")[0],prognosis:"",prescription:"",findings:"",medical_file:null}],height:0,weight:0,build:"",complexion:"",hair_color:"",eye_color:"",identification_marks:"",mark_location:"",pc_remark:"",cases:[{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}],mugshot:null}),ie=j.useRef(a);j.useEffect(()=>{ie.current=a},[a]);const{props:Ue}=Is(),{auth:ge}=Ue,{courts:Ds}=Ue,[He,fe]=j.useState(void 0),Ms=r=>{if(fe(r),r){const t=os(r,"yyyy-MM-dd"),i=new Date().getFullYear()-r.getFullYear();h("birthdate",t),h("age",i.toString())}},N=r=>{const t=r.target.name,i=r.target.type==="number"?parseFloat(r.target.value):r.target.value;h(t,i)},P=(r,t)=>{h(i=>({...i,[r]:t}))},Os=r=>{r.preventDefault(),h("mugshot",re),Fs(route("pdl-management.personal-information.create"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{We(),fe(void 0),ee(0),se(0),ae(0),Z(1),ue([]),le(null),Le(),_([]),C([]),te(null),be(!1),ne(!1)}})},Rs=()=>{y<Q.length&&Z(y+1)},As=()=>{y>1&&Z(y-1)},Ts=r=>{Z(r)},Je=r=>{switch(r){case"low":return"secondary";case"medium":return"default";case"high":return"destructive";case"maximum":return"destructive";default:return"default"}},Xe=r=>{switch(r){case"open":return"destructive";case"closed":return"secondary";case"pending":return"default";default:return"default"}},Es=()=>{var r,t,i,l,u,Ye,qe,Qe,Ze,es,ss,as,rs,ts,is,ls;switch(y){case 1:return e.jsxs(I,{children:[e.jsx(V,{children:e.jsx(G,{children:"Personal Information"})}),e.jsxs(z,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"fname",name:"fname",value:a.fname,onChange:N,placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"lname",name:"lname",value:a.lname,onChange:N,placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"mname",children:"Middle Name"}),e.jsx(g,{id:"mname",name:"mname",value:a.mname,onChange:N,placeholder:"Enter middle name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"alias",children:["Alias",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"alias",name:"alias",value:a.alias,onChange:N,placeholder:"Enter alias (if any)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"suffix",children:"Suffix"}),e.jsx(g,{id:"suffix",name:"suffix",value:a.suffix,onChange:N,placeholder:"Enter suffix (if any)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"date",value:He?os(He,"yyyy-MM-dd"):"",onChange:s=>Ms(s.target.value?new Date(s.target.value):void 0)}),a.age&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Age: ",a.age," years"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:a.gender,onValueChange:s=>h("gender",s),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select gender"})}),e.jsxs(O,{children:[e.jsx(p,{value:"Male",children:"Male"}),e.jsx(p,{value:"Female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"ethnic_group",children:["Ethnic Group ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"ethnic_group",name:"ethnic_group",value:a.ethnic_group,onChange:N,placeholder:"Enter ethnic group"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{children:["Civil Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:a.civil_status,onValueChange:s=>h("civil_status",s),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select civil status"})}),e.jsxs(O,{children:[e.jsx(p,{value:"Single",children:"Single"}),e.jsx(p,{value:"Married",children:"Married"}),e.jsx(p,{value:"Widowed",children:"Widowed"}),e.jsx(p,{value:"Annulment",children:"Annulment"})]})]})]})]}),e.jsx(xe,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Address Information"}),Be&&e.jsxs(zs,{variant:"destructive",className:"mb-4",children:[e.jsx(Ws,{children:"Location Service Error"}),e.jsxs(Us,{children:[Be,". Please refresh the page or try again later."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"province",children:["Province",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:ce,onValueChange:s=>pe("province",s),disabled:b.provinces,children:[e.jsx(D,{children:e.jsx(M,{placeholder:b.provinces?"Loading provinces...":"Select province"})}),e.jsx(O,{children:Ae.map(s=>e.jsx(p,{value:s.code,children:s.name},s.code))})]}),b.provinces&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(ye,{className:"h-3 w-3 animate-spin"}),"Loading provinces..."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"city",children:["City/Municipality",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:de,onValueChange:s=>pe("city",s),disabled:!ce||b.citiesMunicipalities,children:[e.jsx(D,{children:e.jsx(M,{placeholder:ce?b.citiesMunicipalities?"Loading cities/municipalities...":"Select city/municipality":"Select province first"})}),e.jsx(O,{children:Te.map(s=>e.jsx(p,{value:s.code,children:s.name},s.code))})]}),b.citiesMunicipalities&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(ye,{className:"h-3 w-3 animate-spin"}),"Loading cities/municipalities..."]}),!ce&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"Please select a province first"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"brgy",children:["Barangay",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:hs,onValueChange:s=>pe("barangay",s),disabled:!de||b.barangays,children:[e.jsx(D,{children:e.jsx(M,{placeholder:de?b.barangays?"Loading barangays...":"Select barangay":"Select city/municipality first"})}),e.jsx(O,{children:Ee.map(s=>e.jsx(p,{value:s.code,children:s.name},s.code))})]}),b.barangays&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(ye,{className:"h-3 w-3 animate-spin"}),"Loading barangays..."]}),!de&&e.jsx("div",{className:"text-xs text-muted-foreground",children:"Please select a city/municipality first"})]})]})]}),e.jsx(xe,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Mugshot Photo"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-6 text-center transition-colors hover:border-gray-400",children:[e.jsx("input",{type:"file",id:"mugshot",accept:"image/jpeg,image/jpg,image/png",onChange:Ps,className:"hidden"}),e.jsxs("label",{htmlFor:"mugshot",className:"cursor-pointer",children:[e.jsx(ns,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload mugshot photo"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Supports: JPG, JPEG, PNG (Max 5MB)"})]})]})]}),re&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Uploaded Mugshot"}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ds,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:re.name}),e.jsx("p",{className:"text-xs text-gray-500",children:oe(re.size)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ge(re),className:"text-blue-500 hover:text-blue-700",title:"Preview mugshot",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:ks,className:"text-red-500 hover:text-red-700",children:e.jsx(L,{className:"h-4 w-4"})})]})]})]}),Ce&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(n,{children:"Mugshot Preview"}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Ce,alt:"Mugshot preview",className:"max-h-96 w-full rounded-lg border object-contain"}),e.jsx(x,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>te(null),children:e.jsx(L,{className:"h-4 w-4"})})]})]})]})]})]})]});case 2:return e.jsxs(I,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:"Court Order Information"}),e.jsx(x,{variant:"outline",size:"sm",type:"button",onClick:fs,children:"Add New Court Order"})]})}),e.jsxs(z,{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:a.court_orders.map((s,c)=>e.jsxs(x,{variant:d===c?"default":"outline",size:"sm",type:"button",onClick:()=>se(c),className:"relative",children:["Court Order ",c+1,a.court_orders.length>1&&e.jsx("button",{onClick:k=>{k.stopPropagation(),vs(c)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:"×"})]},c))}),a.court_orders.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"order_type",children:["Order Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{open:we,onOpenChange:ne,children:[e.jsx(E,{asChild:!0,children:e.jsxs(x,{variant:"outline",role:"combobox","aria-expanded":we,className:"w-full justify-between",children:[a.court_orders[d].order_type||"Select or type order type...",e.jsx(W,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(B,{className:"w-full p-0",align:"start",children:e.jsxs(U,{children:[e.jsx(H,{placeholder:"Search order types or type custom...",value:a.court_orders[d].order_type,onValueChange:s=>S(d,"order_type",s)}),e.jsxs(J,{children:[e.jsx(X,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No order type found. Press Enter to add "',a.court_orders[d].order_type,'" as custom order type.']})}),e.jsx($,{children:$s.map(s=>e.jsxs(K,{value:s,onSelect:c=>{S(d,"order_type",c),ne(!1)},children:[e.jsx(Y,{className:`mr-2 h-4 w-4 ${a.court_orders[d].order_type===s?"opacity-100":"opacity-0"}`}),s]},s))})]})]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select from common order types or type a custom order type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{children:["Order Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"date",value:a.court_orders[d].order_date,onChange:s=>S(d,"order_date",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{children:["Received Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"date",value:a.court_orders[d].received_date,onChange:s=>S(d,"received_date",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"document_type",children:["Upload Document ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"file",id:"document_type",name:"document_type",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:Ss,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"}),f[d]&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(n,{children:"Document Preview"}),e.jsxs("div",{className:"relative",children:[f[d]==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:(r=a.court_orders[d].document_type)==null?void 0:r.name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-400",children:oe(((t=a.court_orders[d].document_type)==null?void 0:t.size)||0)})]})}):f[d].startsWith("data:image/")?e.jsx("img",{src:f[d],alt:"Document preview",className:"max-h-64 w-full rounded-lg border object-contain"}):f[d].startsWith("data:application/pdf")?e.jsx("iframe",{src:f[d],className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:f[d]})}),e.jsx(x,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{const s=[...f];s[d]=null,_(s)},children:e.jsx(L,{className:"h-4 w-4"})})]})]}),a.court_orders[d].document_type&&e.jsx("div",{className:"mt-2 rounded-lg bg-gray-50 p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[ze(a.court_orders[d].document_type),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:a.court_orders[d].document_type.name}),e.jsx("p",{className:"text-xs text-gray-500",children:oe(a.court_orders[d].document_type.size)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>a.court_orders[d].document_type&&Ie(a.court_orders[d].document_type),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>{S(d,"document_type",null);const s=[...f];s[d]=null,_(s)},className:"text-red-500 hover:text-red-700",children:e.jsx(L,{className:"h-4 w-4"})})]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"court_branch",children:["Court Branch ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:a.court_orders[d].court_id,onValueChange:s=>S(d,"court_id",s),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select court branch"})}),e.jsx(O,{children:Ds.map(s=>e.jsxs(p,{value:s.court_id.toString(),children:[s.branch_code," - ",s.court_type]},s.court_id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"cod_remarks",children:"Remarks"}),e.jsx(A,{id:"cod_remarks",name:"cod_remarks",value:a.court_orders[d].cod_remarks,onChange:s=>S(d,"cod_remarks",s.target.value),rows:3,placeholder:"Enter any additional remarks..."})]})]})]})]});case 3:return e.jsxs(I,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["Case Information",((i=a.cases[o])==null?void 0:i.case_status)&&e.jsx(me,{variant:Xe(a.cases[o].case_status),children:a.cases[o].case_status.charAt(0).toUpperCase()+a.cases[o].case_status.slice(1)}),((l=a.cases[o])==null?void 0:l.security_classification)&&e.jsxs(me,{variant:Je(a.cases[o].security_classification),children:[a.cases[o].security_classification.charAt(0).toUpperCase()+a.cases[o].security_classification.slice(1)," ","Security"]})]}),e.jsx(x,{variant:"outline",size:"sm",type:"button",onClick:gs,children:"Add New Case"})]})}),e.jsxs(z,{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:a.cases.map((s,c)=>e.jsxs(x,{variant:o===c?"default":"outline",size:"sm",type:"button",onClick:()=>ee(c),className:"relative",children:["Case ",c+1,a.cases.length>1&&e.jsx("button",{onClick:k=>{k.stopPropagation(),Cs(c)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:"×"})]},c))}),a.cases.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"case_number",children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"case_number",value:((u=a.cases[o])==null?void 0:u.case_number)||"",onChange:s=>w(o,"case_number",s.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"crime_committed",children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{open:Ne,onOpenChange:_e,children:[e.jsx(E,{asChild:!0,children:e.jsxs(x,{variant:"outline",role:"combobox","aria-expanded":Ne,className:"w-full justify-between",children:[((Ye=a.cases[o])==null?void 0:Ye.crime_committed)||"Select or type crime committed...",e.jsx(W,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(B,{className:"w-full p-0",align:"start",children:e.jsxs(U,{children:[e.jsx(H,{placeholder:"Search crimes or type custom...",value:((qe=a.cases[o])==null?void 0:qe.crime_committed)||"",onValueChange:s=>w(o,"crime_committed",s)}),e.jsxs(J,{children:[e.jsx(X,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No crime found. Press Enter to add "',((Qe=a.cases[o])==null?void 0:Qe.crime_committed)||"",'" as custom crime.']})}),Ks.map(s=>e.jsx($,{heading:s.category,children:s.cases.map(c=>{var k;return e.jsxs(K,{value:c,onSelect:Bs=>{w(o,"crime_committed",Bs),_e(!1)},children:[e.jsx(Y,{className:`mr-2 h-4 w-4 ${((k=a.cases[o])==null?void 0:k.crime_committed)===c?"opacity-100":"opacity-0"}`}),c]},c)})},s.category))]})]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select from common crimes or type a custom crime description"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"date_committed",children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"date",value:((Ze=a.cases[o])==null?void 0:Ze.date_committed)||"",onChange:s=>w(o,"date_committed",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"time_committed",children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"time",value:((es=a.cases[o])==null?void 0:es.time_committed)||"",onChange:s=>w(o,"time_committed",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"case_status",children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:((ss=a.cases[o])==null?void 0:ss.case_status)||"",onValueChange:s=>w(o,"case_status",s),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select status"})}),e.jsxs(O,{children:[e.jsx(p,{value:"on_trial",children:"On Trial"}),e.jsx(p,{value:"convicted",children:"Convicted"}),e.jsx(p,{value:"deceased",children:"Deceased"}),e.jsx(p,{value:"bonded",children:"Bonded"}),e.jsx(p,{value:"transferred",children:"Transferred"}),e.jsx(p,{value:"served_sentence",children:"Served Sentence"}),e.jsx(p,{value:"dismissed",children:"Dismissed"}),((as=ge==null?void 0:ge.user)==null?void 0:as.position)==="law-enforcement"&&e.jsx(p,{value:"arraignment",children:"Arraignment"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"security_classification",children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(F,{value:((rs=a.cases[o])==null?void 0:rs.security_classification)||"",onValueChange:s=>w(o,"security_classification",s),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select classification"})}),e.jsxs(O,{children:[e.jsx(p,{value:"low",children:"Low"}),e.jsx(p,{value:"medium",children:"Medium"}),e.jsx(p,{value:"high",children:"High"}),e.jsx(p,{value:"maximum",children:"Maximum"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Drug Related Case"}),e.jsxs(Xs,{value:((is=(ts=a.cases[o])==null?void 0:ts.drug_related)==null?void 0:is.toString())||"false",onValueChange:s=>w(o,"drug_related",s==="true"),className:"flex flex-row space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cs,{value:"true",id:`drug_related_yes_${o}`}),e.jsx(n,{htmlFor:`drug_related_yes_${o}`,className:"text-sm font-normal",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cs,{value:"false",id:`drug_related_no_${o}`}),e.jsx(n,{htmlFor:`drug_related_no_${o}`,className:"text-sm font-normal",children:"No"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Indicate if this case is related to drug offenses"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"case_remarks",children:"Case Remarks"}),e.jsx(A,{id:"case_remarks",value:((ls=a.cases[o])==null?void 0:ls.case_remarks)||"",onChange:s=>w(o,"case_remarks",s.target.value),rows:3,placeholder:"Enter case-related remarks..."})]})]})]})]});case 4:return e.jsxs(I,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:"Medical Records"}),e.jsx(x,{variant:"outline",size:"sm",type:"button",onClick:Ns,children:"Add New Medical Record"})]})}),e.jsxs(z,{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto py-2",children:a.medical_records.map((s,c)=>e.jsxs(x,{variant:m===c?"default":"outline",size:"sm",type:"button",onClick:()=>ae(c),className:"relative",children:["Medical Record ",c+1,a.medical_records.length>1&&e.jsx("button",{onClick:k=>{k.stopPropagation(),_s(c)},className:"absolute -top-2 -right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:"×"})]},c))}),a.medical_records.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"date",children:["Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"date",id:"date",value:a.medical_records[m].date,onChange:s=>R(m,"date",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"complaint",children:["Complaint ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"complaint",name:"complaint",value:a.medical_records[m].complaint,onChange:s=>R(m,"complaint",s.target.value),rows:3,placeholder:"Describe the medical complaint or symptoms..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"findings",children:["Medical Findings ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"findings",name:"findings",value:a.medical_records[m].findings,onChange:s=>R(m,"findings",s.target.value),rows:3,placeholder:"Enter medical findings and observations..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"prognosis",children:["Prognosis ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"prognosis",name:"prognosis",value:a.medical_records[m].prognosis,onChange:s=>R(m,"prognosis",s.target.value),rows:3,placeholder:"Enter medical prognosis (e.g., Good prognosis with treatment, Poor prognosis due to complications, etc.)"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Specify prognosis details in parentheses for clarity"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"prescription",children:["Prescription ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(A,{id:"prescription",name:"prescription",value:a.medical_records[m].prescription,onChange:s=>R(m,"prescription",s.target.value),rows:3,placeholder:"Enter prescribed medications and treatments..."})]})]}),e.jsx(xe,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium",children:["Medical Documents & Images",e.jsx("span",{className:"text-red-500",children:" *"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-6 text-center transition-colors hover:border-gray-400",children:[e.jsx("input",{type:"file",id:"medical-file",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:ws,className:"hidden"}),e.jsxs("label",{htmlFor:"medical-file",className:"cursor-pointer",children:[e.jsx(ns,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload medical document"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Supports: Images (JPG, PNG, GIF), PDF, DOC, DOCX, TXT"})]})]})]}),a.medical_records[m].medical_file&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Uploaded File"}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[ze(a.medical_records[m].medical_file),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.medical_records[m].medical_file.name}),e.jsx("p",{className:"text-xs text-gray-500",children:oe(a.medical_records[m].medical_file.size)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>a.medical_records[m].medical_file&&Ve(a.medical_records[m].medical_file),className:"text-blue-500 hover:text-blue-700",title:"Preview file",children:e.jsx(ve,{className:"h-4 w-4"})}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>{R(m,"medical_file",null);const s=[...v];s[m]=null,C(s)},className:"text-red-500 hover:text-red-700",children:e.jsx(L,{className:"h-4 w-4"})})]})]})]}),v[m]&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(n,{children:"File Preview"}),e.jsxs("div",{className:"relative",children:[v[m]==="document-file"?e.jsx("div",{className:"flex h-64 w-full items-center justify-center rounded-lg border bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"mx-auto h-16 w-16 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Document file - Preview not available"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG, TXT"})]})}):v[m].startsWith("data:image/")?e.jsx("img",{src:v[m],alt:"File preview",className:"max-h-64 w-full rounded-lg border object-contain"}):v[m].startsWith("data:application/pdf")?e.jsx("iframe",{src:v[m],className:"h-64 w-full rounded-lg border",title:"PDF Preview"}):e.jsx("div",{className:"h-64 w-full rounded-lg border bg-white p-4",children:e.jsx("pre",{className:"h-full w-full overflow-auto text-sm whitespace-pre-wrap text-gray-900",children:v[m]})}),e.jsx(x,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>{const s=[...v];s[m]=null,C(s)},children:e.jsx(L,{className:"h-4 w-4"})})]})]})]})]})]})]})]});case 5:return e.jsxs(I,{children:[e.jsx(V,{children:e.jsx(G,{className:"flex items-center gap-2",children:"Physical Characteristics"})}),e.jsxs(z,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"height",children:["Height (cm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"number",id:"height",name:"height",min:"100",max:"250",value:a.height,onChange:N,placeholder:"170"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"weight",children:["Weight (kg) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{type:"number",id:"weight",name:"weight",min:"30",max:"300",value:a.weight,onChange:N,placeholder:"70"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"build",children:["Body Build ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{open:Se,onOpenChange:Pe,children:[e.jsx(E,{asChild:!0,children:e.jsxs(x,{variant:"outline",role:"combobox","aria-expanded":Se,className:"w-full justify-between",children:[a.build||"Select body build...",e.jsx(W,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(B,{className:"w-full p-0",align:"start",children:e.jsxs(U,{children:[e.jsx(H,{placeholder:"Search body builds...",value:a.build||"",onValueChange:s=>P("build",s)}),e.jsxs(J,{children:[e.jsx(X,{children:"No body build found."}),e.jsx($,{children:qs.map(s=>e.jsxs(K,{value:s,onSelect:c=>{P("build",c),Pe(!1)},children:[e.jsx(Y,{className:he("mr-2 h-4 w-4",a.build===s?"opacity-100":"opacity-0")}),s]},s))})]})]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select the PDL's body build type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"complexion",children:["Complexion ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{open:ke,onOpenChange:Fe,children:[e.jsx(E,{asChild:!0,children:e.jsxs(x,{variant:"outline",role:"combobox","aria-expanded":ke,className:"w-full justify-between",children:[a.complexion||"Select complexion...",e.jsx(W,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(B,{className:"w-full p-0",align:"start",children:e.jsxs(U,{children:[e.jsx(H,{placeholder:"Search complexions...",value:a.complexion||"",onValueChange:s=>P("complexion",s)}),e.jsxs(J,{children:[e.jsx(X,{children:"No complexion found."}),e.jsx($,{children:Qs.map(s=>e.jsxs(K,{value:s,onSelect:c=>{P("complexion",c),Fe(!1)},children:[e.jsx(Y,{className:he("mr-2 h-4 w-4",a.complexion===s?"opacity-100":"opacity-0")}),s]},s))})]})]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select the PDL's skin complexion"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"hair_color",children:["Hair Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{open:De,onOpenChange:Me,children:[e.jsx(E,{asChild:!0,children:e.jsxs(x,{variant:"outline",role:"combobox","aria-expanded":De,className:"w-full justify-between",children:[a.hair_color||"Select hair color...",e.jsx(W,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(B,{className:"w-full p-0",align:"start",children:e.jsxs(U,{children:[e.jsx(H,{placeholder:"Search hair colors...",value:a.hair_color||"",onValueChange:s=>P("hair_color",s)}),e.jsxs(J,{children:[e.jsx(X,{children:"No hair color found."}),e.jsx($,{children:Zs.map(s=>e.jsxs(K,{value:s,onSelect:c=>{P("hair_color",c),Me(!1)},children:[e.jsx(Y,{className:he("mr-2 h-4 w-4",a.hair_color===s?"opacity-100":"opacity-0")}),s]},s))})]})]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select the PDL's hair color"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"eye_color",children:["Eye Color ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(T,{open:Oe,onOpenChange:Re,children:[e.jsx(E,{asChild:!0,children:e.jsxs(x,{variant:"outline",role:"combobox","aria-expanded":Oe,className:"w-full justify-between",children:[a.eye_color||"Select eye color...",e.jsx(W,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(B,{className:"w-full p-0",align:"start",children:e.jsxs(U,{children:[e.jsx(H,{placeholder:"Search eye colors...",value:a.eye_color||"",onValueChange:s=>P("eye_color",s)}),e.jsxs(J,{children:[e.jsx(X,{children:"No eye color found."}),e.jsx($,{children:ea.map(s=>e.jsxs(K,{value:s,onSelect:c=>{P("eye_color",c),Re(!1)},children:[e.jsx(Y,{className:he("mr-2 h-4 w-4",a.eye_color===s?"opacity-100":"opacity-0")}),s]},s))})]})]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select the PDL's eye color"})]})]}),e.jsx(xe,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Identification Marks"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"identification_marks",children:["Identification Marks ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"identification_marks",name:"identification_marks",value:a.identification_marks,onChange:N,placeholder:"e.g., Scar, Tattoo, Birthmark"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"mark_location",children:["Mark Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"mark_location",name:"mark_location",value:a.mark_location,onChange:N,placeholder:"e.g., Left arm, Right cheek"})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(n,{htmlFor:"pc_remark",children:"Physical Characteristics Remarks"}),e.jsx(A,{id:"pc_remark",name:"pc_remark",value:a.pc_remark,onChange:N,rows:3,placeholder:"Enter any additional physical characteristic remarks..."})]})]})]})]})]});case 6:return e.jsxs(I,{children:[e.jsx(V,{children:e.jsx(G,{children:"Review & Submit"})}),e.jsx(z,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",a.fname," ",a.lname]}),a.alias&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Alias:"})," ",a.alias]}),a.age&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Age:"})," ",a.age," years"]}),a.gender&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",a.gender]}),a.civil_status&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Civil Status:"})," ",a.civil_status]}),(()=>{const s=js(),c=[s.barangay,s.cityMunicipality,s.province].filter(Boolean);return c.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Address:"})," ",c.join(", ")]})})()]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Court Orders (",a.court_orders.length,")"]}),e.jsx("div",{className:"space-y-3",children:a.court_orders.map((s,c)=>e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"mb-2 flex items-center gap-2",children:e.jsxs("span",{className:"font-medium",children:["Court Order ",c+1]})}),e.jsxs("div",{className:"space-y-1 text-sm",children:[s.order_type&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Type:"})," ",s.order_type]}),s.court_id&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Court Branch:"})," ",s.court_id]}),s.order_date&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Order Date:"})," ",s.order_date]}),s.received_date&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Received Date:"})," ",s.received_date]})]})]},c))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Medical Records (",a.medical_records.length,")"]}),e.jsx("div",{className:"space-y-3",children:a.medical_records.map((s,c)=>e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsx("div",{className:"mb-2 flex items-center gap-2",children:e.jsxs("span",{className:"font-medium",children:["Medical Record ",c+1]})}),e.jsxs("div",{className:"space-y-1 text-sm",children:[s.date&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",s.date]}),s.complaint&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Complaint:"})," ",s.complaint]}),s.findings&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Findings:"})," ",s.findings]}),s.prognosis&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Prognosis:"})," ",s.prognosis]})]})]},c))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Cases (",a.cases.length,")"]}),e.jsx("div",{className:"space-y-3",children:a.cases.map((s,c)=>e.jsxs("div",{className:"rounded-lg border p-3",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["Case ",c+1]}),e.jsx(me,{variant:Xe(s.case_status),children:s.case_status}),e.jsx(me,{variant:Je(s.security_classification),children:s.security_classification})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[s.case_number&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Case Number:"})," ",s.case_number]}),s.crime_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Crime:"})," ",s.crime_committed]}),s.date_committed&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",s.date_committed]})]})]},c))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Physical Characteristics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[a.height&&a.weight&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Measurements:"})," ",a.height,"cm, ",a.weight,"kg"]}),a.build&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Build:"})," ",a.build]}),a.complexion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Complexion:"})," ",a.complexion]}),a.hair_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Hair Color:"})," ",a.hair_color]}),a.eye_color&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Eye Color:"})," ",a.eye_color]}),a.identification_marks&&a.mark_location&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marks:"})," ",a.identification_marks," (",a.mark_location,")"]})]})]})]})})]});default:return null}},$e=y/Q.length*100;return e.jsxs(Gs,{breadcrumbs:Ys,children:[e.jsx(Vs,{title:"Create PDL Information"}),e.jsxs("div",{className:"mx-auto w-full space-y-6 p-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create PDL Information"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Step ",y," of ",Q.length,": ",(Ke=Q[y-1])==null?void 0:Ke.description]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round($e),"% Complete"]})]}),e.jsx(Js,{value:$e,className:"w-full"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(r=>e.jsxs(x,{variant:y===r.id?"default":y>r.id?"secondary":"outline",size:"sm",onClick:()=>Ts(r.id),className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-background text-xs",children:r.id}),r.title]},r.id))}),e.jsxs("form",{onSubmit:Os,className:"space-y-6",children:[Es(),e.jsxs("div",{className:"flex items-center justify-between border-t pt-6",children:[e.jsx("div",{className:"flex gap-2",children:y>1&&e.jsx(x,{type:"button",variant:"outline",onClick:As,children:"Previous"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-red-500",children:"*"})," Required fields"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{type:"button",variant:"outline",onClick:()=>{We(),fe(void 0),Z(1),ee(0),se(0),ae(0),Le(),_([]),C([]),te(null),ue([]),le(null),be(!1),ne(!1)},disabled:je,children:"Reset Form"}),y<Q.length?e.jsx(x,{type:"button",onClick:Rs,children:"Next"}):e.jsx(x,{type:"submit",disabled:je,className:"min-w-[120px]",children:je?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),"Creating..."]}):"Create PDL Record"})]})]})]})]})]})}export{Fa as default};
