import{K as ss,r as c,m as ve,j as e,L as rs}from"./app-BPxrKEyb.js";import{A as pe,a as fe,b as ye,c as Ne}from"./accordion-CjrmIv4l.js";import{A as _e,a as be}from"./alert-Dy7BgFLC.js";import{B as k}from"./badge-CwiTgdPp.js";import{c as as,B as n}from"./button-CEMgu7CE.js";import{C as is,a as ts,b as ls,c as ns}from"./card-MY-iCpFz.js";import{C as S,a as D,b as A,c as P,d as T,e as cs,f as R}from"./command-o7QOI2e0.js";import{A as os,D as Q,a as X,b as Z,c as ee,d as se,X as Ce,P as E,e as O,f as L}from"./app-layout-B7fNkZnx.js";import{I as g}from"./input-CvRLkRAD.js";import{L as t}from"./label-BHAojcQv.js";import{R as ds,a as we}from"./radio-group-BSwB1R0I.js";import{S as ke,a as Se,b as De,c as Ae,d as _}from"./select-Dq-Ok0hR.js";import{T as Pe,a as Te,b,c as h,d as Re,e as o}from"./table-Da5D_Wo2.js";import{T as hs,a as ms,b as Ee,c as Oe}from"./tabs-DmUVZS3V.js";import{T as M}from"./textarea-C2McMECy.js";import{S as xs,F as us}from"./users-HviPfwPA.js";import{f as p}from"./format-B3rlCQGj.js";import{E as js}from"./eye-DJMTalI9.js";import{P as Le}from"./plus-Mt4T1DTm.js";import{C as U}from"./index-DXqzBNPn.js";import"./index-Bwm_JLZs.js";import"./index-D55dR1IO.js";import"./index-B8miVs9F.js";import"./index-xw3hog76.js";import"./user-DBhr3jVO.js";import"./scale-CeClP0FS.js";import"./circle-alert-BcedVOno.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],$=as("ArchiveRestore",gs),vs=[{title:"Dashboard",href:"/dashboard"},{title:"Archives",href:"/archives"}],ps=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}],fs=["Slim","Medium","Heavy","Athletic","Stocky","Muscular"],ys=["Fair","Light","Medium","Olive","Tan","Dark","Very Dark"],Ns=["Black","Brown","Blonde","Red","Auburn","Gray","White","Bald"],_s=["Brown","Black","Blue","Green","Hazel","Gray","Amber"];function Xs({archivedUsers:re,userRole:Me}){const{props:$e}=ss(),{flash:F,errors:V}=$e,[i,Fe]=c.useState(null),[Ve,z]=c.useState(!1),[Ie,I]=c.useState(!1),[u,G]=c.useState(null),[Be,B]=c.useState(!1),[m,W]=c.useState(null),[x,He]=c.useState(""),[f,C]=c.useState([]),[bs,ae]=c.useState(""),[Cs,ie]=c.useState(""),[te,le]=c.useState(!1),[y,J]=c.useState([]),[ne,ce]=c.useState(!1),[oe,Ue]=c.useState(!1),[de,he]=c.useState(!1),[me,xe]=c.useState(!1),{post:ze,processing:H}=ve(),{post:Ge,processing:w,data:ue,setData:v}=ve({cases:[{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}],physical_appearances:[{height:"",weight:"",hair_color:"",eye_color:"",distinguishing_marks:"",mark_location:"",remark:"",pc_remark:""}],unarchive_reason:"",unarchive_remarks:""}),je=s=>{G(s);const r=[{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}];C(r),ae(""),ie(""),v({cases:r,unarchive_reason:"",unarchive_remarks:""}),I(!0)},We=()=>{const s=[...f,{case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1}];C(s),v(r=>({...r,cases:s}))},Je=()=>{const s=[...y,{height:"",weight:"",hair_color:"",eye_color:"",distinguishing_marks:"",mark_location:"",remark:"",pc_remark:""}];J(s),v(r=>({...r,physical_appearances:s}))},Ye=s=>{y.length>1&&J(y.filter((r,a)=>a!==s))},qe=s=>{f.length>1&&C(f.filter((r,a)=>a!==s))},j=(s,r,a)=>{const l=[...f];l[s]={...l[s],[r]:a},C(l),v(N=>({...N,cases:l}))},d=(s,r,a)=>{const l=[...y];l[s]={...l[s],[r]:a},J(l),v(N=>({...N,physical_appearances:l}))},Ke=()=>{u&&Ge(route("user-pdl-archive.unarchive",u.id),{onSuccess:()=>{I(!1),G(null),C([]),ae(""),ie("")},onError:s=>{console.error("Unarchive errors:",s)}})},Qe=s=>{Fe(s),z(!0)},Xe=s=>{W(s),B(!0)},Ze=()=>{console.log("Personnel ID:",m.id),m&&ze(route("user-personnel-archive.restore",{personnelId:m.id}),{preserveScroll:!0,onSuccess:()=>{B(!1),W(null)},onError:s=>{console.error("Restore personnel errors:",s)}})},Y=re.pdls.filter(s=>{var r,a;return s.fname.toLowerCase().includes(x.toLowerCase())||s.lname.toLowerCase().includes(x.toLowerCase())||((r=s.alias)==null?void 0:r.toLowerCase().includes(x.toLowerCase()))||s.archive_status.toLowerCase().includes(x.toLowerCase())||((a=s.archive_case_number)==null?void 0:a.toLowerCase().includes(x.toLowerCase()))}),q=re.personnel.filter(s=>s.name.toLowerCase().includes(x.toLowerCase())||s.username.toLowerCase().includes(x.toLowerCase())||s.position.toLowerCase().includes(x.toLowerCase())||s.agency.toLowerCase().includes(x.toLowerCase())),ge=s=>({RELEASE:"Release Order",BAIL:"Bail Order",SERVED_SENTENCE:"Served Sentence",PROBATION:"Probation Order",PAROLE:"Parole Order",TRANSFER:"Transfer Order",OTHER:"Other Court Order"})[s]||s,K=s=>({BONDED:"bg-green-100 text-green-800",SERVED_SENTENCE:"bg-blue-100 text-blue-800",PROV_DISMISSED:"bg-yellow-100 text-yellow-800",DISMISSED:"bg-gray-100 text-gray-800",TRANSFER_TO_OTHER_FACILITY:"bg-purple-100 text-purple-800",DAPECOL:"bg-orange-100 text-orange-800",PROBATION:"bg-indigo-100 text-indigo-800",DECEASED:"bg-red-100 text-red-800",ACQUITTED:"bg-green-100 text-green-800"})[s]||"bg-gray-100 text-gray-800";return e.jsxs(os,{breadcrumbs:vs,children:[e.jsx(rs,{title:"Archived Users"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[(F==null?void 0:F.success)&&e.jsx(_e,{className:"border-green-200 bg-green-50",children:e.jsx(be,{className:"text-green-800",children:F.success})}),(V==null?void 0:V.error)&&e.jsx(_e,{className:"border-red-200 bg-red-50",children:e.jsx(be,{className:"text-red-800",children:V.error})}),e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Archived Users Management"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage all archived PDLs and Personnel records"})]}),e.jsx("div",{className:"flex gap-2"})]}),e.jsxs(is,{children:[e.jsx(ts,{className:"border-b p-4",children:e.jsxs("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsx(ls,{className:"text-lg",children:"Archived Records"}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(xs,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(g,{placeholder:"Search archives...",className:"pl-9",value:x,onChange:s=>He(s.target.value)})]})]})}),e.jsx(ns,{className:"p-0",children:e.jsxs(hs,{defaultValue:"pdls",className:"w-full",children:[e.jsxs(ms,{className:"w-full justify-start rounded-none border-b bg-transparent p-0",children:[e.jsxs(Ee,{value:"pdls",className:"relative h-12 rounded-none border-b-2 border-b-transparent data-[state=active]:border-b-primary data-[state=active]:bg-background data-[state=active]:shadow-none",children:["PDLs",e.jsx(k,{variant:"secondary",className:"ml-2",children:Y.length})]}),Me==="admin"&&e.jsxs(Ee,{value:"personnel",className:"relative h-12 rounded-none border-b-2 border-b-transparent data-[state=active]:border-b-primary data-[state=active]:bg-background data-[state=active]:shadow-none",children:["Personnel",e.jsx(k,{variant:"secondary",className:"ml-2",children:q.length})]})]}),e.jsx(Oe,{value:"pdls",className:"m-0",children:e.jsx("div",{className:"rounded-b-lg",children:e.jsxs(Pe,{children:[e.jsx(Te,{children:e.jsxs(b,{children:[e.jsx(h,{className:"w-[100px]",children:"ID"}),e.jsx(h,{children:"Name"}),e.jsx(h,{children:"Archive Status"}),e.jsx(h,{children:"Court Order Type"}),e.jsx(h,{children:"Case Number"}),e.jsx(h,{children:"Archived At"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(Re,{children:Y.length>0?Y.map(s=>e.jsxs(b,{className:"hover:bg-muted/50",children:[e.jsx(o,{className:"font-medium",children:s.id}),e.jsxs(o,{children:[e.jsxs("div",{className:"font-medium",children:[s.fname," ",s.lname]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.alias&&`Alias: ${s.alias}`,s.age&&` • Age: ${s.age}`,s.gender&&` • ${s.gender}`]})]}),e.jsx(o,{children:e.jsx(k,{className:K(s.archive_status),children:s.archive_status})}),e.jsx(o,{children:e.jsx("div",{className:"text-sm",children:ge(s.archive_court_order_type)})}),e.jsx(o,{children:e.jsx("div",{className:"font-mono text-sm",children:s.archive_case_number})}),e.jsx(o,{children:p(new Date(s.archived_at),"MMM dd, yyyy HH:mm")}),e.jsx(o,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(n,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>Qe(s),children:[e.jsx(js,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>je(s),disabled:w,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Restore"]})]})})]},`pdl-${s.id}`)):e.jsx(b,{children:e.jsx(o,{colSpan:7,className:"h-24 text-center",children:e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx($,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium",children:"No archived PDLs found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All PDL records are currently active"})]})})})})]})})}),e.jsx(Oe,{value:"personnel",className:"m-0",children:e.jsx("div",{className:"rounded-b-lg",children:e.jsxs(Pe,{children:[e.jsx(Te,{children:e.jsxs(b,{children:[e.jsx(h,{className:"w-[100px]",children:"ID"}),e.jsx(h,{children:"Name"}),e.jsx(h,{children:"Username"}),e.jsx(h,{children:"Position"}),e.jsx(h,{children:"Agency"}),e.jsx(h,{children:"Archived At"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(Re,{children:q.length>0?q.map(s=>e.jsxs(b,{className:"hover:bg-muted/50",children:[e.jsx(o,{className:"font-medium",children:s.id}),e.jsxs(o,{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.type})]}),e.jsx(o,{children:s.username}),e.jsx(o,{children:s.position}),e.jsx(o,{children:s.agency}),e.jsx(o,{children:p(new Date(s.deleted_at),"MMM dd, yyyy HH:mm")}),e.jsx(o,{className:"text-right",children:e.jsxs(n,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>Xe(s),disabled:H,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Restore"]})})]},`personnel-${s.id}`)):e.jsx(b,{children:e.jsx(o,{colSpan:7,className:"h-24 text-center",children:e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx($,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-medium",children:"No archived personnel found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All personnel records are currently active"})]})})})})]})})})]})})]}),e.jsx(Q,{open:Ve,onOpenChange:z,children:e.jsxs(X,{className:"max-w-4xl",children:[e.jsxs(Z,{children:[e.jsxs(ee,{children:["Archive Details - ",i==null?void 0:i.fname," ",i==null?void 0:i.lname]}),e.jsx(se,{children:"Complete archive information and court order documentation"})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",i.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",i.fname," ",i.lname]}),i.alias&&e.jsxs("div",{children:[e.jsx("strong",{children:"Alias:"})," ",i.alias]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Age:"})," ",i.age]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Gender:"})," ",i.gender]}),i.birthdate&&e.jsxs("div",{children:[e.jsx("strong",{children:"Birthdate:"})," ",p(new Date(i.birthdate),"MMM dd, yyyy")]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Archive Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Status:"}),e.jsx(k,{className:`ml-2 ${K(i.archive_status)}`,children:i.archive_status})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Reason:"})," ",i.archive_reason]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",p(new Date(i.archived_at),"MMM dd, yyyy HH:mm")]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Court Order Documentation"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Type:"})," ",ge(i.archive_court_order_type)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Case Number:"})," ",e.jsx("span",{className:"font-mono",children:i.archive_case_number})]}),i.archive_court_order_date&&e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Date:"})," ",p(new Date(i.archive_court_order_date),"MMM dd, yyyy HH:mm")]})]}),e.jsx("div",{className:"space-y-2",children:i.archive_court_order_file&&e.jsxs("div",{children:[e.jsx("strong",{children:"Court Order Document:"}),e.jsx("div",{className:"mt-2",children:e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>window.open(`/storage/${i.archive_court_order_file}`,"_blank"),children:[e.jsx(us,{className:"mr-2 h-4 w-4"}),"View Document"]})})]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 border-t pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>z(!1),children:"Close"}),e.jsxs(n,{onClick:()=>je(i),disabled:w,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Unarchive PDL"]})]})]})]})}),e.jsx(Q,{open:Ie,onOpenChange:I,children:e.jsxs(X,{className:"max-h-[90vh] overflow-auto",style:{width:"500px"},children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Confirm Unarchive"}),e.jsx(se,{children:"Are you sure you want to unarchive this PDL record?"})]}),u&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"PDL Information"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",u.fname," ",u.lname]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",u.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archive Status:"}),e.jsx(k,{className:`ml-2 ${K(u.archive_status)}`,children:u.archive_status})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",p(new Date(u.archived_at),"MMM dd, yyyy HH:mm")]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(t,{htmlFor:"unarchive_reason",children:["Reason for Unarchiving ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(M,{id:"unarchive_reason",value:ue.unarchive_reason,onChange:s=>v("unarchive_reason",s.target.value),placeholder:"Enter the reason for unarchiving this PDL...",rows:3})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"unarchive_remarks",children:"Additional Remarks"}),e.jsx(M,{id:"unarchive_remarks",value:ue.unarchive_remarks,onChange:s=>v("unarchive_remarks",s.target.value),placeholder:"Enter any additional remarks or notes...",rows:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"New Case Information"}),e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:We,className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"Add Case"]})]}),e.jsx(pe,{type:"single",collapsible:!0,className:"w-full",children:f.map((s,r)=>e.jsxs(fe,{value:`case-${r}`,children:[e.jsx(ye,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex w-full items-center justify-between pr-4",children:[e.jsxs("span",{children:["Case ",r+1]}),f.length>1&&e.jsx(n,{type:"button",variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),qe(r)},className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Ce,{className:"h-4 w-4"})})]})}),e.jsx(Ne,{children:e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs(t,{htmlFor:`case_number_${r}`,children:["Case Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:`case_number_${r}`,value:s.case_number,onChange:a=>j(r,"case_number",a.target.value),placeholder:"Enter case number"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs(t,{htmlFor:`crime_committed_${r}`,children:["Crime Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(E,{open:te,onOpenChange:le,children:[e.jsx(O,{asChild:!0,children:e.jsxs(n,{variant:"outline",role:"combobox","aria-expanded":te,className:"w-full justify-between",children:[s.crime_committed||"Select or type crime committed...",e.jsx(S,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(L,{className:"w-full p-0",align:"start",children:e.jsxs(D,{children:[e.jsx(A,{placeholder:"Search crimes or type custom...",value:s.crime_committed,onValueChange:a=>j(r,"crime_committed",a)}),e.jsxs(P,{children:[e.jsx(T,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No crime found. Press Enter to add "',s.crime_committed||"",'" as custom crime.']})}),ps.map(a=>e.jsx(cs,{heading:a.category,children:a.cases.map(l=>{var N;return e.jsxs(R,{value:l,onSelect:es=>{j(r,"crime_committed",es),le(!1)},children:[e.jsx(U,{className:`mr-2 h-4 w-4 ${((N=s.crime_committed)==null?void 0:N.crime_committed)===l?"opacity-100":"opacity-0"}`}),l]},l)})},a.category))]})]})})]})]}),e.jsxs("div",{children:[e.jsxs(t,{htmlFor:`date_committed_${r}`,children:["Date Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:`date_committed_${r}`,type:"date",value:s.date_committed,onChange:a=>j(r,"date_committed",a.target.value)})]}),e.jsxs("div",{children:[e.jsxs(t,{htmlFor:`time_committed_${r}`,children:["Time Committed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:`time_committed_${r}`,type:"time",value:s.time_committed,onChange:a=>j(r,"time_committed",a.target.value)})]}),e.jsxs("div",{children:[e.jsxs(t,{htmlFor:`case_status_${r}`,children:["Case Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ke,{value:s.case_status,onValueChange:a=>j(r,"case_status",a),children:[e.jsx(Se,{children:e.jsx(De,{placeholder:"Select case status"})}),e.jsxs(Ae,{children:[e.jsx(_,{value:"on_trial",children:"On Trial"}),e.jsx(_,{value:"convicted",children:"Convicted"})]})]})]}),e.jsxs("div",{children:[e.jsxs(t,{htmlFor:`security_classification_${r}`,children:["Security Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ke,{value:s.security_classification,onValueChange:a=>j(r,"security_classification",a),children:[e.jsx(Se,{children:e.jsx(De,{placeholder:"Select classification"})}),e.jsxs(Ae,{children:[e.jsx(_,{value:"low",children:"Low"}),e.jsx(_,{value:"medium",children:"Medium"}),e.jsx(_,{value:"high",children:"High"}),e.jsx(_,{value:"maximum",children:"Maximum"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Drug Related"}),e.jsxs(ds,{value:s.drug_related?"yes":"no",onValueChange:a=>j(r,"drug_related",a==="yes"),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(we,{value:"yes",id:`drug_yes_${r}`}),e.jsx(t,{htmlFor:`drug_yes_${r}`,children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(we,{value:"no",id:`drug_no_${r}`}),e.jsx(t,{htmlFor:`drug_no_${r}`,children:"No"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`case_remarks_${r}`,children:"Case Remarks"}),e.jsx(M,{id:`case_remarks_${r}`,value:s.case_remarks,onChange:a=>j(r,"case_remarks",a.target.value),placeholder:"Enter case-related remarks...",rows:3})]})]})})]},r))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Updated Physical Appearance"}),e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:Je,className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"Add Physical Appearance"]})]}),e.jsx(pe,{type:"single",collapsible:!0,className:"w-full",children:y.map((s,r)=>e.jsxs(fe,{value:`appearance-${r}`,children:[e.jsx(ye,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex w-full items-center justify-between pr-4",children:[e.jsxs("span",{children:["Appearance ",r+1]}),y.length>1&&e.jsx(n,{type:"button",variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),Ye(r)},className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(Ce,{className:"h-4 w-4"})})]})}),e.jsx(Ne,{children:e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:`height_${r}`,children:"Height (cm)"}),e.jsx(g,{id:`height_${r}`,type:"number",value:s.height,onChange:a=>d(r,"height",a.target.value),placeholder:"Enter height in cm"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`weight_${r}`,children:"Weight (kg)"}),e.jsx(g,{id:`weight_${r}`,type:"number",value:s.weight,onChange:a=>d(r,"weight",a.target.value),placeholder:"Enter weight in kg"})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`build_${r}`,children:"Build"}),e.jsxs(E,{open:ne,onOpenChange:ce,children:[e.jsx(O,{asChild:!0,children:e.jsxs(n,{variant:"outline",role:"combobox","aria-expanded":ne,className:"w-full justify-between",children:[s.build||"Select or type build...",e.jsx(S,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(L,{className:"w-full p-0",align:"start",children:e.jsxs(D,{children:[e.jsx(A,{placeholder:"Search builds or type custom...",value:s.build,onValueChange:a=>d(r,"build",a)}),e.jsxs(P,{children:[e.jsx(T,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No build found. Press Enter to add "',s.build||"",'" as custom build.']})}),fs.map(a=>e.jsxs(R,{value:a,onSelect:l=>{d(r,"build",l),ce(!1)},children:[e.jsx(U,{className:`mr-2 h-4 w-4 ${s.build===a?"opacity-100":"opacity-0"}`}),a]},a))]})]})})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`complexion_${r}`,children:"Complexion"}),e.jsxs(E,{open:oe,onOpenChange:Ue,children:[e.jsx(O,{asChild:!0,children:e.jsxs(n,{variant:"outline",role:"combobox","aria-expanded":oe,className:"w-full justify-between",children:[s.complexion||"Select or type complexion...",e.jsx(S,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(L,{className:"w-full p-0",align:"start",children:e.jsxs(D,{children:[e.jsx(A,{placeholder:"Search complexions or type custom...",value:s.complexion,onValueChange:a=>d(r,"complexion",a)}),e.jsxs(P,{children:[e.jsx(T,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No complexion found. Press Enter to add "',s.complexion||"",'" as custom complexion.']})}),ys.map(a=>e.jsx(R,{onSelect:()=>d(r,"complexion",a),children:a},a))]})]})})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`hair_color_${r}`,children:"Hair Color"}),e.jsxs(E,{open:de,onOpenChange:he,children:[e.jsx(O,{asChild:!0,children:e.jsxs(n,{variant:"outline",role:"combobox","aria-expanded":de,className:"w-full justify-between",children:[s.hair_color||"Select or type hair color...",e.jsx(S,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(L,{className:"w-full p-0",align:"start",children:e.jsxs(D,{children:[e.jsx(A,{placeholder:"Search hair colors or type custom...",value:s.hair_color,onValueChange:a=>d(r,"hair_color",a)}),e.jsxs(P,{children:[e.jsx(T,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No hair color found. Press Enter to add "',s.hair_color||"",'" as custom hair color.']})}),Ns.map(a=>e.jsxs(R,{value:a,onSelect:l=>{d(r,"hair_color",l),he(!1)},children:[e.jsx(U,{className:`mr-2 h-4 w-4 ${s.hair_color===a?"opacity-100":"opacity-0"}`}),a]},a))]})]})})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`eye_color_${r}`,children:"Eye Color"}),e.jsxs(E,{open:me,onOpenChange:xe,children:[e.jsx(O,{asChild:!0,children:e.jsxs(n,{variant:"outline",role:"combobox","aria-expanded":me,className:"w-full justify-between",children:[s.eye_color||"Select or type eye color...",e.jsx(S,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(L,{className:"w-full p-0",align:"start",children:e.jsxs(D,{children:[e.jsx(A,{placeholder:"Search eye colors or type custom...",value:s.eye_color,onValueChange:a=>d(r,"eye_color",a)}),e.jsxs(P,{children:[e.jsx(T,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No eye color found. Press Enter to add "',s.eye_color||"",'" as custom eye color.']})}),_s.map(a=>e.jsxs(R,{value:a,onSelect:l=>{d(r,"eye_color",l),xe(!1)},children:[e.jsx(U,{className:`mr-2 h-4 w-4 ${s.eye_color===a?"opacity-100":"opacity-0"}`}),a]},a))]})]})})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`identification_marks_${r}`,children:"Identification Marks"}),e.jsx(g,{id:`identification_marks_${r}`,value:s.identification_marks,onChange:a=>d(r,"identification_marks",a.target.value),placeholder:"Enter identification marks"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`mark_location_${r}`,children:"Mark Location"}),e.jsx(g,{id:`mark_location_${r}`,value:s.mark_location,onChange:a=>d(r,"mark_location",a.target.value),placeholder:"Enter mark location"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`remark_${r}`,children:"Remark"}),e.jsx(M,{id:`remark_${r}`,value:s.remark,onChange:a=>d(r,"remark",a.target.value),placeholder:"Enter remark",rows:2})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:`pc_remark_${r}`,children:"PC Remark"}),e.jsx(M,{id:`pc_remark_${r}`,value:s.pc_remark,onChange:a=>d(r,"pc_remark",a.target.value),placeholder:"Enter PC remark",rows:2})]})]})})]},r))})]}),e.jsx("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This action will restore the PDL record to active status and remove all archive information. The PDL will appear in the main list again."})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(n,{variant:"outline",onClick:()=>{I(!1),G(null)},disabled:w,children:"Cancel"}),e.jsx(n,{onClick:Ke,disabled:w,className:"bg-red-600 hover:bg-red-700",children:w?"Unarchiving...":"Yes, Unarchive PDL"})]})]})]})}),e.jsx(Q,{open:Be,onOpenChange:B,children:e.jsxs(X,{className:"max-w-md",children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Confirm Restore Personnel"}),e.jsx(se,{children:"Are you sure you want to restore this personnel record?"})]}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-md bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold text-gray-900",children:"Personnel Information"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Name:"})," ",m.name]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",m.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Username:"})," ",m.username]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Position:"})," ",m.position]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agency:"})," ",m.agency]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Archived At:"})," ",p(new Date(m.deleted_at),"MMM dd, yyyy HH:mm")]})]})]}),e.jsx("div",{className:"rounded-md border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"This action will restore the personnel record to active status. The personnel will be able to log in again and access the system."})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(n,{variant:"outline",onClick:()=>{B(!1),W(null)},disabled:H,children:"Cancel"}),e.jsx(n,{onClick:Ze,disabled:H,className:"bg-green-600 hover:bg-green-700",children:H?"Restoring...":"Yes, Restore Personnel"})]})]})]})})]})]})}export{Xs as default};
