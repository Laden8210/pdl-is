import{j as e,r as T,m as M,K as I,L as w,S as V}from"./app-CJ7vQp5P.js";import{D as A}from"./data-table-DwAMFV8X.js";import{C as L,a as E,b as R,c as O}from"./card-Bk1DPVIi.js";import{I as x}from"./input-CoADrEhP.js";import{L as t}from"./label-BdEYq_MD.js";import{D as B,f as K,a as H,b as q,c as G,d as U,P as W,i as z,j as J,g as $,h as Y,A as Q}from"./app-layout-BSADAU8c.js";import{B as d}from"./button-JuNy8yTN.js";import{D as X,a as Z,E as ee,b as se,c as ae,d as D}from"./dropdown-menu-D4zFh63z.js";import{B as S}from"./badge-Od7wF_tz.js";import{f as re}from"./format-CpNbv1J2.js";import{A as p,b as j,a as f}from"./alert-DvxkmZw_.js";import{S as C,a as y,b as v,c as _,d as o}from"./select-BbZpZNvE.js";import{T as ie}from"./textarea-lbMZACOl.js";import{C as te,a as ne,b as ce,c as oe,d as le,e as de,f as me}from"./command-JNg4Qe8E.js";import{R as ue,a as N}from"./radio-group-CFoo9f-a.js";import{C as he}from"./index-BgOt399W.js";import"./table-BJRyvAzJ.js";import"./index-DVLwPzk4.js";import"./users-DI3xSBB3.js";import"./user-KkcFiOwu.js";import"./scale-DNT5gMvW.js";import"./eye-BZq_hsp3.js";import"./index-BCAXNhyI.js";const xe=[{accessorKey:"case_number",header:"Case Number"},{accessorKey:"crime_committed",header:"Crime Committed"},{accessorKey:"date_committed",header:"Date Committed",cell:({row:a})=>re(new Date(a.original.date_committed),"MMM dd, yyyy")},{accessorKey:"time_committed",header:"Time Committed"},{accessorKey:"case_status",header:"Status",cell:({row:a})=>e.jsx(S,{variant:a.original.case_status==="open"?"default":"destructive",children:a.original.case_status.toUpperCase()})},{id:"pdl",header:"PDL",cell:({row:a})=>{const n=a.original.pdl;return n?`${n.fname} ${n.lname}`:`ID: ${a.original.pdl_id}`}},{accessorKey:"security_classification",header:"Security Classification"},{accessorKey:"drug_related",header:"Drug Related",cell:({row:a})=>e.jsx(S,{variant:a.original.drug_related?"destructive":"secondary",children:a.original.drug_related?"Yes":"No"})},{id:"actions",header:"Actions",cell:({row:a})=>{const n=a.original;return e.jsxs(X,{children:[e.jsx(Z,{asChild:!0,children:e.jsxs(d,{variant:"ghost",size:"icon",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(ee,{className:"h-4 w-4"})]})}),e.jsxs(se,{align:"end",children:[e.jsx(ae,{children:"Actions"}),e.jsx(D,{asChild:!0}),e.jsx(D,{onClick:()=>console.log("Delete case",n.case_id),className:"text-red-500",children:"Delete"})]})]})}}],ge=[{category:"Violent Crimes",cases:["Murder","Homicide","Manslaughter","Assault","Battery","Robbery","Armed Robbery","Kidnapping","Abduction","Rape","Sexual Assault","Domestic Violence","Child Abuse","Elder Abuse","Hate Crime","Terrorism","Mass Shooting","Gang Violence"]},{category:"Property Crimes",cases:["Theft","Burglary","Larceny","Embezzlement","Fraud","Identity Theft","Credit Card Fraud","Insurance Fraud","Tax Evasion","Money Laundering","Arson","Vandalism","Trespassing","Shoplifting","Auto Theft","Grand Theft","Petty Theft"]},{category:"Drug Crimes",cases:["Drug Possession","Drug Trafficking","Drug Manufacturing","Drug Distribution","Drug Importation","Prescription Drug Fraud","Drug Paraphernalia","Marijuana Possession","Cocaine Possession","Heroin Possession","Methamphetamine","Ecstasy","LSD","Synthetic Drugs"]},{category:"White Collar Crimes",cases:["Corporate Fraud","Securities Fraud","Bank Fraud","Wire Fraud","Mail Fraud","Internet Fraud","Ponzi Scheme","Insider Trading","Bribery","Corruption","Extortion","Racketeering","Organized Crime","Cybercrime","Identity Theft","Forgery","Counterfeiting"]},{category:"Traffic Violations",cases:["DUI/DWI","Reckless Driving","Hit and Run","Driving Without License","Driving Under Suspension","Speeding","Running Red Light","Illegal Parking","Vehicle Registration Violation","Driving Without Insurance","Vehicular Manslaughter","Street Racing"]},{category:"Public Order Crimes",cases:["Disorderly Conduct","Public Intoxication","Disturbing the Peace","Loitering","Prostitution","Solicitation","Public Indecency","Trespassing","Vagrancy","Panhandling","Noise Violation","Public Nuisance","Obstruction of Justice","Resisting Arrest","Escape from Custody"]},{category:"Juvenile Crimes",cases:["Truancy","Curfew Violation","Underage Drinking","Underage Smoking","Graffiti","Vandalism","Shoplifting","Fighting","Bullying","Cyberbullying","Sexting","Gang Activity"]},{category:"Federal Crimes",cases:["Tax Evasion","Immigration Violation","Customs Violation","Border Crossing","Human Trafficking","Drug Trafficking","Weapons Trafficking","Terrorism","Espionage","Treason","Sedition","Federal Fraud","Bank Robbery","Postal Crime","Interstate Crime"]},{category:"Other Crimes",cases:["Contempt of Court","Perjury","Obstruction of Justice","Escape","Parole Violation","Probation Violation","Failure to Appear","Bail Jumping","Witness Tampering","Jury Tampering","Election Fraud","Environmental Crime","Animal Cruelty","Stalking","Harassment"]}];function pe({pdls:a}){const[n,h]=T.useState(!1),{data:r,setData:i,post:g,processing:m,errors:l,reset:u}=M({case_number:"",crime_committed:"",date_committed:"",time_committed:"",case_status:"open",case_remarks:"",security_classification:"medium",drug_related:!1,pdl_id:""}),P=s=>{s.preventDefault(),g(route("case-information.store"),{preserveScroll:!0,onSuccess:()=>u()})},{props:F}=I(),b=F.success;return e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Create Case"})}),e.jsxs(H,{className:"sm:max-w-3xl",children:[e.jsxs(q,{children:[e.jsx(G,{children:"Create Case Information"}),e.jsx(U,{children:"Fill in the details for the new case."})]}),Object.keys(l).length>0&&e.jsxs(p,{variant:"destructive",className:"mt-4 mb-4",children:[e.jsx(j,{children:"Unable to process request"}),e.jsx(f,{children:e.jsx("ul",{className:"list-inside list-disc text-sm",children:Object.values(l).map((s,c)=>e.jsx("li",{children:s},c))})})]}),b&&e.jsxs(p,{variant:"default",className:"mb-4",children:[e.jsx(j,{children:"Success"}),e.jsx(f,{children:b})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[Object.keys(l).length>0&&e.jsxs(p,{variant:"destructive",children:[e.jsx(j,{children:"Error"}),e.jsx(f,{children:e.jsx("ul",{className:"list-inside list-disc",children:Object.values(l).map((s,c)=>e.jsx("li",{children:s},c))})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"case_number",children:"Case Number"}),e.jsx(x,{id:"case_number",value:r.case_number,onChange:s=>i("case_number",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"crime_committed",children:"Crime Committed"}),e.jsxs(W,{open:n,onOpenChange:h,children:[e.jsx(z,{asChild:!0,children:e.jsxs(d,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between",children:[r.crime_committed||"Select or type crime committed...",e.jsx(te,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(J,{className:"w-full p-0",align:"start",children:e.jsxs(ne,{children:[e.jsx(ce,{placeholder:"Search crimes or type custom...",value:r.crime_committed,onValueChange:s=>i("crime_committed",s)}),e.jsxs(oe,{children:[e.jsx(le,{children:e.jsxs("div",{className:"p-2 text-sm text-muted-foreground",children:['No crime found. Press Enter to add "',r.crime_committed,'" as custom crime.']})}),ge.map(s=>e.jsx(de,{heading:s.category,children:s.cases.map(c=>e.jsxs(me,{value:c,onSelect:k=>{i("crime_committed",k),h(!1)},children:[e.jsx(he,{className:`mr-2 h-4 w-4 ${r.crime_committed===c?"opacity-100":"opacity-0"}`}),c]},c))},s.category))]})]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Select from common crimes or type a custom crime description"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"date_committed",children:"Date Committed"}),e.jsx(x,{type:"date",value:r.date_committed,onChange:s=>i("date_committed",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"time_committed",children:"Time Committed"}),e.jsx(x,{type:"time",value:r.time_committed,onChange:s=>i("time_committed",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"case_status",children:"Case Status"}),e.jsxs(C,{value:r.case_status,onValueChange:s=>i("case_status",s),required:!0,children:[e.jsx(y,{children:e.jsx(v,{placeholder:"Select status"})}),e.jsxs(_,{children:[e.jsx(o,{value:"open",children:"Open"}),e.jsx(o,{value:"closed",children:"Closed"}),e.jsx(o,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"security_classification",children:"Security Classification"}),e.jsxs(C,{value:r.security_classification,onValueChange:s=>i("security_classification",s),required:!0,children:[e.jsx(y,{children:e.jsx(v,{placeholder:"Select classification"})}),e.jsxs(_,{children:[e.jsx(o,{value:"low",children:"Low"}),e.jsx(o,{value:"medium",children:"Medium"}),e.jsx(o,{value:"high",children:"High"}),e.jsx(o,{value:"maximum",children:"Maximum"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Drug Related Case"}),e.jsxs(ue,{value:r.drug_related.toString(),onValueChange:s=>i("drug_related",s==="true"),className:"flex flex-row space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{value:"true",id:"drug_related_yes"}),e.jsx(t,{htmlFor:"drug_related_yes",className:"text-sm font-normal",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{value:"false",id:"drug_related_no"}),e.jsx(t,{htmlFor:"drug_related_no",className:"text-sm font-normal",children:"No"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Indicate if this case is related to drug offenses"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"PDL (Person Deprived of Liberty)"}),e.jsxs(C,{value:r.pdl_id,onValueChange:s=>i("pdl_id",s),required:!0,children:[e.jsx(y,{children:e.jsx(v,{placeholder:"Select a PDL"})}),e.jsx(_,{children:a.map(s=>e.jsxs(o,{value:s.id.toString(),children:[s.fname," ",s.lname," (ID: ",s.id,")"]},s.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"case_remarks",children:"Remarks"}),e.jsx(ie,{id:"case_remarks",value:r.case_remarks,onChange:s=>i("case_remarks",s.target.value),rows:3})]}),e.jsxs($,{children:[e.jsx(Y,{asChild:!0,children:e.jsx(d,{variant:"outline",children:"Cancel"})}),e.jsx(d,{type:"submit",disabled:m,children:m?"Creating...":"Create Case"})]})]})]})]})}const je=[{title:"Case Information Management",href:"/case-information"}];function Ke(){const{props:a}=I(),{cases:n,pdls:h,filters:r}=a,[i,g]=T.useState((r==null?void 0:r.search)||""),m=()=>{V.get("/case-information",{search:i},{preserveState:!0,replace:!0})},l=u=>{u.key==="Enter"&&m()};return e.jsxs(Q,{breadcrumbs:je,children:[e.jsx(w,{title:"Case Information Management"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Case Information Management"}),e.jsxs(L,{children:[e.jsx(E,{children:e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Case Information List"}),e.jsx(pe,{pdls:h})]})})}),e.jsxs(O,{children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-4",children:[e.jsx(t,{htmlFor:"search",className:"text-sm font-medium",children:"Search Cases"}),e.jsx(x,{id:"search",placeholder:"Search by case number, crime, PDL name, etc.",className:"w-64 md:w-96",value:i,onChange:u=>g(u.target.value),onKeyDown:l}),e.jsx(d,{variant:"outline",onClick:m,children:"Search"})]}),e.jsx(A,{data:n,columns:xe})]})]})]})]})}export{Ke as default};
